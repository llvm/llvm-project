# This script combines FIRLangRef_Header.md with the auto-generated Dialect/FIRLangRef.md
# for the purpose of creating an introduction header/paragraph for FIRLangRef.html

# These paths are relative from the build directroy, not source, as that's where this tool is exectued.
header_path = 'Source/FIR/FIRLangRef_Header.md'
docs_path   = 'Dialect/FIRLangRef.md'
output_path = 'Source/FIRLangRef.md'

# 1. Writes line 1 from docs to output, (comment line that the file is autogenerated)
# 2. Adds a new line
# 3. Writes the entire header to the output file
# 4. Writes the remainder of docs to the output file
with open(output_path, 'w') as output:
    with open(header_path, 'r') as header, open(docs_path, 'r') as docs:
        output.write(docs.readline())
        output.write("\n")
        output.write(header.read())
        output.write(docs.read())
