from lit.llvm import llvm_config

llvm_config.use_clang(required=False)
if llvm_config.config.clang:
    config.available_features.add("clang")
    clangxx = next((subst for subst in llvm_config.config.substitutions
        if "clangxx" in subst[0]), None)
    config.substitutions.append(clangxx)

# Include path for C headers that define Flang's Fortran ABI.
config.substitutions.append(
    ("%include", os.path.join(config.flang_source_dir, "include"))
)
