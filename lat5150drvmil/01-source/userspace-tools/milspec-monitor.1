.TH MILSPEC-MONITOR 1 "July 2025" "Dell MIL-SPEC Utilities" "User Commands"
.SH NAME
milspec-monitor \- Event monitor for Dell MIL-SPEC subsystem
.SH SYNOPSIS
.B milspec-monitor
[\fIOPTIONS\fR]
.SH DESCRIPTION
.B milspec-monitor
is a real-time event monitoring utility for the Dell military specification
hardware subsystem. It can monitor both sysfs attributes and the character
device interface to display security events, mode changes, and system
status updates.
.SH OPTIONS
.TP
.B \-d, \-\-device \fIPATH\fR
Specify the character device path (default: /dev/milspec)
.TP
.B \-m, \-\-mode \fIMODE\fR
Set monitoring mode:
.RS
.TP
.B sysfs
Monitor only sysfs attribute changes
.TP
.B chardev
Monitor only character device events
.TP
.B both
Monitor both interfaces (default)
.RE
.TP
.B \-s, \-\-status
Display current MIL-SPEC status and exit
.TP
.B \-t, \-\-timestamp
Show timestamps for each event
.TP
.B \-c, \-\-color
Enable colored output for different event types
.TP
.B \-l, \-\-log \fIFILE\fR
Log events to the specified file
.TP
.B \-v, \-\-verbose
Enable verbose output with additional event details
.TP
.B \-h, \-\-help
Display help message and exit
.SH EVENT TYPES
The monitor displays various event types with different colors when
color output is enabled:
.TP
.B BOOT
System boot and initialization events (cyan)
.TP
.B ACTIVATION
Feature activation events (green)
.TP
.B MODE_CHANGE
Security mode changes (yellow)
.TP
.B ERROR
Error conditions (red)
.TP
.B SECURITY
Security-related events (magenta)
.TP
.B INTRUSION
Physical intrusion detection (magenta)
.TP
.B CRYPTO
Cryptographic hardware events (cyan)
.SH FILES
.TP
.I /dev/milspec
Character device for event monitoring
.TP
.I /sys/devices/platform/dell-milspec/
Sysfs attributes monitored for changes:
.RS
.TP
.I activation_log
Activation history and status
.TP
.I mode5
Mode 5 security level
.TP
.I dsmil
DSMIL subsystem status
.TP
.I crypto_status
Hardware crypto chip status
.RE
.SH EXAMPLES
.TP
Monitor with timestamps and color:
.B milspec-monitor -tc
.TP
Monitor character device only, log to file:
.B milspec-monitor -m chardev -l /var/log/milspec.log
.TP
Show current status:
.B milspec-monitor -s
.TP
Full monitoring with all options:
.B milspec-monitor -tcvl events.log
.SH SIGNALS
.TP
.B SIGINT, SIGTERM
Cleanly shutdown the monitor and close all resources
.SH EXIT STATUS
.TP
.B 0
Success or clean shutdown
.TP
.B 1
Error occurred during operation
.SH SYSTEMD INTEGRATION
The monitor can be run as a systemd service using the provided
milspec-monitor.service unit file. To enable:

.nf
systemctl enable milspec-monitor.service
systemctl start milspec-monitor.service
.fi
.SH SEE ALSO
.BR milspec-control (1),
.BR dell-milspec (4),
.BR systemd.service (5)
.SH AUTHOR
Written for the Dell MIL-SPEC subsystem driver project.
.SH REPORTING BUGS
Report bugs to your system administrator or Dell Enterprise Support.
