{
  "metadata": {
    "timestamp": "2025-09-02T05:28:02.059224+00:00",
    "system": "Dell Latitude 5450 MIL-SPEC",
    "validation_version": "1.0",
    "phase": "Phase 2 Deployment"
  },
  "health_score": {
    "overall_score": 0.6367261904761905,
    "component_scores": {
      "TPM": 0.3333333333333333,
      "ML": 0.7666666666666666,
      "Devices": 0.8035714285714286,
      "Agents": 0.625,
      "Performance": 0.75
    },
    "total_tests": 18,
    "passed_tests": 10,
    "failed_tests": 4,
    "warning_tests": 4,
    "critical_failures": [
      "TPM.device_activation: Test failed with exception: name 'tmp_report' is not defined",
      "TPM.ecc_performance: ECC signing failed: b'WARNING:esys:src/tss2-esys/api/Esys_ReadPublic.c:320:Esys_ReadPublic_Finish() Received TPM Error \\nERROR:esys:src/tss2-esys/esys_tr.c:278:Esys_TR_FromTPMPublic_Finish() Error ReadPublic ErrorCode (0x0000018b) \\nERROR:esys:src/tss2-esys/esys_tr.c:398:Esys_TR_FromTPMPublic() Error TR FromTPMPublic ErrorCode (0x0000018b) \\nERROR: Esys_TR_FromTPMPublic(0x18B) - tpm:handle(1):the handle is not correct for the use\\nERROR: Invalid key authorization\\nERROR: Unable to run tpm2_sign\\n'"
    ],
    "recommendations": [
      "TPM integration needs attention - verify device 0x8005 activation",
      "Agent coordination problems - check Tandem Orchestrator status",
      "\u274c System not ready for deployment - major issues need resolution"
    ]
  },
  "detailed_results": [
    {
      "component": "TPM",
      "test_name": "device_activation",
      "status": "FAIL",
      "score": 0.0,
      "message": "Test failed with exception: name 'tmp_report' is not defined",
      "details": {
        "exception": "name 'tmp_report' is not defined",
        "type": "NameError"
      },
      "duration_ms": 0.09822845458984375,
      "timestamp": "2025-09-02T05:28:02.059460+00:00"
    },
    {
      "component": "TPM",
      "test_name": "pcr_extension",
      "status": "PASS",
      "score": 1.0,
      "message": "PCR 16 extended for DSMIL",
      "details": {
        "pcr16_value": "sha256:\n    16: 0xE0813385DD95673CD04CAD4C6739A8C9811FCD4628477D0EED650B2F7FA7A613"
      },
      "duration_ms": 11.109113693237305,
      "timestamp": "2025-09-02T05:28:02.059596+00:00"
    },
    {
      "component": "TPM",
      "test_name": "ecc_performance",
      "status": "FAIL",
      "score": 0.0,
      "message": "ECC signing failed: b'WARNING:esys:src/tss2-esys/api/Esys_ReadPublic.c:320:Esys_ReadPublic_Finish() Received TPM Error \\nERROR:esys:src/tss2-esys/esys_tr.c:278:Esys_TR_FromTPMPublic_Finish() Error ReadPublic ErrorCode (0x0000018b) \\nERROR:esys:src/tss2-esys/esys_tr.c:398:Esys_TR_FromTPMPublic() Error TR FromTPMPublic ErrorCode (0x0000018b) \\nERROR: Esys_TR_FromTPMPublic(0x18B) - tpm:handle(1):the handle is not correct for the use\\nERROR: Invalid key authorization\\nERROR: Unable to run tpm2_sign\\n'",
      "details": {
        "sign_duration_ms": 95.52693367004395,
        "target_ms": 50.0,
        "error": "WARNING:esys:src/tss2-esys/api/Esys_ReadPublic.c:320:Esys_ReadPublic_Finish() Received TPM Error \nERROR:esys:src/tss2-esys/esys_tr.c:278:Esys_TR_FromTPMPublic_Finish() Error ReadPublic ErrorCode (0x0000018b) \nERROR:esys:src/tss2-esys/esys_tr.c:398:Esys_TR_FromTPMPublic() Error TR FromTPMPublic ErrorCode (0x0000018b) \nERROR: Esys_TR_FromTPMPublic(0x18B) - tpm:handle(1):the handle is not correct for the use\nERROR: Invalid key authorization\nERROR: Unable to run tpm2_sign\n"
      },
      "duration_ms": 95.5667495727539,
      "timestamp": "2025-09-02T05:28:02.070786+00:00"
    },
    {
      "component": "ML",
      "test_name": "database_connection",
      "status": "WARN",
      "score": 0.3,
      "message": "Port accessible but connection failed: connection to server at \"localhost\" (127.0.0.1), port 5433 failed: FATAL:  could not open file \"global/pg_filenode.map\": Permission denied\n",
      "details": {
        "port_5433": "accessible",
        "postgres_error": "connection to server at \"localhost\" (127.0.0.1), port 5433 failed: FATAL:  could not open file \"global/pg_filenode.map\": Permission denied\n"
      },
      "duration_ms": 10.09511947631836,
      "timestamp": "2025-09-02T05:28:02.166507+00:00"
    },
    {
      "component": "ML",
      "test_name": "vector_embeddings",
      "status": "PASS",
      "score": 1.0,
      "message": "512-dim vector embeddings functional",
      "details": {
        "embedding_dimension": 512,
        "embedding_dtype": "float32",
        "dot_product": 166.28323364257812,
        "norm": 12.895085334777832
      },
      "duration_ms": 63.19117546081543,
      "timestamp": "2025-09-02T05:28:02.176728+00:00"
    },
    {
      "component": "ML",
      "test_name": "learning_connector",
      "status": "PASS",
      "score": 1.0,
      "message": "Learning connector available and importable",
      "details": {
        "connector_file": "/home/john/LAT5150DRVMIL/infrastructure/learning/enhanced_learning_connector.py",
        "import_success": true
      },
      "duration_ms": 315.39034843444824,
      "timestamp": "2025-09-02T05:28:02.240116+00:00"
    },
    {
      "component": "Devices",
      "test_name": "phase2_discovery",
      "status": "WARN",
      "score": 0.7142857142857143,
      "message": "5/7 Phase 2 devices discovered",
      "details": {
        "risk_database_loaded": true,
        "total_devices_in_db": 26,
        "discovered_devices": [
          {
            "device_id": "0x8005",
            "name": "TPM Interface Controller",
            "risk_level": "MODERATE",
            "confidence": 70
          },
          {
            "device_id": "0x8008",
            "name": "Pre-Wipe Controller",
            "risk_level": "HIGH",
            "confidence": 75
          },
          {
            "device_id": "0x8011",
            "name": "Unknown Extended Security",
            "risk_level": "UNKNOWN",
            "confidence": 30
          },
          {
            "device_id": "0x8013",
            "name": "Unknown Extended Security",
            "risk_level": "UNKNOWN",
            "confidence": 30
          },
          {
            "device_id": "0x8014",
            "name": "Unknown Extended Security",
            "risk_level": "UNKNOWN",
            "confidence": 30
          }
        ],
        "discovery_count": 5,
        "target_count": 7
      },
      "duration_ms": 0.16951560974121094,
      "timestamp": "2025-09-02T05:28:02.555622+00:00"
    },
    {
      "component": "Devices",
      "test_name": "smi_interface",
      "status": "WARN",
      "score": 0.5,
      "message": "SMI interface test inconclusive",
      "details": {
        "dsmil_module_loaded": true,
        "loaded_modules": [
          "dsmil_72dev            61440  0",
          "dell_pc                12288  0",
          "platform_profile       20480  1 dell_pc",
          "dell_rbtn              20480  0",
          "dell_rbu               20480  0",
          "dell_laptop            40960  0",
          "dell_wmi               28672  1 dell_laptop",
          "dell_smbios            36864  3 dell_wmi,dell_pc,dell_laptop",
          "dell_smm_hwmon         36864  0",
          "dell_wmi_ddv           24576  0",
          "dcdbas                 20480  1 dell_smbios",
          "dell_wmi_sysman        49152  0",
          "firmware_attributes_class    12288  1 dell_wmi_sysman",
          "dell_wmi_descriptor    20480  2 dell_wmi,dell_smbios",
          "sparse_keymap          12288  2 intel_hid,dell_wmi",
          "video                  77824  4 dell_wmi,dell_laptop,xe,i915",
          "wmi                    28672  8 dell_wmi_sysman,video,dell_wmi_ddv,dell_wmi,wmi_bmof,dell_smm_hwmon,dell_smbios,dell_wmi_descriptor"
        ],
        "smi_test_output": "============================================================\nDIRECT SMI TOKEN ACCESS TESTING\n============================================================\nSince no DSMIL structures were found in memory,\nwe'll try direct SMI commands to control tokens.\n\n\ud83d\udccd Checking mapped memory regions...\nMemory regions found:\n  \u2713 52000000-687fffff : Reserved\nModule info: dsmil_72dev 61440 0 - Live 0xffffffffc266f000 (OE)\n\n\ud83d\udd0d Probing DSMIL memory region directly...\nDSMIL memory at 0x52000000:\n  [0x52000000]: 0xFFFFFFFF\n  [0x52000004]: 0xFFFFFFFF\n  [0x52000008]: 0xFFFFFFFF\n  [0x5200000C]: 0xFFFFFFFF\n  [0x52000010]: 0xFFFFFFFF\n  [0x52000014]: 0xFFFFFFFF\n  [0x52000018]: 0xFFFFFFFF\n  [0x5200001C]: 0xFFFFFFFF\n\n   \ud83d\udccc Memory contains data (not empty/unmapped)\n\n\ud83d\ude80 Testing SMI token control...\n\n\ud83d\udccc Token 0x0480: Power Management (Group 0, Position 0)\n\n\ud83d\udd27 Attempting SMI control of token 0x0480\n   SMI Result: Sending SMI for token 0x0480...\nSMI command sent\n\n\ud83d\udd27 Attempting SMI control of token 0x0480\n   SMI Result: Sending SMI for token 0x0480...\nSMI command sent\n\n\ud83d\udccc Token 0x0481: Thermal Control (Group 0, Position 1)\n\n\ud83d\udd27 Attempting SMI control of token 0x0481\n   SMI Result: Sending SMI for token 0x0481...\nSMI command sent\n\n\ud83d\udd27 Attempting SMI control of token 0x0481\n   SMI Result: Sending SMI for token 0x0481...\nSMI command sent\n\n\ud83d\udccc Token 0x0482: Security Module (Group 0, Position 2)\n\n\ud83d\udd27 Attempting SMI control of token 0x0482\n   SMI Result: Sending SMI for token 0x0482...\nSMI command sent\n\n\ud83d\udd27 Attempting SMI control of token 0x0482\n   SMI Result: Sending SMI for token 0x0482...\nSMI command sent\n\n\ud83d\udccc Token 0x0483: Memory Controller (Group 0, Position 3)\n\n\ud83d\udd27 Attempting SMI control of token 0x0483\n   SMI Result: Sending SMI for token 0x0483...\nSMI command sent\n\n\ud83d\udd27 Attempting SMI control of token 0x0483\n   SMI Result: Sending SMI for token 0x0483...\nSMI command sent\n\n============================================================\nSUMMARY\n============================================================\nToken 0x0480: SMI successful\nToken 0x0481: SMI successful\nToken 0x0482: SMI successful\nToken 0x0483: SMI successful\n\n\ud83d\udca1 Analysis:\nThe kernel module successfully mapped 16MB of memory\nbut found no DSMIL structure signatures.\nThis suggests:\n1. DSMIL devices may use a different protocol\n2. Structures may be encrypted or obfuscated\n3. Tokens may be controlled entirely via SMI\n4. Real structures may be in SMM protected memory\n",
        "smi_test_error": "",
        "smi_test_returncode": 0
      },
      "duration_ms": 9379.558801651001,
      "timestamp": "2025-09-02T05:28:02.555821+00:00"
    },
    {
      "component": "Devices",
      "test_name": "quarantine_enforcement",
      "status": "PASS",
      "score": 1.0,
      "message": "All 5 critical devices quarantined",
      "details": {
        "quarantine_list": [
          "0x8009",
          "0x800A",
          "0x800B",
          "0x8019",
          "0x8029"
        ],
        "expected_quarantine": [
          "0x8009",
          "0x800A",
          "0x800B",
          "0x8019",
          "0x8029"
        ],
        "quarantined_count": 5,
        "total_critical": 5
      },
      "duration_ms": 0.3190040588378906,
      "timestamp": "2025-09-02T05:28:11.935560+00:00"
    },
    {
      "component": "Devices",
      "test_name": "thermal_monitoring",
      "status": "PASS",
      "score": 1.0,
      "message": "Thermal monitoring responsive (50.0ms)",
      "details": {
        "thermal_zones": [
          {
            "zone": "thermal_zone2",
            "temp_celsius": 40.05
          },
          {
            "zone": "thermal_zone0",
            "temp_celsius": 20.0
          },
          {
            "zone": "thermal_zone9",
            "temp_celsius": 39.0
          },
          {
            "zone": "thermal_zone7",
            "temp_celsius": 82.05
          },
          {
            "zone": "thermal_zone10",
            "temp_celsius": 86.0
          },
          {
            "zone": "thermal_zone5",
            "temp_celsius": 46.05
          },
          {
            "zone": "thermal_zone3",
            "temp_celsius": 49.05
          },
          {
            "zone": "thermal_zone1",
            "temp_celsius": 33.05
          },
          {
            "zone": "thermal_zone8",
            "temp_celsius": 80.0
          },
          {
            "zone": "thermal_zone6",
            "temp_celsius": 30.05
          },
          {
            "zone": "thermal_zone4",
            "temp_celsius": 60.05
          }
        ],
        "zone_count": 11,
        "average_temp": 51.39545454545455,
        "max_temp": 86.0,
        "thermal_guardian_available": true,
        "thermal_response_ms": 50.03976821899414,
        "target_response_ms": 1000.0
      },
      "duration_ms": 69.70095634460449,
      "timestamp": "2025-09-02T05:28:11.935930+00:00"
    },
    {
      "component": "Agents",
      "test_name": "agent_discovery",
      "status": "FAIL",
      "score": 0.0,
      "message": "Insufficient agents discovered: 0",
      "details": {
        "orchestrator_output": "\ud83d\udd0d Checking Tandem Orchestrator Status\n==================================================\n\ud83d\udce1 Initializing orchestrator...\n\u2705 Orchestrator initialized: True\n\ud83d\udd52 Uptime: 0.0 seconds\n\ud83e\udd16 Discovered agents: 0\n\ud83d\udd04 Active commands: 0\n\ud83d\udc0d Python messages: 0\n\u2699\ufe0f  C layer available: False\n\n\ud83d\udda5\ufe0f  Hardware Topology:\n   Total cores: 22\n   P-cores (ultra): 4\n   P-cores (standard): 11\n   E-cores: 8\n   LP E-cores: 2\n\n\ud83d\udc65 Available Agents (0):\n\n  \ud83d\udcc1 Strategic (3):\n\n\ud83c\udfaf Ready for Phase 2 deployment with 0 agents!\n",
        "orchestrator_error": "INFO:production_orchestrator:Initializing Production Orchestrator with Enhanced Registry...\nINFO:production_orchestrator:Using Enhanced Agent Registry with Python fallback\nWARNING:claude_agents.orchestration.agent_registry:Claude agent bridge not available, using built-in fallback\nINFO:claude_agents.orchestration.agent_registry:Initializing Enhanced Agent Registry v7.0...\nINFO:claude_agents.orchestration.agent_registry:Discovering agents from 0 definition files...\nWARNING:claude_agents.orchestration.agent_registry:Running without binary protocol acceleration\nINFO:claude_agents.orchestration.agent_registry:\u2705 Registry initialized with 0 agents\nINFO:claude_agents.orchestration.agent_registry:   Categories: []\nINFO:claude_agents.orchestration.agent_registry:   Priorities: {}\nINFO:production_orchestrator:Enhanced registry loaded 0 agents\nINFO:production_orchestrator:C layer integration not available, using Python-only mode\nINFO:production_orchestrator:Orchestrator initialized with 0 agents\nERROR:claude_agents.orchestration.agent_registry:Metrics collector error: 'avg_health_score'\n",
        "discovered_agent_count": 0,
        "target_agent_count": 80
      },
      "duration_ms": 76.92933082580566,
      "timestamp": "2025-09-02T05:28:12.005781+00:00"
    },
    {
      "component": "Agents",
      "test_name": "tandem_orchestrator",
      "status": "PASS",
      "score": 1.0,
      "message": "Tandem Orchestrator available and functional",
      "details": {
        "orchestrator_files": [
          "/home/john/LAT5150DRVMIL/infrastructure/coordination/agent_coordinator.py",
          "/home/john/LAT5150DRVMIL/infrastructure/coordination/agent_orchestrator.py"
        ],
        "orchestrator_import": "success"
      },
      "duration_ms": 3.627777099609375,
      "timestamp": "2025-09-02T05:28:12.082814+00:00"
    },
    {
      "component": "Agents",
      "test_name": "parallel_execution",
      "status": "PASS",
      "score": 1.0,
      "message": "Parallel execution efficient (7.9x speedup)",
      "details": {
        "parallel_tasks": 8,
        "total_duration": 0.10156583786010742,
        "unique_threads": 8,
        "task_results": [
          {
            "task_id": 0,
            "duration": 0.10009312629699707,
            "thread_id": 137687120545472
          },
          {
            "task_id": 1,
            "duration": 0.10014820098876953,
            "thread_id": 137687112152768
          },
          {
            "task_id": 2,
            "duration": 0.10008978843688965,
            "thread_id": 137687103760064
          },
          {
            "task_id": 3,
            "duration": 0.10005974769592285,
            "thread_id": 137687095367360
          },
          {
            "task_id": 4,
            "duration": 0.10005998611450195,
            "thread_id": 137687086974656
          },
          {
            "task_id": 5,
            "duration": 0.10005760192871094,
            "thread_id": 137687078581952
          },
          {
            "task_id": 6,
            "duration": 0.10005784034729004,
            "thread_id": 137687070189248
          },
          {
            "task_id": 7,
            "duration": 0.1000509262084961,
            "thread_id": 137686585177792
          }
        ],
        "efficiency_ratio": 7.876664209691126
      },
      "duration_ms": 101.66072845458984,
      "timestamp": "2025-09-02T05:28:12.086528+00:00"
    },
    {
      "component": "Agents",
      "test_name": "error_handling",
      "status": "WARN",
      "score": 0.5,
      "message": "Partial error handling available",
      "details": {
        "emergency_stop_test": {
          "returncode": 2,
          "stdout": "",
          "stderr": "usage: dsmil_emergency_stop.py [-h] [--stop] [--monitor] [--check] [--status]\n                               [--duration DURATION] [--reason REASON]\ndsmil_emergency_stop.py: error: unrecognized arguments: --test\n"
        },
        "emergency_stop_available": false,
        "rollback_scripts": [
          "/home/john/LAT5150DRVMIL/tpm_rollback.json"
        ]
      },
      "duration_ms": 34.861087799072266,
      "timestamp": "2025-09-02T05:28:12.188352+00:00"
    },
    {
      "component": "Performance",
      "test_name": "xor_sse42",
      "status": "FAIL",
      "score": 0.0,
      "message": "SIMD test execution failed: ",
      "details": {
        "simd_test_output": "",
        "simd_test_duration": 1.0845887660980225,
        "simd_test_returncode": -4,
        "error": ""
      },
      "duration_ms": 1084.6381187438965,
      "timestamp": "2025-09-02T05:28:12.223346+00:00"
    },
    {
      "component": "Performance",
      "test_name": "database_queries",
      "status": "PASS",
      "score": 1.0,
      "message": "Database queries fast (0.2ms avg)",
      "details": {
        "database_type": "SQLite",
        "total_query_time_ms": 0.6604194641113281,
        "average_query_time_ms": 0.18421808878580728,
        "individual_query_times": [
          0.5202293395996094,
          0.020742416381835938,
          0.011682510375976562
        ],
        "target_query_time_ms": 100.0
      },
      "duration_ms": 0.7584095001220703,
      "timestamp": "2025-09-02T05:28:13.308099+00:00"
    },
    {
      "component": "Performance",
      "test_name": "agent_response_times",
      "status": "PASS",
      "score": 1.0,
      "message": "Agent response time excellent (68.2ms)",
      "details": {
        "simulated_response_ms": 10.104179382324219,
        "target_response_ms": 500.0,
        "orchestrator_test_ms": 68.15743446350098,
        "orchestrator_returncode": 0
      },
      "duration_ms": 78.38273048400879,
      "timestamp": "2025-09-02T05:28:13.308944+00:00"
    },
    {
      "component": "Performance",
      "test_name": "system_resources",
      "status": "PASS",
      "score": 1.0,
      "message": "System resources healthy (CPU: 8.0%, RAM: 11.3%)",
      "details": {
        "cpu_percent": 8.0,
        "memory_percent": 11.3,
        "disk_percent": 23.81097515632152,
        "memory_available_gb": 55.2216682434082,
        "disk_free_gb": 165.35713577270508,
        "thresholds": {
          "cpu_warning": 80.0,
          "memory_warning": 85.0,
          "disk_warning": 90.0
        },
        "resource_scores": {
          "cpu_score": 1.0,
          "memory_score": 1.0,
          "disk_score": 1.0,
          "overall_score": 1.0
        }
      },
      "duration_ms": 1000.4715919494629,
      "timestamp": "2025-09-02T05:28:13.387436+00:00"
    }
  ]
}