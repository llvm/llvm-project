[Unit]
Description=LAT5150DRVMIL Telegram CVE Scraper
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=%i
WorkingDirectory=/home/user/LAT5150DRVMIL
Environment="PATH=/usr/local/bin:/usr/bin:/bin"
ExecStart=/usr/bin/python3 /home/user/LAT5150DRVMIL/rag_system/telegram_cve_scraper.py --oneshot
Restart=always
RestartSec=60
StandardOutput=append:/home/user/LAT5150DRVMIL/rag_system/cve_scraper.log
StandardError=append:/home/user/LAT5150DRVMIL/rag_system/cve_scraper.log

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=read-only
ReadWritePaths=/home/user/LAT5150DRVMIL/rag_system /home/user/LAT5150DRVMIL/00-documentation

[Install]
WantedBy=multi-user.target
