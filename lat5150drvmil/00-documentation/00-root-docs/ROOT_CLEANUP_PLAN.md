# LAT5150DRVMIL Root Directory Cleanup Plan

**Generated by:** JANITOR Agent - Claude Agent Framework v7.0
**Date:** 2025-10-11
**Purpose:** Professional root directory organization and cleanup

---

## Executive Summary

The root directory currently contains **123 files** and **38 directories** that need organization. This plan categorizes all items and provides a safe, reversible cleanup strategy.

### Current State Analysis

```
Total Files in Root:     123 files
  - Python scripts:      53 files (~850 KB)
  - Shell scripts:       20 files (~180 KB)
  - C source files:      15 files (~150 KB)
  - Compiled binaries:   7 files (~120 KB)
  - Data/config files:   28 files (~100 KB)

Total Directories:       38 directories
  - Documentation backups: 5 dirs (~20 KB)
  - Old environments:     2 dirs (LAT5150_DEV: 25MB, LAT5150_PROD: 1.3MB)
  - Mock/test dirs:       3 dirs (~50 KB)
  - Baseline snapshots:   2 dirs + archives (~50 KB)
  - Organized structure:  6 dirs (00-documentation, 01-source, etc.)
```

---

## Detailed Inventory by Category

### 1. **KEEP IN ROOT** (Essential Files)

These files are appropriate for root directory:

| File | Size | Reason |
|------|------|--------|
| README.md | 11 KB | Project overview |
| .gitignore | (new) | Git configuration |
| .git/ | (dir) | Git repository |
| .github/ | (dir) | GitHub workflows |
| .claude/ | (dir) | Claude agent config |

**Action:** Keep as-is

---

### 2. **DELETE** (Obsolete/Redundant)

#### Documentation Backups (5 directories, ~20 KB total)
- `documentation_backup_20251011_154627/`
- `documentation_backup_20251011_154710/`
- `documentation_backup_20251011_154729/`
- `documentation_backup_20251011_154744/`
- `documentation_backup_20251011_154911/`

**Reason:** Created by DOCGEN during reorganization, no longer needed

#### Old Baseline Snapshots (~100 KB total)
- `baseline_20250901_024258/` + `.tar.gz`
- `baseline_20250901_024305/` + `.tar.gz`

**Reason:** Outdated baseline snapshots from September 2025

#### Mock/Test Directories (~50 KB total)
- `mock_backup_20250902-202546/`
- `mock_backup_20250902-202859/`
- `mock_monitoring/`

**Reason:** Mock data from testing, superseded by organized testing/

#### Old Enumeration Data
- `dsmil_enumeration_20250815_142321/`
- `dsmil_token_discovery.txt`
- `dsmil_token_discovery_20250901_025222.txt`
- `dsmil_token_analysis_report.txt`
- `token_analysis.txt`
- `all_tokens_dump.txt`

**Reason:** Old discovery/analysis data, should be archived

#### Build Artifacts
- `__pycache__/` - Python bytecode
- `obj/` - Old object files directory
- `bin/` - Old binary directory

**Reason:** Build artifacts, regenerated on compile

#### Compiled Test Binaries (7 files, ~120 KB)
- `test_device_access`
- `test_ioctl_simple`
- `test_phase1_discovery`
- `test_simple_ioctl`
- `test_simd`
- `ioctl_probe_correct`
- `ioctl_probe_simple`

**Reason:** Compiled from .c sources, should be rebuilt

**Total to Delete:** ~200 KB + 15 directories

---

### 3. **MOVE TO 01-SOURCE/** (Source Code)

#### C Source Files (15 files, ~150 KB)
```
avx_operations.c                 → 01-source/tests/
ioctl_advanced_probe.c           → 01-source/tests/
ioctl_probe_correct.c            → 01-source/tests/
ioctl_probe_safe.c               → 01-source/tests/
ioctl_probe_simple.c             → 01-source/tests/
locked_token_accessor.c          → 01-source/tests/
military_device_lib.c            → 01-source/kernel/
military_device_interface.h      → 01-source/kernel/
test_device_access.c             → 01-source/tests/
test_ioctl_basic.c               → 01-source/tests/
test_ioctl_simple.c              → 01-source/tests/
test_military_interface.c        → 01-source/tests/
test_phase1_discovery.c          → 01-source/tests/
test_simd.c                      → 01-source/tests/
test_simd_simple.c               → 01-source/tests/
test_simple_ioctl.c              → 01-source/tests/
```

#### Build System Files (3 files)
```
Makefile                         → 01-source/Makefile
Makefile.avx                     → 01-source/Makefile.avx
Makefile.probe                   → 01-source/Makefile.probe
```

#### Kernel Patches
```
kernel_chunked_ioctl.patch       → 01-source/patches/
```

---

### 4. **MOVE TO 02-DEPLOYMENT/** (Deployment Scripts)

#### Installation Scripts (4 files, ~75 KB)
```
install_dsmil_phase2a.sh                    → 02-deployment/scripts/
install_dsmil_phase2a_integrated.sh         → 02-deployment/scripts/
install_thermal_guardian.sh                 → 02-deployment/scripts/
activate_phase1_production.sh               → 02-deployment/scripts/
```

#### Deployment Python Scripts (~300 KB)
```
deploy_phase2_with_orchestrator.py          → 02-deployment/scripts/
deploy_tpm2_production.py                   → 02-deployment/scripts/
deploy_tpm2_userspace.py                    → 02-deployment/scripts/
deployment_orchestrator.py                  → 02-deployment/scripts/
deployment_emergency_patch.py               → 02-deployment/scripts/
accelerated_phase2_deployment.py            → 02-deployment/scripts/
secure_accelerated_phase2_deployment.py     → 02-deployment/scripts/
comprehensive_agent_deployment.py           → 02-deployment/orchestration/
agent_task_bridge.py                        → 02-deployment/orchestration/
```

#### Monitoring Scripts (~150 KB)
```
launch_dsmil_monitor.sh                     → 02-deployment/scripts/
load_dsmil_module.sh                        → 02-deployment/scripts/
start-monitor.sh                            → 02-deployment/scripts/
dsmil_dashboard.py                          → 02-deployment/monitoring/
dsmil_readonly_monitor.py                   → 02-deployment/monitoring/
dsmil_emergency_stop.py                     → 02-deployment/monitoring/
phase1_monitoring_dashboard.py              → 02-deployment/monitoring/
tactical_coordination_dashboard.py          → 02-deployment/monitoring/
thermal_guardian.py                         → 02-deployment/monitoring/
thermal_status.py                           → 02-deployment/monitoring/
check_orchestrator_status.py                → 02-deployment/monitoring/
verify_monitor_installation.py              → 02-deployment/monitoring/
```

#### Configuration Files
```
thermal-guardian.service                    → 02-deployment/config/
thermal_guardian.conf                       → 02-deployment/config/
secure_deployment_config.env                → 02-deployment/config/
```

#### System Scripts (~50 KB)
```
fix_library_path.sh                         → 02-deployment/scripts/
validate-system-safety.sh                   → 02-deployment/scripts/
create-baseline-snapshot.sh                 → 02-deployment/scripts/
```

---

### 5. **MOVE TO 01-SOURCE/TESTS/** (Test Scripts)

#### Shell Test Scripts (~45 KB)
```
test_installer.sh                           → 01-source/tests/
test_dsmil_smi_access.sh                    → 01-source/tests/
test_military_devices.sh                    → 01-source/tests/
testing-environment-config.sh               → 01-source/tests/
quick_thermal_test.sh                       → 01-source/tests/
```

#### Python Test Scripts (~150 KB)
```
test_chunked_ioctl.py                       → 01-source/tests/
test_deployment_mock.py                     → 01-source/tests/
test_deployment_script.py                   → 01-source/tests/
test_kernel_correct_structures.py           → 01-source/tests/
test_kernel_direct.py                       → 01-source/tests/
test_kernel_direct_fixed.py                 → 01-source/tests/
test_phase1_safe_devices.py                 → 01-source/tests/
test_real_dsmil_tokens.py                   → 01-source/tests/
test_simd_direct.py                         → 01-source/tests/
test_smi_direct.py                          → 01-source/tests/
test_thermal_token.py                       → 01-source/tests/
test_tokens_with_module.py                  → 01-source/tests/
validate_activation_safety.py               → 01-source/tests/
validate_chunked_solution.py                → 01-source/tests/
validate_phase2_deployment.py               → 01-source/tests/
```

---

### 6. **MOVE TO 01-SOURCE/SCRIPTS/** (Utility Scripts)

```
discover_dsmil_tokens.sh                    → 01-source/scripts/
wmi_token_control.sh                        → 01-source/scripts/
run_ioctl_discovery.sh                      → 01-source/scripts/
activate_military_tokens.py                 → 01-source/scripts/
begin_token_mapping.py                      → 01-source/scripts/
```

---

### 7. **MOVE TO 01-SOURCE/DEBUGGING/** (Analysis Scripts)

```
analyze_inaccessible_tokens.py              → 01-source/debugging/
analyze_token_correlation.py                → 01-source/debugging/
analyze_tokens.py                           → 01-source/debugging/
investigate_dsmil_structure.py              → 01-source/debugging/
explore_wmi_token_access.py                 → 01-source/debugging/
nsa_deep_reconnaissance.py                  → 01-source/debugging/
nsa_device_reconnaissance.py                → 01-source/debugging/
nsa_elite_reconnaissance.py                 → 01-source/debugging/
avx_runtime_detection.py                    → 01-source/debugging/
final_critical_fixes_summary.py             → 01-source/debugging/
fix_critical_issues.py                      → 01-source/debugging/
safe_expansion_phase2.py                    → 01-source/debugging/
safe_wipe_device_identification.py          → 01-source/debugging/
run_phase2_simulation.py                    → 01-source/debugging/
mock_deployment_execution.py                → 01-source/debugging/
```

---

### 8. **MOVE TO 00-DOCUMENTATION/** (Documentation Scripts)

```
launch-docs-browser.sh                      → 00-documentation/scripts/
view-dsmil-docs.sh                          → 00-documentation/scripts/
```

---

### 9. **MOVE TO 99-ARCHIVE/** (Old Data/Logs)

#### Log Files
```
nsa_reconnaissance.log                      → 99-archive/old-logs/
tpm_activation.log                          → 99-archive/old-logs/
phase2_expansion_20250902_190932.log        → 99-archive/old-logs/
phase2_expansion_20250902_191025.log        → 99-archive/old-logs/
```

#### JSON Data Files
```
chunked_validation_report.json              → 99-archive/old-data/
phase2a_expansion_config.json               → 99-archive/old-data/
phase2a_deployment_report_*.json            → 99-archive/old-data/
kernel_direct_test_20250902_134335.json     → 99-archive/old-data/
kernel_test_20250902_160224.json            → 99-archive/old-data/
test_results.json                           → 99-archive/old-data/
health_log.jsonl                            → 99-archive/old-data/
```

#### Text Data Files
```
test_learning2.txt                          → 99-archive/old-data/
```

---

### 10. **ARCHIVE ENTIRE DIRECTORIES**

These directories exist but may have unique content. Archive first, then evaluate:

```
deployment_monitoring/                      → 99-archive/deployment_monitoring/
logs/                                       → 99-archive/logs/
monitoring/                                 → 99-archive/monitoring/
docu/                                       → 99-archive/docu/
assets/                                     → 99-archive/assets/
database/                                   → 99-archive/database/
infrastructure/                             → 99-archive/infrastructure/
testing/                                    → 99-archive/testing/
thermal-guardian/                           → 99-archive/thermal-guardian/
web-interface/                              → 99-archive/web-interface/
```

**Note:** Check for overlap with organized structure before archiving:
- `deployment/` vs `02-deployment/`
- `docs/` vs `00-documentation/`
- `scripts/` vs organized script directories

---

### 11. **DELETE OLD ENVIRONMENTS**

#### LAT5150_DEV/ (25 MB)
- Contains: `README.md`, `docs/`, `src/`
- Purpose: Old development environment
- **Decision:** Archive then delete (superseded by organized structure)

#### LAT5150_PROD/ (1.3 MB)
- Contains: `README.md`, `bin/`, `config/`, `lib/`, `install.sh`
- Purpose: Old production environment
- **Decision:** Archive then delete (superseded by organized structure)

**Reason:** The project now uses organized directories (01-source, 02-deployment) making these obsolete.

---

## Recommended Root Directory Structure (After Cleanup)

```
LAT5150DRVMIL/
├── .git/                      # Git repository
├── .github/                   # GitHub workflows
├── .claude/                   # Claude agent config
├── .gitignore                 # Git ignore rules (NEW)
├── README.md                  # Project overview
├── 00-documentation/          # All documentation
├── 01-source/                 # All source code
│   ├── kernel/                # Kernel modules
│   ├── tests/                 # Test code
│   ├── scripts/               # Utility scripts
│   ├── debugging/             # Debug/analysis tools
│   └── patches/               # Kernel patches
├── 02-deployment/             # Deployment infrastructure
│   ├── scripts/               # Deployment scripts
│   ├── config/                # Configuration files
│   ├── monitoring/            # Monitoring tools
│   └── orchestration/         # Orchestration tools
├── 03-security/               # Security tools
├── 99-archive/                # Archived/old content
│   ├── old-logs/              # Historical logs
│   ├── old-data/              # Historical data
│   ├── old-backups/           # Old backup archives
│   ├── legacy-docs/           # Old documentation
│   └── organization/          # Reorganization artifacts
├── packaging/                 # Packaging (existing)
└── tpm2_compat/               # TPM2 compatibility layer
```

**Files in root:** Only essential project files (README.md, .gitignore)
**Scripts in root:** NONE (all organized in subdirectories)

---

## Execution Plan

### Phase 1: Preparation (REQUIRED)

```bash
# 1. Create backup of entire root directory
cd /home/john/LAT5150DRVMIL
tar -czf ~/LAT5150DRVMIL-root-backup-$(date +%Y%m%d-%H%M%S).tar.gz \
  --exclude='.git' \
  --exclude='99-archive' \
  .

# 2. Verify backup
tar -tzf ~/LAT5150DRVMIL-root-backup-*.tar.gz | head -20

# 3. Review current git status
git status
```

### Phase 2: Dry Run (RECOMMENDED)

```bash
# Run cleanup script in dry-run mode (default)
cd /home/john/LAT5150DRVMIL
./safe-delete-root-artifacts.sh

# Review the output - NO changes are made in dry-run mode
# Check: root-cleanup-*.log for detailed plan
```

### Phase 3: Execute Cleanup (CAREFUL)

```bash
# Execute cleanup (LIVE MODE)
cd /home/john/LAT5150DRVMIL
DRY_RUN=0 ./safe-delete-root-artifacts.sh

# Script will:
# - Create backup in 99-archive/root-cleanup-backup-*/
# - Move files to appropriate directories
# - Delete obsolete files/directories
# - Generate detailed log
```

### Phase 4: Verification (REQUIRED)

```bash
# 1. Check root directory is clean
ls -la /home/john/LAT5150DRVMIL/

# Expected: Only essential files and organized directories

# 2. Verify organized directories have content
ls -la /home/john/LAT5150DRVMIL/01-source/tests/
ls -la /home/john/LAT5150DRVMIL/02-deployment/scripts/

# 3. Test basic functionality
cd /home/john/LAT5150DRVMIL/01-source
make clean
make

# 4. Review git status
git status
```

### Phase 5: Git Integration

```bash
# 1. Review .gitignore
cat .gitignore

# 2. Update git index to respect new .gitignore
git rm -r --cached .
git add .

# 3. Review what git sees now
git status

# 4. Commit cleanup (when ready)
git add .
git commit -m "chore: Professional root directory cleanup and organization

- Move 123 files from root to organized directories
- Create comprehensive .gitignore
- Archive obsolete data to 99-archive/
- Remove duplicate environments (LAT5150_DEV/PROD)
- Organize all scripts, sources, and configs
- Implement professional directory structure

Cleanup performed by JANITOR agent (Claude Agent Framework v7.0)"
```

---

## Safety Features

### Built-in Safeguards

1. **Dry-run mode** (default): Preview all changes without executing
2. **Comprehensive backup**: Full backup created before any changes
3. **Detailed logging**: Every action logged to timestamped file
4. **Reversibility**: All deleted/moved files backed up to 99-archive/
5. **Git safety**: .gitignore prevents re-cluttering

### Manual Verification Points

Before executing live cleanup:

- [ ] Full backup created and verified
- [ ] Dry-run output reviewed
- [ ] No critical work in progress
- [ ] Git working directory committed or stashed
- [ ] Team/stakeholders notified (if applicable)

### Recovery Procedures

If something goes wrong:

```bash
# 1. Stop immediately (Ctrl+C during execution)

# 2. Restore from backup
cd /home/john/LAT5150DRVMIL/99-archive/
ls -lt root-cleanup-backup-*/  # Find latest backup

# 3. Copy specific files back
cp root-cleanup-backup-*/files/filename.py ../../

# 4. Or restore full backup
cd ~
tar -xzf LAT5150DRVMIL-root-backup-*.tar.gz -C /tmp/recovery/
# Then manually copy needed files
```

---

## Expected Results

### Immediate Benefits

1. **Clean root directory**: Only essential files visible
2. **Professional structure**: Industry-standard organization
3. **Easy navigation**: Logical directory hierarchy
4. **Git cleanliness**: No more untracked artifacts
5. **Prevention**: .gitignore stops future clutter

### Metrics

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| Files in root | 123 | ~5 | -96% |
| Directories in root | 38 | 10 | -74% |
| Untracked files (git) | ~150 | ~0 | -100% |
| Build artifacts | Present | Ignored | Clean |
| Organization | Chaotic | Structured | Professional |

### Long-term Benefits

- **Maintainability**: Easy to find any file
- **Onboarding**: New developers understand structure instantly
- **Collaboration**: Standard locations for everything
- **Automation**: Scripts know where to find dependencies
- **Professionalism**: Impresses stakeholders and auditors

---

## Post-Cleanup Maintenance

### Daily Practices

```bash
# Check for root clutter
ls /home/john/LAT5150DRVMIL/*.py 2>/dev/null && echo "WARNING: Python files in root!"
ls /home/john/LAT5150DRVMIL/*.sh 2>/dev/null && echo "WARNING: Shell scripts in root!"

# Review git status regularly
git status | grep -E "Untracked files|modified"
```

### Weekly Review

```bash
# Check for ignored files accumulating
git status --ignored | grep "^!!"

# Clean up build artifacts
make clean
rm -f *.o *.ko *.mod *.mod.c
```

### Monthly Audit

```bash
# Review 99-archive size
du -sh /home/john/LAT5150DRVMIL/99-archive/

# Compress old archives if too large
cd /home/john/LAT5150DRVMIL/99-archive/
tar -czf archive-$(date +%Y%m).tar.gz old-logs/ old-data/
# Then optionally delete originals
```

---

## Troubleshooting

### Common Issues

#### Issue: Script reports "file not found"

**Cause:** Files already moved or deleted
**Solution:** Continue - script is idempotent

#### Issue: Permission denied

**Cause:** Files owned by root or read-only
**Solution:**
```bash
# Check ownership
ls -la /home/john/LAT5150DRVMIL/ | grep root

# Fix ownership (if needed)
sudo chown -R john:john /home/john/LAT5150DRVMIL/
```

#### Issue: Directory not empty

**Cause:** Hidden files exist
**Solution:**
```bash
# Show hidden files
ls -la directory/

# Move hidden files first
mv directory/.* /path/to/archive/
```

#### Issue: Git shows too many changes

**Cause:** .gitignore not applied yet
**Solution:**
```bash
# Update git index
git rm -r --cached .
git add .
git status  # Now shows clean state
```

---

## Files Delivered

### 1. Cleanup Script
- **File:** `/home/john/LAT5150DRVMIL/safe-delete-root-artifacts.sh`
- **Size:** ~14 KB
- **Features:**
  - Dry-run mode (default)
  - Comprehensive backup
  - Detailed logging
  - Categorized cleanup
  - Safety confirmations
  - Progress statistics

### 2. .gitignore
- **File:** `/home/john/LAT5150DRVMIL/.gitignore`
- **Size:** ~7 KB
- **Coverage:**
  - Build artifacts (*.o, *.ko, etc.)
  - Python bytecode
  - Logs and temporary files
  - Backups and archives
  - System files
  - Project-specific patterns
  - Security exclusions

### 3. This Plan
- **File:** `/home/john/LAT5150DRVMIL/ROOT_CLEANUP_PLAN.md`
- **Purpose:** Complete documentation and reference
- **Sections:**
  - Detailed inventory
  - Categorization
  - Execution plan
  - Safety procedures
  - Troubleshooting

---

## Summary Statistics

### Files by Destination

| Destination | Files | Size | Purpose |
|-------------|-------|------|---------|
| **DELETE** | 35 | ~200 KB | Obsolete/redundant |
| **01-source/** | 45 | ~500 KB | Source code |
| **02-deployment/** | 30 | ~550 KB | Deployment |
| **99-archive/** | 13 | ~150 KB | Historical data |
| **Stay in root** | 5 | ~15 KB | Essential files |

### Directories

| Action | Count | Size | Reason |
|--------|-------|------|--------|
| Delete | 15 | ~25 MB | Old environments + backups |
| Archive | 10 | ~50 KB | May contain unique content |
| Keep | 10 | Various | Organized structure |

### Total Impact

- **Files moved:** ~88 files
- **Files deleted:** ~35 files
- **Directories removed:** ~25 directories
- **Space freed:** ~25 MB (mainly LAT5150_DEV)
- **Root cleanliness:** 96% improvement

---

## Approval and Execution

### Pre-execution Checklist

- [ ] Backup created: `~/LAT5150DRVMIL-root-backup-*.tar.gz`
- [ ] Backup verified: `tar -tzf` lists files
- [ ] Dry-run completed: `./safe-delete-root-artifacts.sh`
- [ ] Dry-run log reviewed: `root-cleanup-*.log`
- [ ] No critical work in progress
- [ ] Git status clean or committed
- [ ] Team notified (if applicable)

### Execute

```bash
# When ready:
cd /home/john/LAT5150DRVMIL
DRY_RUN=0 ./safe-delete-root-artifacts.sh
```

### Post-execution Checklist

- [ ] Script completed without errors
- [ ] Root directory contains only essential files
- [ ] Organized directories populated correctly
- [ ] Basic functionality tested (compile, run)
- [ ] Git status reviewed
- [ ] .gitignore working (`git status --ignored`)
- [ ] Cleanup log archived

---

## Contact and Support

**Generated by:** JANITOR Agent
**Framework:** Claude Agent Framework v7.0
**Hardware:** Intel Core Ultra 7 155H (Meteor Lake)
**Date:** 2025-10-11

For issues or questions:
1. Review this plan
2. Check backup: `99-archive/root-cleanup-backup-*/`
3. Review log: `root-cleanup-*.log`
4. Restore from backup if needed

---

**Status:** Ready for execution
**Risk Level:** Low (with backups and dry-run)
**Estimated Duration:** 2-5 minutes
**Reversibility:** 100% (full backup maintained)

---

*This plan provides a complete, safe, and professional approach to cleaning the LAT5150DRVMIL root directory. All files are categorized, destinations are specified, and safety measures are in place. Execute with confidence.*
