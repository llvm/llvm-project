set(LLVM_TARGET_DEFINITIONS ${LLVM_MAIN_INCLUDE_DIR}/llvm/Frontend/OpenMP/OMP.td)
tablegen(LLVM OMP.cpp --gen-directive-impl)
add_public_tablegen_target(omp_cpp)

add_llvm_component_library(LLVMFrontendOpenMP
  OMP.cpp # Generated by tablegen above
  OMPContext.cpp
  OMPIRBuilder.cpp

  ADDITIONAL_HEADER_DIRS
  ${LLVM_MAIN_INCLUDE_DIR}/llvm/Frontend
  ${LLVM_MAIN_INCLUDE_DIR}/llvm/Frontend/OpenMP

  DEPENDS
  intrinsics_gen
  omp_gen
  omp_cpp

  LINK_COMPONENTS
  Core
  Support
  TransformUtils
  )
