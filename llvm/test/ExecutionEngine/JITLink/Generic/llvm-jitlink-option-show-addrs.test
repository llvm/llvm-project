# RUN: llc -filetype=obj -o %t.o %S/Inputs/main-ret-0.ll
# RUN: llvm-jitlink -noexec -show-addrs %t.o | FileCheck %s
#
# Check that the llvm-jitlink -show-addrs option reports an address for main.

# Jitlink does not support ARM64 COFF files.
# UNSUPPORTED: target=aarch64-{{.*}}-windows-{{.*}}

# On MinGW targets, when compiling the main() function, it gets
# an implicitly generated call to __main(), which is missing in
# this context.
# XFAIL: target={{.*}}-windows-gnu

# CHECK: main{{.*}} target addr = 0x{{[[:xdigit:]]+}}, content: