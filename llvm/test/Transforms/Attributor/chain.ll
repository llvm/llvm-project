; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --function-signature --scrub-attributes --check-attributes --check-globals
; RUN: opt -aa-pipeline=basic-aa -passes=attributor -attributor-manifest-internal -attributor-annotate-decl-cs -attributor-max-initialization-chain-length=1 -S < %s | FileCheck %s --check-prefixes=CHECK,CHECK_1
; RUN: opt -aa-pipeline=basic-aa -passes=attributor -attributor-manifest-internal -attributor-annotate-decl-cs -attributor-max-initialization-chain-length=1024 -S < %s | FileCheck %s --check-prefixes=CHECK,CHECK_5

declare void @foo(ptr dereferenceable(8) %arg)

define dso_local i32 @bar(ptr %arg) {
; CHECK_1-LABEL: define {{[^@]+}}@bar
; CHECK_1-SAME: (ptr noundef dereferenceable_or_null(8) [[ARG:%.*]]) {
; CHECK_1-NEXT:  entry:
; CHECK_1-NEXT:    call void @foo(ptr noundef dereferenceable_or_null(8) [[ARG]])
; CHECK_1-NEXT:    [[LD:%.*]] = load i32, ptr [[ARG]], align 4
; CHECK_1-NEXT:    ret i32 [[LD]]
;
; CHECK_5-LABEL: define {{[^@]+}}@bar
; CHECK_5-SAME: (ptr noundef nonnull dereferenceable(8) [[ARG:%.*]]) {
; CHECK_5-NEXT:  entry:
; CHECK_5-NEXT:    call void @foo(ptr noundef nonnull dereferenceable(8) [[ARG]])
; CHECK_5-NEXT:    [[LD:%.*]] = load i32, ptr [[ARG]], align 4
; CHECK_5-NEXT:    ret i32 [[LD]]
;
entry:
  call void @foo(ptr %arg)
  %ld = load i32, ptr %arg
  ret i32 %ld
}
;; NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
; CHECK: {{.*}}
