; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 6
; RUN: opt -S -passes=simplifycfg < %s | FileCheck %s

; Make sure we handle full-set ranges correctly.
define void @test_i1() {
; CHECK-LABEL: define void @test_i1() {
; CHECK-NEXT:  [[BB:.*:]]
; CHECK-NEXT:    ret void
;
bb:
  %icmp = icmp ugt i1 false, true
  br label %bb5

bb5:
  %select = select i1 %icmp, i1 %icmp, i1 false
  br i1 %select, label %bb5, label %bb6

bb6:
  ret void
}

define void @test_i3() {
; CHECK-LABEL: define void @test_i3() {
; CHECK-NEXT:  [[BB:.*:]]
; CHECK-NEXT:    ret void
;
bb:
  %icmp = icmp ugt i3 0, 7
  br label %bb5

bb5:
  %select = select i1 %icmp, i1 %icmp, i1 false
  br i1 %select, label %bb5, label %bb6

bb6:
  ret void
}
