; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt -S -passes=inline < %s | FileCheck %s

; Check that we don't crash when computing the
; base pointer of `bitcast <1 x ptr> to ptr`

define void @caller(<1 x ptr> %x) {
; CHECK-LABEL: define void @caller(
; CHECK-SAME: <1 x ptr> [[X:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    [[P:%.*]] = bitcast <1 x ptr> [[X]] to ptr
; CHECK-NEXT:    ret void
;
entry:
  %p = bitcast <1 x ptr> %x to ptr
  call void @callee(ptr %p)
  ret void
}

define void @callee(ptr %p) {
; CHECK-LABEL: define void @callee(
; CHECK-SAME: ptr [[P:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    ret void
;
entry:
  ret void
}
