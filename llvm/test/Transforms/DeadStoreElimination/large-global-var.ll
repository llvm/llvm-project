; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 6
; RUN: opt < %s -passes=dse -S | FileCheck %s

target datalayout = "e-m:e-p:32:32-i8:8-i32:32-i64:64"

; The data-layout only allows 32-bit indexing, but the array is too large to be
; fully accessible through that index-space.
@G = internal global [39969271929 x i32] zeroinitializer, align 4

define void @func() {
; CHECK-LABEL: define void @func() {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store i32 0, ptr getelementptr (i8, ptr @G, i64 24), align 4
; CHECK-NEXT:    store i32 0, ptr getelementptr (i8, ptr @G, i64 20), align 4
; CHECK-NEXT:    ret void
;
entry:
  store i32 0, ptr getelementptr (i8, ptr @G, i64 24), align 4
  store i32 0, ptr getelementptr (i8, ptr @G, i64 20), align 4
  ret void
}
