; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 6
; RUN: opt < %s -passes=instcombine -S | FileCheck %s
target datalayout = "p1:64:64:64:32"

define i32 @ptrtoaddr_inttoptr() {
; CHECK-LABEL: define i32 @ptrtoaddr_inttoptr() {
; CHECK-NEXT:    ret i32 -1
;
  ret i32 ptrtoaddr (ptr inttoptr (i32 -1 to ptr) to i32)
}

define i32 @ptrtoaddr_inttoptr_diff_size1() {
; CHECK-LABEL: define i32 @ptrtoaddr_inttoptr_diff_size1() {
; CHECK-NEXT:    ret i32 ptrtoaddr (ptr inttoptr (i64 -1 to ptr) to i32)
;
  ret i32 ptrtoaddr (ptr inttoptr (i64 -1 to ptr) to i32)
}

define i32 @ptrtoaddr_inttoptr_diff_size2() {
; CHECK-LABEL: define i32 @ptrtoaddr_inttoptr_diff_size2() {
; CHECK-NEXT:    ret i32 ptrtoaddr (ptr inttoptr (i16 -1 to ptr) to i32)
;
  ret i32 ptrtoaddr (ptr inttoptr (i16 -1 to ptr) to i32)
}
