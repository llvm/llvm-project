; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt -S -passes=instcombine -instcombine-verify-known-bits < %s | FileCheck %s

define i16 @pr110631(i32 range(i32 0, 256) %arg, i64 %arg1) {
; CHECK-LABEL: define i16 @pr110631(
; CHECK-SAME: i32 range(i32 0, 256) [[ARG:%.*]], i64 [[ARG1:%.*]]) {
; CHECK-NEXT:  [[BB:.*:]]
; CHECK-NEXT:    [[I:%.*]] = xor i32 [[ARG]], 48991
; CHECK-NEXT:    [[TMP0:%.*]] = trunc i64 [[ARG1]] to i32
; CHECK-NEXT:    [[I4:%.*]] = and i32 [[I]], [[TMP0]]
; CHECK-NEXT:    [[TMP1:%.*]] = trunc nuw i32 [[I4]] to i16
; CHECK-NEXT:    [[I8:%.*]] = xor i16 [[TMP1]], 1
; CHECK-NEXT:    ret i16 [[I8]]
;
bb:
  %i = xor i32 %arg, 48991
  %i2 = zext i32 %i to i64
  %i3 = and i64 %arg1, %i2
  %i4 = trunc i64 %i3 to i32
  %i5 = trunc i32 %i4 to i16
  %i6 = sext i16 %i5 to i32
  %i7 = xor i32 %i6, 1
  %i8 = trunc i32 %i7 to i16
  ret i16 %i8
}
