; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=instcombine -S | FileCheck %s

define i32 @clamp_pattern_with_signed_icmp_unsigned_min(i32 %input ) {
; CHECK-LABEL: @clamp_pattern_with_signed_icmp_unsigned_min(
; CHECK-NEXT:    [[TMP1:%.*]] = tail call i32 @llvm.umin.i32(i32 [[INPUT:%.*]], i32 255)
; CHECK-NEXT:    ret i32 [[TMP1]]
;
  %1 = icmp slt i32 %input, 0
  %2 = tail call i32 @llvm.umin.i32(i32 %input, i32 255)
  %3 = select i1 %1, i32 0, i32 %2
  ret i32 %3
}
