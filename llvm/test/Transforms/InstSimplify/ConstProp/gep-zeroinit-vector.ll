; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=instsimplify -S -o - | FileCheck %s

; Testcase that verify that we don't get a faulty bitcast that cast between
; different sizes.

%rec8 = type { i16 }
@a = global [1 x %rec8] zeroinitializer

define <2 x ptr> @test_gep() {
; CHECK-LABEL: @test_gep(
; CHECK-NEXT:    ret <2 x ptr> <ptr @a, ptr @a>
;
  %A = getelementptr [1 x %rec8], ptr @a, <2 x i16> zeroinitializer, <2 x i64> zeroinitializer
  ret <2 x ptr> %A
}
