; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 2
; RUN: opt -passes=globalopt -S -debug %s 2>&1 | FileCheck %s

; REQUIRES: asserts

@g = internal global { double } { double 0x40E7606FBE1650A4 }

; CHECK: Global SRA: Failed to evaluate initializer of @g =

define [1 x double] @test () {
; CHECK-LABEL: define [1 x double] @test() local_unnamed_addr {
; CHECK-NEXT:  entry:
; CHECK-NEXT:    [[L:%.*]] = load [1 x double], ptr @g, align 8
; CHECK-NEXT:    ret [1 x double] [[L]]
;
entry:
  %l = load [1 x double], ptr @g, align 8
  ret [1 x double] %l
}
