; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --function-signature --check-globals
; RUN: opt -S -passes=openmp-opt < %s | FileCheck %s --check-prefixes=TUNIT,CHECK
; RUN: opt -S -passes=openmp-opt-cgscc < %s | FileCheck %s --check-prefixes=CGSCC,CHECK

; TUNIT-NOT: __kmpc_alloc_shared

define internal ptr @__kmpc_alloc_shared(i64) {
; CGSCC-LABEL: define {{[^@]+}}@__kmpc_alloc_shared
; CGSCC-SAME: (i64 [[TMP0:%.*]]) {
; CGSCC-NEXT:    ret ptr null
;
  ret ptr null
}

!llvm.module.flags = !{!0, !1}

!0 = !{i32 7, !"openmp", i32 50}
!1 = !{i32 7, !"openmp-device", i32 50}
;.
; TUNIT: [[META0:![0-9]+]] = !{i32 7, !"openmp", i32 50}
; TUNIT: [[META1:![0-9]+]] = !{i32 7, !"openmp-device", i32 50}
;.
; CGSCC: [[META0:![0-9]+]] = !{i32 7, !"openmp", i32 50}
; CGSCC: [[META1:![0-9]+]] = !{i32 7, !"openmp-device", i32 50}
;.
;; NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
; CHECK: {{.*}}
; TUNIT: {{.*}}
