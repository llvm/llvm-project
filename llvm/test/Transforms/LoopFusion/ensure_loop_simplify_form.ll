; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt < %s -passes=loop-fusion -S | FileCheck %s

define void @v_5_0(i32* %dummy) {
; CHECK-LABEL: @v_5_0(
; CHECK-NEXT:  entry:
; CHECK-NEXT:    br label [[FOR_BODY:%.*]]
; CHECK:       for.cond.cleanup:
; CHECK-NEXT:    br i1 true, label [[FOR_BODY6_PREHEADER:%.*]], label [[FOR_COND_CLEANUP5:%.*]]
; CHECK:       for.body6.preheader:
; CHECK-NEXT:    br label [[FOR_BODY6:%.*]]
; CHECK:       for.body:
; CHECK-NEXT:    br i1 false, label [[FOR_COND_CLEANUP:%.*]], label [[FOR_BODY]]
; CHECK:       for.cond.cleanup5:
; CHECK-NEXT:    ret void
; CHECK:       for.body6:
; CHECK-NEXT:    [[V_LOOP_2_0_V_LOOP_2_0_V_LOOP_2_0_18:%.*]] = load volatile i32, i32* [[DUMMY:%.*]], align 1
; CHECK-NEXT:    br label [[FOR_BODY6]]
;
entry:
  br label %for.body

for.cond.cleanup:                                 ; preds = %for.body
  br i1 true, label %for.body6, label %for.cond.cleanup5

for.body:                                         ; preds = %for.body, %entry
  br i1 false, label %for.cond.cleanup, label %for.body

for.cond.cleanup5:                                ; preds = %for.cond.cleanup
  ret void

for.body6:                                        ; preds = %for.body6, %for.cond.cleanup
  %v_loop_2.0.v_loop_2.0.v_loop_2.0.18 = load volatile i32, i32* %dummy, align 1
  br label %for.body6
}
