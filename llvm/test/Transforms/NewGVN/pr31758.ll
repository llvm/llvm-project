; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt -passes=newgvn %s -S -o - | FileCheck %s

%struct.dipsy = type {}
%struct.fluttershy = type { ptr }
%struct.patatino = type {}

define void @tinkywinky() {
; CHECK-LABEL: @tinkywinky(
; CHECK-NEXT:  bb:
; CHECK-NEXT:    br label [[BB90:%.*]]
; CHECK:       bb90:
; CHECK-NEXT:    br label [[BB90]]
; CHECK:       bb138:
; CHECK-NEXT:    store i8 poison, ptr null
; CHECK-NEXT:    br label [[BB138:%.*]]
;
bb:
  br label %bb90

bb90:
  %tmp92 = load ptr, ptr undef, align 8
  %tmp99 = getelementptr inbounds %struct.patatino, ptr %tmp92
  %tmp136 = load ptr, ptr undef, align 8
  br label %bb90

bb138:
  %tmp139 = getelementptr inbounds %struct.patatino, ptr %tmp136
  br label %bb138
}
