; NOTE: Assertions have been autogenerated by utils/update_test_checks.py
; RUN: opt -mtriple=s390x-unknown-linux-gnu -mcpu=arch15 -passes=slp-vectorizer -S -slp-revec %s | FileCheck %s

define void @e(<4 x i16> %0) {
entry:
  br label %vector.body

vector.body:                                      ; preds = %vector.body, %entry
  %vec.ind = phi <4 x i16> [ zeroinitializer, %entry ], [ zeroinitializer, %vector.body ]
  %vec.phi = phi <4 x i32> [ zeroinitializer, %entry ], [ %13, %vector.body ]
  %1 = icmp sgt <4 x i16> %vec.ind, zeroinitializer
  %2 = zext <4 x i1> %1 to <4 x i32>
  %3 = add <4 x i16> %vec.ind, zeroinitializer
  %4 = icmp sgt <4 x i16> %0, zeroinitializer
  %5 = zext <4 x i1> %4 to <4 x i32>
  %6 = or <4 x i32> %2, %5
  %7 = add <4 x i16> zeroinitializer, zeroinitializer
  %8 = icmp sgt <4 x i16> %3, zeroinitializer
  %9 = zext <4 x i1> %8 to <4 x i32>
  %10 = or <4 x i32> %6, %9
  %11 = icmp sgt <4 x i16> %7, zeroinitializer
  %12 = zext <4 x i1> %11 to <4 x i32>
  %13 = or <4 x i32> %10, %12
  br label %vector.body
}
