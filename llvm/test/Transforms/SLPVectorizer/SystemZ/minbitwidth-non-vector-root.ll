; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 4
; RUN: opt -passes=slp-vectorizer -S -slp-optimize-identity-hor-reduction-ops=false < %s -mtriple=s390x-ibm-linux -mcpu=arch13 | FileCheck %s

define void @foo() {
; CHECK-LABEL: define void @foo(
; CHECK-SAME: ) #[[ATTR0:[0-9]+]] {
; CHECK-NEXT:    [[TMP1:%.*]] = call i32 @llvm.vector.reduce.add.v4i32(<4 x i32> zeroinitializer)
; CHECK-NEXT:    store i32 [[TMP1]], ptr null, align 4
; CHECK-NEXT:    ret void
;
  %1 = add i32 0, 0
  %2 = add i32 %1, 0
  %3 = add i32 %2, 0
  store i32 %3, ptr null, align 4
  ret void
}
