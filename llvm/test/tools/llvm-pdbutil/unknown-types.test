# RUN: llvm-pdbutil yaml2pdb %s --pdb=%t.pdb
# RUN: llvm-pdbutil dump --types %t.pdb | FileCheck --check-prefix=CHECK-YAML2PDB %s
# RUN: llvm-pdbutil dump --types --type-data %t.pdb | FileCheck --check-prefix=CHECK-YAML2PDB,CHECK-YAML2PDB-TYPE-DATA %s

# RUN: llvm-pdbutil pdb2yaml --tpi-stream %t.pdb > %t.yaml
# RUN: FileCheck --input-file=%t.yaml --check-prefix=CHECK-PDB2YAML %s

# CHECK-YAML2PDB:                                Types (TPI Stream)
# CHECK-YAML2PDB:           ============================================================
# CHECK-YAML2PDB:             Showing 2 records
# CHECK-YAML2PDB:             0x1000 | UNKNOWN RECORD (0xF123) [size = 12]
# CHECK-YAML2PDB:                      bytes (
# CHECK-YAML2PDB:                        0000: 0A0023F1 01234567 89ABCDEF                                               |..#..#Eg....|
# CHECK-YAML2PDB:                      )
# CHECK-YAML2PDB:             0x1001 | LF_ARGLIST [size = 12]
# CHECK-YAML2PDB:                      0x0103 (std::nullptr_t): `std::nullptr_t`
# CHECK-YAML2PDB-TYPE-DATA:            bytes (
# CHECK-YAML2PDB-TYPE-DATA:              0000: 0A000112 01000000 03010000                                               |............|
# CHECK-YAML2PDB-TYPE-DATA:            )

# CHECK-PDB2YAML: TpiStream:
# CHECK-PDB2YAML:   Version:         VC80
# CHECK-PDB2YAML:   Records:
# CHECK-PDB2YAML:     - Kind:            0xF123
# CHECK-PDB2YAML:       UnknownLeaf:
# CHECK-PDB2YAML:         Data:            0123456789ABCDEF
# CHECK-PDB2YAML:     - Kind:            LF_ARGLIST
# CHECK-PDB2YAML:       ArgList:
# CHECK-PDB2YAML:         ArgIndices:      [ 259 ]

---
TpiStream:
  Version:         VC80
  Records:
    - Kind:            0xF123
      UnknownLeaf:
        Data:            0123456789ABCDEF
    - Kind:            LF_ARGLIST
      ArgList:
        ArgIndices:      [ 259 ]
...
