## This tests the long symbol name case requiring continuation records.
# RUN: yaml2obj %s | od -v -An -tx1 | FileCheck --ignore-case %s

--- !GOFF
FileHeader:
  ArchitectureLevel: 1
Records:
## Bytes 80-159
## Bits 06-07 of Byte 2 should be set to 01 to indicate that this
## is an "initial record" and it will be continued in the subsequent
## record.
# CHECK: 03 01 00 00 00 00 00 01 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 39 88 89 a3 88 89 a2 89 a2
## Bytes 160-239
## Bits 06-07 of Byte 2 are set to 10 to indicate that this is
## a continuation record, and it is not continued in the next
## record.
# CHECK-NEXT: 03 02 00 81 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8
# CHECK-NEXT: a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8
# CHECK-NEXT: a5 85 99 a8 93 96 95 87 a2 a8 94 82 96 93 95 81
# CHECK-NEXT: 94 85 7b c3 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  - Symbol:
      Name:              'hithisisaveryveryveryveryveryveryveryverylongsymbolname#C'
      Type:              ESD_ST_SectionDefinition
      ID:                1
      OwnerID:           0
      Address:           0
      Length:            0
      NameSpace:         ESD_NS_ProgramManagementBinder
# CHECK-NEXT: 03 00 00 01 00 00 00 02 00 00 00 01 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 03 81 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 04 04 01 01
# CHECK-NEXT: 00 40 03 00 00 00 00 07 c3 6d e6 e2 c1 f6 f4 00
  - Symbol:
      Name:              'C_WSA64'
      Type:              ESD_ST_ElementDefinition
      ID:                2
      OwnerID:           1
      NameSpace:         ESD_NS_Parts
      Flags:             [ ESD_FillByteValuePresent, ESD_RQ_1 ]
      FillByteValue:     0
      Amode:             ESD_AMODE_64
      Rmode:             ESD_RMODE_64
      BindingAlgorithm:  ESD_BA_Merge
      Executable:        ESD_EXE_DATA
      LoadingBehavior:   ESD_LB_Deferred
      Alignment:         ESD_ALIGN_Doubleword
## Symbol spanning 4 records. First record's second byte
## ends in 01 indicating that it is continued.
# CHECK-NEXT: 03 01 00 03 00 00 00 03 00 00 00 01 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 04 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 03 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01
# CHECK-NEXT: 00 00 02 00 00 00 00 cf 93 96 95 87 a2 a8 94 82
## Second record's second byte ends in 11 indicating that it
## is continued, and it itself is a continuation.
# CHECK-NEXT: 03 03 00 96 93 95 96 a3 a2 88 96 99 a3 a3 88 89
# CHECK-NEXT: a2 89 a2 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5
# CHECK-NEXT: 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5
# CHECK-NEXT: 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5
# CHECK-NEXT: 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5
## Third record's second byte ends in 11 indicating that it
## is continued, and it itself is a continuation.
# CHECK-NEXT: 03 03 00 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85
# CHECK-NEXT: 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85
# CHECK-NEXT: 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85 99 a8 a5 85
# CHECK-NEXT: 99 a8 a5 85 99 a8 93 96 95 87 89 95 86 81 83 a3
# CHECK-NEXT: a3 88 89 a2 89 a2 85 a5 85 95 93 96 95 87 85 99
## Fourth record's second byte ends in 10 indicating that it
## is not continued, but the record itself is a continuation.
# CHECK-NEXT: 03 02 00 a3 88 81 95 a3 88 85 97 99 85 a5 89 96
# CHECK-NEXT: a4 a2 a2 a8 94 82 96 93 a6 88 89 83 88 a6 81 a2
# CHECK-NEXT: 98 a4 89 a3 85 93 96 95 87 81 93 99 85 81 84 a8
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
# CHECK-NEXT: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00

  - Symbol:
      Name:              'longsymbolnotshortthisisveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryveryverylonginfactthisisevenlongerthantheprevioussymbolwhichwasquitelongalready'
      Type:              ESD_ST_PartReference
      ID:                3
      OwnerID:           1
      Address:           0
      Length:            4
      NameSpace:         ESD_NS_Parts
      Alignment:         ESD_ALIGN_Fullword
      Executable:        ESD_EXE_DATA
