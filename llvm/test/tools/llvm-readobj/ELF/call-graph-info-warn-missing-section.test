## Tests that --call-graph-info warns if there is no section of type SHT_LLVM_CALL_GRAPH.

# RUN: yaml2obj --docnum=1 %s -o %t
# RUN: llvm-readelf --elf-output-style=LLVM --call-graph-info %t 2>&1 | FileCheck %s -DFILE=%t
# RUN: llvm-readelf --elf-output-style=JSON --pretty-print --call-graph-info %t 2>&1 | FileCheck %s -DFILE=%t

# CHECK: warning: '[[FILE]]': no SHT_LLVM_CALL_GRAPH section found

## YAML content was generated from this assembly using obj2yaml.
##    .text
##    .globl _Z3foov
##    .type _Z3foov,@function
##    _Z3foov:
##     callq _Z3foov@PLT

--- !ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_DYN
  Machine:         EM_X86_64
Sections:
  - Name:            .text
    Type:            SHT_PROGBITS
    Size:            5
Symbols:
  - Name:            _Z3foov
...
