; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt < %s -S | FileCheck %s

; Test case where the same meta variable appears twice in a line

define i8 @test(i8 %p) {
; CHECK-LABEL: define i8 @test(
; CHECK-SAME: i8 [[P:%.*]]) {
; CHECK-NEXT:    [[Q:%.*]] = add i8 [[P]], 1
; CHECK-NEXT:    [[X:%.*]] = mul i8 [[Q]], [[Q]]
; CHECK-NEXT:    ret i8 [[X]]
;
  %r = sub i8 %p, 1
  %x = mul i8 %r, %r
  ret i8 %x
}
