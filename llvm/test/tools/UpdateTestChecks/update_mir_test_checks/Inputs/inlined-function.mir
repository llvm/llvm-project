# RUN: llc -mtriple=amdgcn -mcpu=gfx1200 -run-pass=none %s -o - | FileCheck --check-prefixes=CHECK,NOINLINE %s
# RUN: llc -mtriple=amdgcn -mcpu=gfx1200 -run-pass=amdgpu-inlining-anchor,amdgpu-machine-level-inliner %s -o - | FileCheck --check-prefixes=CHECK,INLINE %s

--- |
  define amdgpu_cs void @caller(i32 %input, ptr addrspace(1) %output) { ret void }
  define amdgpu_gfx_whole_wave i32 @inlined_callee(i1 %exec, i32 %x) { ret i32 0 }
...
---
name:            caller
tracksRegLiveness: true
frameInfo:
  hasCalls:        true
machineFunctionInfo:
  isEntryFunction: true
body:             |
  bb.0:
    S_ENDPGM 0
...
---
name:            inlined_callee
tracksRegLiveness: true
machineFunctionInfo:
  isWholeWaveFunction: true
body:             |
  bb.0:
    S_ENDPGM 0
...
