# RUN: llvm-objdump --section-headers %p/Inputs/xcoff-section-headers.o | \
# RUN: FileCheck %s

# RUN: llvm-objdump --section-headers %p/Inputs/xcoff-long-sec-names.o | \
# RUN: FileCheck --check-prefix=LONG %s

# RUN: not llvm-objdump --section-headers 2>&1 \
# RUN: %p/Inputs/xcoff-section-headers-truncate.o | FileCheck \
# RUN: --check-prefix=ERROR %s

# ERROR: The end of the file was unexpectedly encountered

# CHECK: xcoff-section-headers.o:      file format aixcoff-rs6000
# CHECK: Sections:
# CHECK: Idx Name          Size     VMA      Type
# CHECK:   0 .text         00000080 00000000 TEXT
# CHECK:   1 .data         00000024 00000080 DATA
# CHECK:   2 .bss          00000004 000000a4 BSS
# CHECK:   3 .tdata        00000008 00000000 DATA
# CHECK:   4 .tbss         00000004 00000008 BSS

# xcoff-section-headers.o Compiled with IBM XL C/C++ for AIX, V16.1.0
# test.c:
# int a;
# int b = 12345;
# __thread int c;
# __thread double d = 3.14159;
#
# int func(void)  {
#   return a;
# }

# LONG: xcoff-long-sec-names.o:      file format aixcoff-rs6000
# LONG: Sections:
# LONG: Idx Name          Size     VMA      Type
# LONG:   0 .dwarnge      00000004 00000000
# LONG:   1 .dwpbnms      00000004 00000000
# LONG:   2 .dwpbtyp      00000004 00000000

# xcoff-long-sec-names.o was generated by assembling the following .s file:
#  .dwsect 0x30000 # .dwpbnms section
#  .dwsect 0x40000 # .dwpbtyp section
#  .dwsect 0x50000 # .dwarnge section
