# RUN: yaml2obj %s -o %t
# RUN: llvm-objdump --syms %t > %t1
# RUN: llvm-objdump -t     %t > %t2
# RUN: cmp %t1 %t2
# RUN: FileCheck %s --input-file=%t1

# CHECK:      SYMBOL TABLE:
# CHECK-NEXT: 0000000000001004 l     F .text     00000000 lfoo
# CHECK-NEXT: 0000000000001008 l     O .text     00000000 lbar
# CHECK-NEXT: 0000000000001004 g     F .text     00000000 foo
# CHECK-NEXT: 0000000000001008 g     O .text     00000000 bar

!ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_EXEC
  Machine:         EM_X86_64
Sections:
  - Name:            .bss
    Type:            SHT_NOBITS
    Flags:           [ SHF_ALLOC ]
    AddressAlign:    0x0000000000000010
    Size:            64
  - Name:            .text
    Type:            SHT_PROGBITS
    Flags:           [ SHF_ALLOC, SHF_EXECINSTR ]
    AddressAlign:    0x0000000000000010
    Content:         "00000000"
Symbols:
  - Name:     lfoo
    Type:     STT_FUNC
    Section:  .text
    Value:    0x1004
  - Name:     lbar
    Type:     STT_OBJECT
    Section:  .text
    Value:    0x1008
  - Name:     foo
    Type:     STT_FUNC
    Section:  .text
    Value:    0x1004
    Binding:  STB_GLOBAL
  - Name:     bar
    Type:     STT_OBJECT
    Section:  .text
    Value:    0x1008
    Binding:  STB_GLOBAL

