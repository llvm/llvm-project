# Check that "assembled_snippet" is fetched correctly from object file.
# Feel free to update the snippet in this test if the code generated by the
# snippet repetitor was changed intentionally and it is still fetched correctly.

# RUN: llvm-exegesis --mtriple=powerpc64le-linux-gnu --mcpu=pwr8 --benchmark-phase=prepare-and-assemble-snippet \
# RUN:               --snippets-file=%s --mode=latency --repetition-mode=duplicate \
# RUN: | FileCheck %s --check-prefix=CHECK-LINUX-64-LE

# LLVM-EXEGESIS-DEFREG R3 0
# LLVM-EXEGESIS-DEFREG R4 0
add 3, 4, 3

# CHECK-LINUX-64-LE: cpu_name:           pwr8
# CHECK-LINUX-64-LE: llvm_triple:        powerpc64le-unknown-linux-gnu
# CHECK-LINUX-64-LE: assembled_snippet:  0000603800008038141A647C141A647C141A647C141A647C2000804E000000000000000000000000{{$}}
