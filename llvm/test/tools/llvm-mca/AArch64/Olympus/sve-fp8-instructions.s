# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=aarch64 -mcpu=olympus -instruction-tables < %s | FileCheck %s

f1cvt	z0.h, z1.b
f2cvt	z0.h, z1.b
f1cvtlt	z0.h, z1.b
f2cvtlt	z0.h, z1.b
fcvtn	z0.b, { z2.h, z3.h }
fcvtnb	z0.b, { z2.s, z3.s }
fcvtnt	z0.b, { z2.s, z3.s }
fdot	z3.s, z1.b, z2.b
fdot	z3.s, z1.b, z2.b[3]
fdot	z3.h, z1.b, z2.b
fdot	z3.h, z1.b, z2.b[7]
fmlalb	z3.h, z1.b, z2.b
fmlalb	z3.h, z1.b, z2.b[15]
fmlallbb	z3.s, z1.b, z2.b
fmlallbb	z3.s, z1.b, z2.b[15]
fmlallbt	z3.s, z1.b, z2.b
fmlallbt	z3.s, z1.b, z2.b[15]
fmlalltb	z3.s, z1.b, z2.b
fmlalltb	z3.s, z1.b, z2.b[15]
fmlalltt	z3.s, z1.b, z2.b
fmlalltt	z3.s, z1.b, z2.b[15]
fmlalt	z3.h, z1.b, z2.b
fmlalt	z3.h, z1.b, z2.b[15]

# CHECK:      Instruction Info:
# CHECK-NEXT: [1]: #uOps
# CHECK-NEXT: [2]: Latency
# CHECK-NEXT: [3]: RThroughput
# CHECK-NEXT: [4]: MayLoad
# CHECK-NEXT: [5]: MayStore
# CHECK-NEXT: [6]: HasSideEffects (U)

# CHECK:      [1]    [2]    [3]    [4]    [5]    [6]    Instructions:
# CHECK-NEXT:  1      4     0.50    *                   f1cvt	z0.h, z1.b
# CHECK-NEXT:  1      4     0.50    *                   f2cvt	z0.h, z1.b
# CHECK-NEXT:  1      4     0.50    *                   f1cvtlt	z0.h, z1.b
# CHECK-NEXT:  1      4     0.50    *                   f2cvtlt	z0.h, z1.b
# CHECK-NEXT:  1      4     0.50    *             U     fcvtn	z0.b, { z2.h, z3.h }
# CHECK-NEXT:  1      3     0.25    *             U     fcvtnb	z0.b, { z2.s, z3.s }
# CHECK-NEXT:  1      3     0.25    *             U     fcvtnt	z0.b, { z2.s, z3.s }
# CHECK-NEXT:  1      4     0.17    *                   fdot	z3.s, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fdot	z3.s, z1.b, z2.b[3]
# CHECK-NEXT:  1      4     0.17    *                   fdot	z3.h, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fdot	z3.h, z1.b, z2.b[7]
# CHECK-NEXT:  1      4     0.17    *                   fmlalb	z3.h, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlalb	z3.h, z1.b, z2.b[15]
# CHECK-NEXT:  1      4     0.17    *                   fmlallbb	z3.s, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlallbb	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  1      4     0.17    *                   fmlallbt	z3.s, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlallbt	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  1      4     0.17    *                   fmlalltb	z3.s, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlalltb	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  1      4     0.17    *                   fmlalltt	z3.s, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlalltt	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  1      4     0.17    *                   fmlalt	z3.h, z1.b, z2.b
# CHECK-NEXT:  1      4     0.17    *                   fmlalt	z3.h, z1.b, z2.b[15]

# CHECK:      Resources:
# CHECK-NEXT: [0.0] - OlympusUnitB
# CHECK-NEXT: [0.1] - OlympusUnitB
# CHECK-NEXT: [0.2] - OlympusUnitB
# CHECK-NEXT: [0.3] - OlympusUnitB
# CHECK-NEXT: [1.0] - OlympusUnitD
# CHECK-NEXT: [1.1] - OlympusUnitD
# CHECK-NEXT: [2.0] - OlympusUnitF
# CHECK-NEXT: [2.1] - OlympusUnitF
# CHECK-NEXT: [2.2] - OlympusUnitF
# CHECK-NEXT: [2.3] - OlympusUnitF
# CHECK-NEXT: [2.4] - OlympusUnitF
# CHECK-NEXT: [2.5] - OlympusUnitF
# CHECK-NEXT: [3.0] - OlympusUnitL
# CHECK-NEXT: [3.1] - OlympusUnitL
# CHECK-NEXT: [3.2] - OlympusUnitL
# CHECK-NEXT: [3.3] - OlympusUnitL
# CHECK-NEXT: [4]   - OlympusUnitM0
# CHECK-NEXT: [5]   - OlympusUnitM1
# CHECK-NEXT: [6.0] - OlympusUnitS
# CHECK-NEXT: [6.1] - OlympusUnitS
# CHECK-NEXT: [6.2] - OlympusUnitS
# CHECK-NEXT: [6.3] - OlympusUnitS
# CHECK-NEXT: [6.4] - OlympusUnitS
# CHECK-NEXT: [6.5] - OlympusUnitS
# CHECK-NEXT: [7.0] - OlympusUnitSA
# CHECK-NEXT: [7.1] - OlympusUnitSA
# CHECK-NEXT: [8]   - OlympusUnitV0
# CHECK-NEXT: [9]   - OlympusUnitV1
# CHECK-NEXT: [10]  - OlympusUnitV2
# CHECK-NEXT: [11]  - OlympusUnitV3
# CHECK-NEXT: [12.0] - OlympusUnitV45
# CHECK-NEXT: [12.1] - OlympusUnitV45

# CHECK:      Resource pressure per iteration:
# CHECK-NEXT: [0.0]  [0.1]  [0.2]  [0.3]  [1.0]  [1.1]  [2.0]  [2.1]  [2.2]  [2.3]  [2.4]  [2.5]  [3.0]  [3.1]  [3.2]  [3.3]  [4]    [5]    [6.0]  [6.1]  [6.2]  [6.3]  [6.4]  [6.5]  [7.0]  [7.1]  [8]    [9]    [10]   [11]   [12.0] [12.1]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     5.67   5.67   5.67   5.67   2.67   2.67

# CHECK:      Resource pressure by instruction:
# CHECK-NEXT: [0.0]  [0.1]  [0.2]  [0.3]  [1.0]  [1.1]  [2.0]  [2.1]  [2.2]  [2.3]  [2.4]  [2.5]  [3.0]  [3.1]  [3.2]  [3.3]  [4]    [5]    [6.0]  [6.1]  [6.2]  [6.3]  [6.4]  [6.5]  [7.0]  [7.1]  [8]    [9]    [10]   [11]   [12.0] [12.1] Instructions:
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.50   0.50   0.50   0.50    -      -     f1cvt	z0.h, z1.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.50   0.50   0.50   0.50    -      -     f2cvt	z0.h, z1.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.50   0.50   0.50   0.50    -      -     f1cvtlt	z0.h, z1.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.50   0.50   0.50   0.50    -      -     f2cvtlt	z0.h, z1.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.50   0.50   0.50   0.50    -      -     fcvtn	z0.b, { z2.h, z3.h }
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25    -      -     fcvtnb	z0.b, { z2.s, z3.s }
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25    -      -     fcvtnt	z0.b, { z2.s, z3.s }
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fdot	z3.s, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fdot	z3.s, z1.b, z2.b[3]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fdot	z3.h, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fdot	z3.h, z1.b, z2.b[7]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalb	z3.h, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalb	z3.h, z1.b, z2.b[15]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlallbb	z3.s, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlallbb	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlallbt	z3.s, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlallbt	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalltb	z3.s, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalltb	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalltt	z3.s, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalltt	z3.s, z1.b, z2.b[15]
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalt	z3.h, z1.b, z2.b
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17   fmlalt	z3.h, z1.b, z2.b[15]
