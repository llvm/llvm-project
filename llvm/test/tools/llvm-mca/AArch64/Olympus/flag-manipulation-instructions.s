# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=aarch64 -mcpu=olympus -instruction-tables < %s | FileCheck %s

setf8  w1
setf16 w1
rmif   x0, #0, #0
cfinv
axflag
xaflag

# CHECK:      Instruction Info:
# CHECK-NEXT: [1]: #uOps
# CHECK-NEXT: [2]: Latency
# CHECK-NEXT: [3]: RThroughput
# CHECK-NEXT: [4]: MayLoad
# CHECK-NEXT: [5]: MayStore
# CHECK-NEXT: [6]: HasSideEffects (U)

# CHECK:      [1]    [2]    [3]    [4]    [5]    [6]    Instructions:
# CHECK-NEXT:  1      1     0.17                  U     setf8	w1
# CHECK-NEXT:  1      1     0.17                  U     setf16	w1
# CHECK-NEXT:  1      1     0.17                  U     rmif	x0, #0, #0
# CHECK-NEXT:  1      1     0.17                  U     cfinv
# CHECK-NEXT:  1      1     0.17                  U     axflag
# CHECK-NEXT:  1      1     0.17                  U     xaflag

# CHECK:      Resources:
# CHECK-NEXT: [0.0] - OlympusUnitB
# CHECK-NEXT: [0.1] - OlympusUnitB
# CHECK-NEXT: [0.2] - OlympusUnitB
# CHECK-NEXT: [0.3] - OlympusUnitB
# CHECK-NEXT: [1.0] - OlympusUnitD
# CHECK-NEXT: [1.1] - OlympusUnitD
# CHECK-NEXT: [2.0] - OlympusUnitF
# CHECK-NEXT: [2.1] - OlympusUnitF
# CHECK-NEXT: [2.2] - OlympusUnitF
# CHECK-NEXT: [2.3] - OlympusUnitF
# CHECK-NEXT: [2.4] - OlympusUnitF
# CHECK-NEXT: [2.5] - OlympusUnitF
# CHECK-NEXT: [3.0] - OlympusUnitL
# CHECK-NEXT: [3.1] - OlympusUnitL
# CHECK-NEXT: [3.2] - OlympusUnitL
# CHECK-NEXT: [3.3] - OlympusUnitL
# CHECK-NEXT: [4]   - OlympusUnitM0
# CHECK-NEXT: [5]   - OlympusUnitM1
# CHECK-NEXT: [6.0] - OlympusUnitS
# CHECK-NEXT: [6.1] - OlympusUnitS
# CHECK-NEXT: [6.2] - OlympusUnitS
# CHECK-NEXT: [6.3] - OlympusUnitS
# CHECK-NEXT: [6.4] - OlympusUnitS
# CHECK-NEXT: [6.5] - OlympusUnitS
# CHECK-NEXT: [7.0] - OlympusUnitSA
# CHECK-NEXT: [7.1] - OlympusUnitSA
# CHECK-NEXT: [8]   - OlympusUnitV0
# CHECK-NEXT: [9]   - OlympusUnitV1
# CHECK-NEXT: [10]  - OlympusUnitV2
# CHECK-NEXT: [11]  - OlympusUnitV3
# CHECK-NEXT: [12.0] - OlympusUnitV45
# CHECK-NEXT: [12.1] - OlympusUnitV45

# CHECK:      Resource pressure per iteration:
# CHECK-NEXT: [0.0]  [0.1]  [0.2]  [0.3]  [1.0]  [1.1]  [2.0]  [2.1]  [2.2]  [2.3]  [2.4]  [2.5]  [3.0]  [3.1]  [3.2]  [3.3]  [4]    [5]    [6.0]  [6.1]  [6.2]  [6.3]  [6.4]  [6.5]  [7.0]  [7.1]  [8]    [9]    [10]   [11]   [12.0] [12.1]
# CHECK-NEXT:  -      -      -      -      -      -     1.00   1.00   1.00   1.00   1.00   1.00    -      -      -      -     0.75   0.75   0.75   0.75   0.75   0.75   0.75   0.75    -      -      -      -      -      -      -      -

# CHECK:      Resource pressure by instruction:
# CHECK-NEXT: [0.0]  [0.1]  [0.2]  [0.3]  [1.0]  [1.1]  [2.0]  [2.1]  [2.2]  [2.3]  [2.4]  [2.5]  [3.0]  [3.1]  [3.2]  [3.3]  [4]    [5]    [6.0]  [6.1]  [6.2]  [6.3]  [6.4]  [6.5]  [7.0]  [7.1]  [8]    [9]    [10]   [11]   [12.0] [12.1] Instructions:
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     setf8	w1
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     setf16	w1
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     rmif	x0, #0, #0
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     cfinv
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     axflag
# CHECK-NEXT:  -      -      -      -      -      -     0.17   0.17   0.17   0.17   0.17   0.17    -      -      -      -     0.13   0.13   0.13   0.13   0.13   0.13   0.13   0.13    -      -      -      -      -      -      -      -     xaflag
