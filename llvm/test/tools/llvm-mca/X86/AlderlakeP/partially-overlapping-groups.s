# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -mcpu=alderlake -all-views=false -summary-view < %s | FileCheck %s

# Issue #57548

# Do not crash when simulating instructions that consume partially overlapping
# resource groups.

vpsllw %xmm1, %ymm0, %ymm0
vpsllw %xmm1, %xmm2, %xmm1
vpand %ymm1, %ymm0, %ymm0

# CHECK:      Iterations:        100
# CHECK-NEXT: Instructions:      300
# CHECK-NEXT: Total Cycles:      503
# CHECK-NEXT: Total uOps:        500

# CHECK:      Dispatch Width:    6
# CHECK-NEXT: uOps Per Cycle:    0.99
# CHECK-NEXT: IPC:               0.60
# CHECK-NEXT: Block RThroughput: 1.0
