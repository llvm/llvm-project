# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -mcpu=btver2                  -iterations=1 %s | FileCheck --check-prefixes=ALL,DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -mcpu=btver2 -call-latency=50 -iterations=1 %s | FileCheck --check-prefixes=ALL,CUSTOM %s

callq printf

# ALL:          Iterations:        1
# ALL-NEXT:     Instructions:      1

# CUSTOM-NEXT:  Total Cycles:      53
# DEFAULT-NEXT: Total Cycles:      103

# ALL-NEXT:     Total uOps:        1

# ALL:          Dispatch Width:    2

# CUSTOM-NEXT:  uOps Per Cycle:    0.02
# CUSTOM-NEXT:  IPC:               0.02

# DEFAULT-NEXT: uOps Per Cycle:    0.01
# DEFAULT-NEXT: IPC:               0.01

# ALL-NEXT:     Block RThroughput: 0.5

# ALL:          Instruction Info:
# ALL-NEXT:     [1]: #uOps
# ALL-NEXT:     [2]: Latency
# ALL-NEXT:     [3]: RThroughput
# ALL-NEXT:     [4]: MayLoad
# ALL-NEXT:     [5]: MayStore
# ALL-NEXT:     [6]: HasSideEffects (U)

# ALL:          [1]    [2]    [3]    [4]    [5]    [6]    Instructions:
# ALL-NEXT:      1      1     0.50                        callq	printf

# ALL:          Resources:
# ALL-NEXT:     [0]   - JALU0
# ALL-NEXT:     [1]   - JALU1
# ALL-NEXT:     [2]   - JDiv
# ALL-NEXT:     [3]   - JFPA
# ALL-NEXT:     [4]   - JFPM
# ALL-NEXT:     [5]   - JFPU0
# ALL-NEXT:     [6]   - JFPU1
# ALL-NEXT:     [7]   - JLAGU
# ALL-NEXT:     [8]   - JMul
# ALL-NEXT:     [9]   - JSAGU
# ALL-NEXT:     [10]  - JSTC
# ALL-NEXT:     [11]  - JVALU0
# ALL-NEXT:     [12]  - JVALU1
# ALL-NEXT:     [13]  - JVIMUL

# ALL:          Resource pressure per iteration:
# ALL-NEXT:     [0]    [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]    [9]    [10]   [11]   [12]   [13]
# ALL-NEXT:      -     1.00    -      -      -      -      -      -      -      -      -      -      -      -

# ALL:          Resource pressure by instruction:
# ALL-NEXT:     [0]    [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]    [9]    [10]   [11]   [12]   [13]   Instructions:
# ALL-NEXT:      -     1.00    -      -      -      -      -      -      -      -      -      -      -      -     callq	printf
