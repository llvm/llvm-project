# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=riscv64 -mcpu=spacemit-x100 -iterations=1 -instruction-tables=full %p/../Inputs/floating-point.s | FileCheck %s

# CHECK:      Resources:
# CHECK-NEXT: [0]   - SMTX100_BQ:2
# CHECK-NEXT: [1]   - SMTX100_FQ:4 SMTX100_FQ0, SMTX100_FQ0, SMTX100_FQ1, SMTX100_FQ1
# CHECK-NEXT: [2]   - SMTX100_FQ0:2
# CHECK-NEXT: [3]   - SMTX100_FQ1:2
# CHECK-NEXT: [4]   - SMTX100_IQ:4 SMTX100_IQ0, SMTX100_IQ0, SMTX100_IQ1, SMTX100_IQ1
# CHECK-NEXT: [5]   - SMTX100_IQ0:2
# CHECK-NEXT: [6]   - SMTX100_IQ1:2
# CHECK-NEXT: [7]   - SMTX100_LSQ:4

# CHECK:      Instruction Info:
# CHECK-NEXT: [1]: #uOps
# CHECK-NEXT: [2]: Latency
# CHECK-NEXT: [3]: RThroughput
# CHECK-NEXT: [4]: MayLoad
# CHECK-NEXT: [5]: MayStore
# CHECK-NEXT: [6]: HasSideEffects (U)
# CHECK-NEXT: [7]: Bypass Latency
# CHECK-NEXT: [8]: Resources (<Name> | <Name>[<ReleaseAtCycle>] | <Name>[<AcquireAtCycle>,<ReleaseAtCycle])
# CHECK-NEXT: [9]: LLVM Opcode Name

# CHECK:      [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]                                        [9]                        Instructions:
# CHECK-NEXT:  1      4     0.25    *                    4     SMTX100_LSQ                                FLW                        flw	ft0, 0(a0)
# CHECK-NEXT:  1      1     0.25           *             1     SMTX100_LSQ                                FSW                        fsw	ft0, 0(a0)
# CHECK-NEXT:  1      4     0.25    *                    4     SMTX100_LSQ                                FLD                        fld	ft0, 0(a0)
# CHECK-NEXT:  1      1     0.25           *             1     SMTX100_LSQ                                FSD                        fsd	ft0, 0(a0)
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FADD_S                     fadd.s	fs10, fs11, ft8
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSUB_S                     fsub.s	ft9, ft10, ft11
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FMUL_S                     fmul.s	ft0, ft1, ft2
# CHECK-NEXT:  1      12    6.00                         12    SMTX100_FQ[12],SMTX100_FQ0[12]             FDIV_S                     fdiv.s	ft3, ft4, ft5
# CHECK-NEXT:  1      12    6.00                         12    SMTX100_FQ[12],SMTX100_FQ0[12]             FSQRT_S                    fsqrt.s	ft6, ft7
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMIN_S                     fmin.s	fa5, fa6, fa7
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMAX_S                     fmax.s	fs2, fs3, fs4
# CHECK-NEXT:  1      5     0.25                         5     SMTX100_FQ                                 FMADD_S                    fmadd.s	fa0, fa1, fa2, ft11
# CHECK-NEXT:  1      5     0.25                         5     SMTX100_FQ                                 FMSUB_S                    fmsub.s	fa4, fa5, fa6, fa7
# CHECK-NEXT:  1      5     0.25                         5     SMTX100_FQ                                 FNMSUB_S                   fnmsub.s	fs2, fs3, fs4, fs5
# CHECK-NEXT:  1      5     0.25                         5     SMTX100_FQ                                 FNMADD_S                   fnmadd.s	fs6, fs7, fs8, fs9
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FADD_D                     fadd.d	fs10, fs11, ft8
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSUB_D                     fsub.d	ft9, ft10, ft11
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FMUL_D                     fmul.d	ft0, ft1, ft2
# CHECK-NEXT:  1      20    10.00                        20    SMTX100_FQ[20],SMTX100_FQ0[20]             FDIV_D                     fdiv.d	ft3, ft4, ft5
# CHECK-NEXT:  1      20    10.00                        20    SMTX100_FQ[20],SMTX100_FQ0[20]             FSQRT_D                    fsqrt.d	ft6, ft7
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMIN_D                     fmin.d	fa5, fa6, fa7
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMAX_D                     fmax.d	fs2, fs3, fs4
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FMADD_D                    fmadd.d	fa0, fa1, fa2, ft11
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FMSUB_D                    fmsub.d	fa4, fa5, fa6, fa7
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FNMSUB_D                   fnmsub.d	fs2, fs3, fs4, fs5
# CHECK-NEXT:  1      4     0.25                         4     SMTX100_FQ                                 FNMADD_D                   fnmadd.d	fs6, fs7, fs8, fs9
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_W_S                   fcvt.w.s	a0, fs5
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_WU_S                  fcvt.wu.s	a1, fs6
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_S_W                   fcvt.s.w	ft11, a4
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_S_WU                  fcvt.s.wu	ft0, a5
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_L_S                   fcvt.l.s	a0, ft0
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_LU_S                  fcvt.lu.s	a1, ft1
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_S_L                   fcvt.s.l	ft2, a2
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_S_LU                  fcvt.s.lu	ft3, a3
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMV_X_W                    fmv.x.w	a2, fs7
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMV_W_X                    fmv.w.x	ft1, a6
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSGNJ_S                    fsgnj.s	fs1, fa0, fa1
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSGNJN_S                   fsgnjn.s	fa1, fa3, fa4
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_WU_D                  fcvt.wu.d	a4, ft11
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_W_D                   fcvt.w.d	a4, ft11
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_D_W                   fcvt.d.w	ft0, a5
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_D_WU                  fcvt.d.wu	ft1, a6
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_S_D                   fcvt.s.d	fs5, fs6
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_D_S                   fcvt.d.s	fs7, fs8
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_L_D                   fcvt.l.d	a0, ft0
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_LU_D                  fcvt.lu.d	a1, ft1
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_D_L                   fcvt.d.l	ft3, a3
# CHECK-NEXT:  1      3     0.50                         3     SMTX100_FQ,SMTX100_FQ1                     FCVT_D_LU                  fcvt.d.lu	ft4, a4
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMV_X_D                    fmv.x.d	a2, ft2
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FMV_D_X                    fmv.d.x	ft5, a5
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSGNJ_D                    fsgnj.d	fs1, fa0, fa1
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FSGNJN_D                   fsgnjn.d	fa1, fa3, fa4
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FEQ_S                      feq.s	a1, fs8, fs9
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FLT_S                      flt.s	a2, fs10, fs11
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FLE_S                      fle.s	a3, ft8, ft9
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FEQ_D                      feq.d	a1, fs8, fs9
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FLT_D                      flt.d	a2, fs10, fs11
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FLE_D                      fle.d	a3, ft8, ft9
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FCLASS_S                   fclass.s	a3, ft10
# CHECK-NEXT:  1      3     0.25                         3     SMTX100_FQ                                 FCLASS_D                   fclass.d	a3, ft10

# CHECK:      Resources:
# CHECK-NEXT: [0.0] - SMTX100_BQ
# CHECK-NEXT: [0.1] - SMTX100_BQ
# CHECK-NEXT: [1.0] - SMTX100_FQ0
# CHECK-NEXT: [1.1] - SMTX100_FQ0
# CHECK-NEXT: [2.0] - SMTX100_FQ1
# CHECK-NEXT: [2.1] - SMTX100_FQ1
# CHECK-NEXT: [3.0] - SMTX100_IQ0
# CHECK-NEXT: [3.1] - SMTX100_IQ0
# CHECK-NEXT: [4.0] - SMTX100_IQ1
# CHECK-NEXT: [4.1] - SMTX100_IQ1
# CHECK-NEXT: [5.0] - SMTX100_LSQ
# CHECK-NEXT: [5.1] - SMTX100_LSQ
# CHECK-NEXT: [5.2] - SMTX100_LSQ
# CHECK-NEXT: [5.3] - SMTX100_LSQ

# CHECK:      Resource pressure per iteration:
# CHECK-NEXT: [0.0]  [0.1]  [1.0]  [1.1]  [2.0]  [2.1]  [3.0]  [3.1]  [4.0]  [4.1]  [5.0]  [5.1]  [5.2]  [5.3]
# CHECK-NEXT:  -      -     40.50  40.50  17.50  17.50   -      -      -      -     1.00   1.00   1.00   1.00

# CHECK:      Resource pressure by instruction:
# CHECK-NEXT: [0.0]  [0.1]  [1.0]  [1.1]  [2.0]  [2.1]  [3.0]  [3.1]  [4.0]  [4.1]  [5.0]  [5.1]  [5.2]  [5.3]  Instructions:
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25   flw	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25   fsw	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25   fld	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -      -      -      -      -     0.25   0.25   0.25   0.25   fsd	ft0, 0(a0)
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fadd.s	fs10, fs11, ft8
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsub.s	ft9, ft10, ft11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmul.s	ft0, ft1, ft2
# CHECK-NEXT:  -      -     6.00   6.00    -      -      -      -      -      -      -      -      -      -     fdiv.s	ft3, ft4, ft5
# CHECK-NEXT:  -      -     6.00   6.00    -      -      -      -      -      -      -      -      -      -     fsqrt.s	ft6, ft7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmin.s	fa5, fa6, fa7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmax.s	fs2, fs3, fs4
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmadd.s	fa0, fa1, fa2, ft11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmsub.s	fa4, fa5, fa6, fa7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fnmsub.s	fs2, fs3, fs4, fs5
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fnmadd.s	fs6, fs7, fs8, fs9
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fadd.d	fs10, fs11, ft8
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsub.d	ft9, ft10, ft11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmul.d	ft0, ft1, ft2
# CHECK-NEXT:  -      -     10.00  10.00   -      -      -      -      -      -      -      -      -      -     fdiv.d	ft3, ft4, ft5
# CHECK-NEXT:  -      -     10.00  10.00   -      -      -      -      -      -      -      -      -      -     fsqrt.d	ft6, ft7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmin.d	fa5, fa6, fa7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmax.d	fs2, fs3, fs4
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmadd.d	fa0, fa1, fa2, ft11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmsub.d	fa4, fa5, fa6, fa7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fnmsub.d	fs2, fs3, fs4, fs5
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fnmadd.d	fs6, fs7, fs8, fs9
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.w.s	a0, fs5
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.wu.s	a1, fs6
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.s.w	ft11, a4
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.s.wu	ft0, a5
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.l.s	a0, ft0
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.lu.s	a1, ft1
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.s.l	ft2, a2
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.s.lu	ft3, a3
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmv.x.w	a2, fs7
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmv.w.x	ft1, a6
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsgnj.s	fs1, fa0, fa1
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsgnjn.s	fa1, fa3, fa4
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.wu.d	a4, ft11
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.w.d	a4, ft11
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.d.w	ft0, a5
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.d.wu	ft1, a6
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.s.d	fs5, fs6
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.d.s	fs7, fs8
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.l.d	a0, ft0
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.lu.d	a1, ft1
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.d.l	ft3, a3
# CHECK-NEXT:  -      -      -      -     0.50   0.50    -      -      -      -      -      -      -      -     fcvt.d.lu	ft4, a4
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmv.x.d	a2, ft2
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fmv.d.x	ft5, a5
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsgnj.d	fs1, fa0, fa1
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fsgnjn.d	fa1, fa3, fa4
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     feq.s	a1, fs8, fs9
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     flt.s	a2, fs10, fs11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fle.s	a3, ft8, ft9
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     feq.d	a1, fs8, fs9
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     flt.d	a2, fs10, fs11
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fle.d	a3, ft8, ft9
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fclass.s	a3, ft10
# CHECK-NEXT:  -      -     0.25   0.25   0.25   0.25    -      -      -      -      -      -      -      -     fclass.d	a3, ft10
