# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=riscv64 -mcpu=sifive-p470 -iterations=1 -instruction-tables=full %p/../Inputs/floating-point.s | FileCheck %s

# CHECK:      Resources:
# CHECK-NEXT: [0]   - SiFiveP400Div:1
# CHECK-NEXT: [1]   - SiFiveP400FEXQ0:1
# CHECK-NEXT: [2]   - SiFiveP400FloatDiv:1
# CHECK-NEXT: [3]   - SiFiveP400IEXQ0:1
# CHECK-NEXT: [4]   - SiFiveP400IEXQ1:1
# CHECK-NEXT: [5]   - SiFiveP400IEXQ2:1
# CHECK-NEXT: [6]   - SiFiveP400IntArith:3 SiFiveP400IEXQ0, SiFiveP400IEXQ1, SiFiveP400IEXQ2
# CHECK-NEXT: [7]   - SiFiveP400Load:1
# CHECK-NEXT: [8]   - SiFiveP400Store:1
# CHECK-NEXT: [9]   - SiFiveP400VDiv:1
# CHECK-NEXT: [10]  - SiFiveP400VEXQ0:1
# CHECK-NEXT: [11]  - SiFiveP400VFloatDiv:1
# CHECK-NEXT: [12]  - SiFiveP400VLD:1
# CHECK-NEXT: [13]  - SiFiveP400VST:1

# CHECK:      Instruction Info:
# CHECK-NEXT: [1]: #uOps
# CHECK-NEXT: [2]: Latency
# CHECK-NEXT: [3]: RThroughput
# CHECK-NEXT: [4]: MayLoad
# CHECK-NEXT: [5]: MayStore
# CHECK-NEXT: [6]: HasSideEffects (U)
# CHECK-NEXT: [7]: Bypass Latency
# CHECK-NEXT: [8]: Resources (<Name> | <Name>[<ReleaseAtCycle>] | <Name>[<AcquireAtCycle>,<ReleaseAtCycle])
# CHECK-NEXT: [9]: LLVM Opcode Name

# CHECK:      [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]                                        [9]                        Instructions:
# CHECK-NEXT:  1      5     1.00    *                    5     SiFiveP400Load                             FLW                        flw	ft0, 0(a0)
# CHECK-NEXT:  1      1     1.00           *             1     SiFiveP400Store                            FSW                        fsw	ft0, 0(a0)
# CHECK-NEXT:  1      5     1.00    *                    5     SiFiveP400Load                             FLD                        fld	ft0, 0(a0)
# CHECK-NEXT:  1      1     1.00           *             1     SiFiveP400Store                            FSD                        fsd	ft0, 0(a0)
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FADD_S                     fadd.s	fs10, fs11, ft8
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FSUB_S                     fsub.s	ft9, ft10, ft11
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMUL_S                     fmul.s	ft0, ft1, ft2
# CHECK-NEXT:  1      19    18.00                        19    SiFiveP400FEXQ0,SiFiveP400FloatDiv[18]     FDIV_S                     fdiv.s	ft3, ft4, ft5
# CHECK-NEXT:  1      18    17.00                        18    SiFiveP400FEXQ0,SiFiveP400FloatDiv[17]     FSQRT_S                    fsqrt.s	ft6, ft7
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMIN_S                     fmin.s	fa5, fa6, fa7
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMAX_S                     fmax.s	fs2, fs3, fs4
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMADD_S                    fmadd.s	fa0, fa1, fa2, ft11
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMSUB_S                    fmsub.s	fa4, fa5, fa6, fa7
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FNMSUB_S                   fnmsub.s	fs2, fs3, fs4, fs5
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FNMADD_S                   fnmadd.s	fs6, fs7, fs8, fs9
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FADD_D                     fadd.d	fs10, fs11, ft8
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FSUB_D                     fsub.d	ft9, ft10, ft11
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMUL_D                     fmul.d	ft0, ft1, ft2
# CHECK-NEXT:  1      33    32.00                        33    SiFiveP400FEXQ0,SiFiveP400FloatDiv[32]     FDIV_D                     fdiv.d	ft3, ft4, ft5
# CHECK-NEXT:  1      33    32.00                        33    SiFiveP400FEXQ0,SiFiveP400FloatDiv[32]     FSQRT_D                    fsqrt.d	ft6, ft7
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMIN_D                     fmin.d	fa5, fa6, fa7
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMAX_D                     fmax.d	fs2, fs3, fs4
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMADD_D                    fmadd.d	fa0, fa1, fa2, ft11
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FMSUB_D                    fmsub.d	fa4, fa5, fa6, fa7
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FNMSUB_D                   fnmsub.d	fs2, fs3, fs4, fs5
# CHECK-NEXT:  1      4     1.00                         4     SiFiveP400FEXQ0                            FNMADD_D                   fnmadd.d	fs6, fs7, fs8, fs9
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_W_S                   fcvt.w.s	a0, fs5
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_WU_S                  fcvt.wu.s	a1, fs6
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_S_W                   fcvt.s.w	ft11, a4
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_S_WU                  fcvt.s.wu	ft0, a5
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_L_S                   fcvt.l.s	a0, ft0
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_LU_S                  fcvt.lu.s	a1, ft1
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_S_L                   fcvt.s.l	ft2, a2
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_S_LU                  fcvt.s.lu	ft3, a3
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMV_X_W                    fmv.x.w	a2, fs7
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FMV_W_X                    fmv.w.x	ft1, a6
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FSGNJ_S                    fsgnj.s	fs1, fa0, fa1
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FSGNJN_S                   fsgnjn.s	fa1, fa3, fa4
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_WU_D                  fcvt.wu.d	a4, ft11
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_W_D                   fcvt.w.d	a4, ft11
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_D_W                   fcvt.d.w	ft0, a5
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_D_WU                  fcvt.d.wu	ft1, a6
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_S_D                   fcvt.s.d	fs5, fs6
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_D_S                   fcvt.d.s	fs7, fs8
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_L_D                   fcvt.l.d	a0, ft0
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCVT_LU_D                  fcvt.lu.d	a1, ft1
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_D_L                   fcvt.d.l	ft3, a3
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FCVT_D_LU                  fcvt.d.lu	ft4, a4
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FMV_X_D                    fmv.x.d	a2, ft2
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400IEXQ2,SiFiveP400IntArith         FMV_D_X                    fmv.d.x	ft5, a5
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FSGNJ_D                    fsgnj.d	fs1, fa0, fa1
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FSGNJN_D                   fsgnjn.d	fa1, fa3, fa4
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FEQ_S                      feq.s	a1, fs8, fs9
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FLT_S                      flt.s	a2, fs10, fs11
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FLE_S                      fle.s	a3, ft8, ft9
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FEQ_D                      feq.d	a1, fs8, fs9
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FLT_D                      flt.d	a2, fs10, fs11
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FLE_D                      fle.d	a3, ft8, ft9
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCLASS_S                   fclass.s	a3, ft10
# CHECK-NEXT:  1      2     1.00                         2     SiFiveP400FEXQ0                            FCLASS_D                   fclass.d	a3, ft10

# CHECK:      Resources:
# CHECK-NEXT: [0]   - SiFiveP400Div
# CHECK-NEXT: [1]   - SiFiveP400FEXQ0
# CHECK-NEXT: [2]   - SiFiveP400FloatDiv
# CHECK-NEXT: [3]   - SiFiveP400IEXQ0
# CHECK-NEXT: [4]   - SiFiveP400IEXQ1
# CHECK-NEXT: [5]   - SiFiveP400IEXQ2
# CHECK-NEXT: [6]   - SiFiveP400Load
# CHECK-NEXT: [7]   - SiFiveP400Store
# CHECK-NEXT: [8]   - SiFiveP400VDiv
# CHECK-NEXT: [9]   - SiFiveP400VEXQ0
# CHECK-NEXT: [10]  - SiFiveP400VFloatDiv
# CHECK-NEXT: [11]  - SiFiveP400VLD
# CHECK-NEXT: [12]  - SiFiveP400VST

# CHECK:      Resource pressure per iteration:
# CHECK-NEXT: [0]    [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]    [9]    [10]   [11]   [12]
# CHECK-NEXT:  -     46.00  99.00   -      -     10.00  2.00   2.00    -      -      -      -      -

# CHECK:      Resource pressure by instruction:
# CHECK-NEXT: [0]    [1]    [2]    [3]    [4]    [5]    [6]    [7]    [8]    [9]    [10]   [11]   [12]   Instructions:
# CHECK-NEXT:  -      -      -      -      -      -     1.00    -      -      -      -      -      -     flw	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -      -     1.00    -      -      -      -      -     fsw	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -     1.00    -      -      -      -      -      -     fld	ft0, 0(a0)
# CHECK-NEXT:  -      -      -      -      -      -      -     1.00    -      -      -      -      -     fsd	ft0, 0(a0)
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fadd.s	fs10, fs11, ft8
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsub.s	ft9, ft10, ft11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmul.s	ft0, ft1, ft2
# CHECK-NEXT:  -     1.00   18.00   -      -      -      -      -      -      -      -      -      -     fdiv.s	ft3, ft4, ft5
# CHECK-NEXT:  -     1.00   17.00   -      -      -      -      -      -      -      -      -      -     fsqrt.s	ft6, ft7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmin.s	fa5, fa6, fa7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmax.s	fs2, fs3, fs4
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmadd.s	fa0, fa1, fa2, ft11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmsub.s	fa4, fa5, fa6, fa7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fnmsub.s	fs2, fs3, fs4, fs5
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fnmadd.s	fs6, fs7, fs8, fs9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fadd.d	fs10, fs11, ft8
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsub.d	ft9, ft10, ft11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmul.d	ft0, ft1, ft2
# CHECK-NEXT:  -     1.00   32.00   -      -      -      -      -      -      -      -      -      -     fdiv.d	ft3, ft4, ft5
# CHECK-NEXT:  -     1.00   32.00   -      -      -      -      -      -      -      -      -      -     fsqrt.d	ft6, ft7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmin.d	fa5, fa6, fa7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmax.d	fs2, fs3, fs4
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmadd.d	fa0, fa1, fa2, ft11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmsub.d	fa4, fa5, fa6, fa7
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fnmsub.d	fs2, fs3, fs4, fs5
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fnmadd.d	fs6, fs7, fs8, fs9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.w.s	a0, fs5
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.wu.s	a1, fs6
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.s.w	ft11, a4
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.s.wu	ft0, a5
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.l.s	a0, ft0
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.lu.s	a1, ft1
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.s.l	ft2, a2
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.s.lu	ft3, a3
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmv.x.w	a2, fs7
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fmv.w.x	ft1, a6
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsgnj.s	fs1, fa0, fa1
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsgnjn.s	fa1, fa3, fa4
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.wu.d	a4, ft11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.w.d	a4, ft11
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.d.w	ft0, a5
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.d.wu	ft1, a6
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.s.d	fs5, fs6
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.d.s	fs7, fs8
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.l.d	a0, ft0
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fcvt.lu.d	a1, ft1
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.d.l	ft3, a3
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fcvt.d.lu	ft4, a4
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fmv.x.d	a2, ft2
# CHECK-NEXT:  -      -      -      -      -     1.00    -      -      -      -      -      -      -     fmv.d.x	ft5, a5
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsgnj.d	fs1, fa0, fa1
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fsgnjn.d	fa1, fa3, fa4
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     feq.s	a1, fs8, fs9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     flt.s	a2, fs10, fs11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fle.s	a3, ft8, ft9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     feq.d	a1, fs8, fs9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     flt.d	a2, fs10, fs11
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fle.d	a3, ft8, ft9
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fclass.s	a3, ft10
# CHECK-NEXT:  -     1.00    -      -      -      -      -      -      -      -      -      -      -     fclass.d	a3, ft10
