; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=next32 < %s | FileCheck %s

define dso_local i32 @alloca1(i32 noundef %0) {
; CHECK-LABEL: alloca1
; CHECK:    alloca r2, r3, r1, tid
  %2 = zext i32 %0 to i64
  %3 = alloca i8, i64 %2, align 1
  call void @bar(i8* noundef nonnull %3)
  %4 = load i8, i8* %3, align 1
  %5 = sext i8 %4 to i32
  ret i32 %5
}

declare dso_local void @bar(i8* noundef)
