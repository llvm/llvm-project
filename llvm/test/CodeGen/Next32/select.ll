; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=next32 < %s | FileCheck %s

%struct.w8 = type { i8 }

define dso_local void @select1(%struct.w8* noalias nocapture writeonly sret(%struct.w8) align 1 %0, i8 noundef zeroext %1, i8* nocapture noundef writeonly %2, i1 noundef zeroext %3) {
; CHECK-LABEL: select1
; CHECK:    movl r7, 0x0
; CHECK-NEXT:    sub r6, r7
; CHECK-NEXT:    dup r7, r6
; CHECK-NEXT:    flags r7
; CHECK-NEXT:    select.ne r1, r4 [r7]
; CHECK-NEXT:    select.ne r2, r5 [r7]
  %5 = getelementptr inbounds %struct.w8, %struct.w8* %0, i64 0, i32 0
  %6 = select i1 %3, i8* %2, i8* %5
  store i8 %1, i8* %6, align 1
  ret void
}
