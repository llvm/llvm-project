; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=avr %s -start-before=avr-isel -o - | FileCheck %s

define void @test(i16 %x, ptr addrspace(1) %o) {
; CHECK-LABEL: test:
; CHECK:       ; %bb.0:
; CHECK-NEXT:    mov r30, r22
; CHECK-NEXT:    mov r31, r23
; CHECK-NEXT:    std Z+11, r25
; CHECK-NEXT:    std Z+10, r24
; CHECK-NEXT:    ret
  %int = ptrtoint ptr addrspace(1) %o to i16
  %or = or disjoint i16 %int, 10
  %addr = inttoptr i16 %or to ptr addrspace(1)
  store i16 %x, ptr addrspace(1) %addr
  ret void
}

