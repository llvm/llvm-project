# RUN: llc -mtriple=hexagon -run-pass hexagon-constp %s -o - | FileCheck %s

# Check that Hexagon const-prop can handle a sign-bit CONST32 immediate without
# crashing (e.g. 0x80000000).
# CHECK: CONST32 {{(-2147483648|2147483648)}}

--- |
  define void @fred() {
    ret void
  }
...

---
name: fred
tracksRegLiveness: true
body: |
  bb.0:
    %0:intregs = IMPLICIT_DEF
    %1:intregs = CONST32 2147483648
    S2_storeri_io %0, 0, killed %1
...
