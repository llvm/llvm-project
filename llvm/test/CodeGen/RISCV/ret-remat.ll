; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=riscv64 -mattr=+m,+a,+f,+d,+c < %s | FileCheck %s

@bytes1 = external hidden global i32

define i8 @cast_and_load_1() {
; CHECK-LABEL: cast_and_load_1:
; CHECK:       # %bb.0:
; CHECK-NEXT:    lui a1, %hi(bytes1)
; CHECK-NEXT:    li a0, 42
; CHECK-NEXT:    sw a0, %lo(bytes1)(a1)
; CHECK-NEXT:    ret
  store i32 42, ptr @bytes1, align 4
  %l = load i8, ptr @bytes1, align 1
  ret i8 %l
}
