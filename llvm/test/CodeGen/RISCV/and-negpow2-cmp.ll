; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple=riscv64 | FileCheck %s

define i1 @src(i64 %x) {
; CHECK-LABEL: src:
; CHECK:       # %bb.0:
; CHECK-NEXT:    srli a0, a0, 30
; CHECK-NEXT:    lui a1, 524288
; CHECK-NEXT:    srli a1, a1, 30
; CHECK-NEXT:    xor a0, a0, a1
; CHECK-NEXT:    seqz a0, a0
; CHECK-NEXT:    ret
  %a = and i64 %x, -1073741824
  %b = icmp eq i64 %a, -2147483648
  ret i1 %b
}
