; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=xtensa -mattr=+threadptr < %s | FileCheck %s

@i = external thread_local global i32

define i32 @f() {
; CHECK-LABEL: f:
; CHECK:         .cfi_startproc
; CHECK-NEXT:  # %bb.0: # %entry
; CHECK-NEXT:    l32r a8, .LCPI0_0
; CHECK-NEXT:    rur a9, threadptr
; CHECK-NEXT:    add a8, a9, a8
; CHECK-NEXT:    l32i a2, a8, 0
; CHECK-NEXT:    ret
entry:
  %tmp1 = load i32, ptr @i
  ret i32 %tmp1
}
