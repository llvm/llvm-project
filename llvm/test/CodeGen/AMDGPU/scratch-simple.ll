; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=verde -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,SI,SIVI,MUBUF %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx803 -mattr=-flat-for-global -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,VI,SIVI,MUBUF %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx900 -mattr=-flat-for-global -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,MUBUF,GFX9-MUBUF,GFX9_10-MUBUF %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx900 -filetype=obj -amdgpu-use-divergent-register-indexing < %s | llvm-readobj -r - | FileCheck --check-prefix=RELS %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx1010 -mattr=-flat-for-global -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,MUBUF,GFX10_W32-MUBUF,GFX9_10-MUBUF %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx1010 -mattr=-flat-for-global,+wavefrontsize64 -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,MUBUF,GFX10_W64-MUBUF,GFX9_10-MUBUF %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx900 -mattr=-flat-for-global,+enable-flat-scratch -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,FLATSCR,GFX9-FLATSCR %s
; RUN: llc -march=amdgcn -mtriple=amdgcn-- -mcpu=gfx1030 -mattr=-flat-for-global,+enable-flat-scratch -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,FLATSCR,GFX10-FLATSCR %s
; RUN: llc -march=amdgcn -mtriple=amdgcn--amdpal -mcpu=gfx900 -mattr=-flat-for-global,+enable-flat-scratch -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,FLATSCR,GFX9-FLATSCR-PAL %s
; RUN: llc -march=amdgcn -mtriple=amdgcn--amdpal -mcpu=gfx1030 -mattr=-flat-for-global,+enable-flat-scratch -amdgpu-use-divergent-register-indexing -verify-machineinstrs < %s | FileCheck --check-prefixes=GCN,GFX9_10,FLATSCR,GFX10-FLATSCR-PAL %s

; RELS: R_AMDGPU_ABS32_LO SCRATCH_RSRC_DWORD0
; RELS: R_AMDGPU_ABS32_LO SCRATCH_RSRC_DWORD1


define amdgpu_ps float @ps_main(i32 %idx) {
; SI-LABEL: ps_main:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s4, s0
; SI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s2, -1
; SI-NEXT:    s_mov_b32 s3, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s0, s0, s4
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s1, s1, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: ps_main:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s4, s0
; VI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s2, -1
; VI-NEXT:    s_mov_b32 s3, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s0, s0, s4
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s1, s1, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: ps_main:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX9-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s3, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX9-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: ps_main:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s3, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: ps_main:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s3, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: ps_main:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s2
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: ps_main:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s2
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: ps_main:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: ps_main:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s2, s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s3, s3, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s2
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %r = fadd float %v1, %v2
  ret float %r
}

define amdgpu_vs float @vs_main(i32 %idx) {
; SI-LABEL: vs_main:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s4, s0
; SI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s2, -1
; SI-NEXT:    s_mov_b32 s3, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s0, s0, s4
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s1, s1, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: vs_main:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s4, s0
; VI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s2, -1
; VI-NEXT:    s_mov_b32 s3, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s0, s0, s4
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s1, s1, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: vs_main:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX9-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s3, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX9-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: vs_main:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s3, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: vs_main:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s3, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: vs_main:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s2
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: vs_main:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s2
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: vs_main:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: vs_main:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s2, s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s3, s3, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s2
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %r = fadd float %v1, %v2
  ret float %r
}

define amdgpu_cs float @cs_main(i32 %idx) {
; SI-LABEL: cs_main:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s4, s0
; SI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s2, -1
; SI-NEXT:    s_mov_b32 s3, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s0, s0, s4
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s1, s1, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: cs_main:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s4, s0
; VI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s2, -1
; VI-NEXT:    s_mov_b32 s3, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s0, s0, s4
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s1, s1, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: cs_main:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX9-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s3, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX9-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: cs_main:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s3, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: cs_main:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s4, s0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s3, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s0, s0, s4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: cs_main:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s2
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: cs_main:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s2
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: cs_main:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x10
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s2, s0
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: cs_main:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[2:3]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[2:3], s[2:3], 0x10
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s3, s3, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s2, s2, s0
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s3, s3, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s2
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %r = fadd float %v1, %v2
  ret float %r
}

define amdgpu_hs float @hs_main(i32 %idx) {
; SI-LABEL: hs_main:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s4, s0
; SI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s2, -1
; SI-NEXT:    s_mov_b32 s3, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s0, s0, s4
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s1, s1, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: hs_main:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s4, s0
; VI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s2, -1
; VI-NEXT:    s_mov_b32 s3, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s0, s0, s4
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s1, s1, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: hs_main:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s3, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX9-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: hs_main:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s3, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: hs_main:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s3, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: hs_main:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: hs_main:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: hs_main:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: hs_main:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %r = fadd float %v1, %v2
  ret float %r
}

define amdgpu_gs float @gs_main(i32 %idx) {
; SI-LABEL: gs_main:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s4, s0
; SI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s2, -1
; SI-NEXT:    s_mov_b32 s3, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s0, s0, s4
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s1, s1, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: gs_main:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s4, s0
; VI-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s2, -1
; VI-NEXT:    s_mov_b32 s3, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s0, s0, s4
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s1, s1, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: gs_main:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s3, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX9-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[0:3], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[0:3], 0 offen
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: gs_main:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s3, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: gs_main:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s0, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s1, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s3, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s0, s0, s5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s1, s1, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[0:3], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[0:3], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[0:3], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[0:3], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[0:3], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[0:3], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[0:3], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[0:3], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[0:3], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[0:3], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[0:3], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[0:3], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[0:3], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[0:3], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[0:3], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[0:3], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[0:3], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[0:3], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[0:3], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: gs_main:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: gs_main:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: gs_main:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s2 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s2 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s2 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: gs_main:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %r = fadd float %v1, %v2
  ret float %r
}

define amdgpu_hs <{i32, i32, i32, float}> @hs_ir_uses_scratch_offset(i32 inreg, i32 inreg, i32 inreg, i32 inreg, i32 inreg, i32 inreg %swo, i32 %idx) {
; SI-LABEL: hs_ir_uses_scratch_offset:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s10, -1
; SI-NEXT:    s_mov_b32 s11, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s8, s8, s6
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s9, s9, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; SI-NEXT:    s_mov_b32 s2, s5
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: hs_ir_uses_scratch_offset:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s10, -1
; VI-NEXT:    s_mov_b32 s11, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s8, s8, s6
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s9, s9, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; VI-NEXT:    s_mov_b32 s2, s5
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: hs_ir_uses_scratch_offset:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s11, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX9-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: hs_ir_uses_scratch_offset:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s11, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[8:11], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: hs_ir_uses_scratch_offset:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s11, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[8:11], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: hs_ir_uses_scratch_offset:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s3 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s4, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s4 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s3 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, s7
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: hs_ir_uses_scratch_offset:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_mov_b32 s2, s7
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: hs_ir_uses_scratch_offset:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s3 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s4, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s4 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s3 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s5
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: hs_ir_uses_scratch_offset:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s5
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %f = fadd float %v1, %v2
  %r1 = insertvalue <{i32, i32, i32, float}> undef, i32 %swo, 2
  %r2 = insertvalue <{i32, i32, i32, float}> %r1, float %f, 3
  ret <{i32, i32, i32, float}> %r2
}

define amdgpu_gs <{i32, i32, i32, float}> @gs_ir_uses_scratch_offset(i32 inreg, i32 inreg, i32 inreg, i32 inreg, i32 inreg, i32 inreg %swo, i32 %idx) {
; SI-LABEL: gs_ir_uses_scratch_offset:
; SI:       ; %bb.0:
; SI-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; SI-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; SI-NEXT:    s_mov_b32 s10, -1
; SI-NEXT:    s_mov_b32 s11, 0xe8f000
; SI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; SI-NEXT:    s_add_u32 s8, s8, s6
; SI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0x80
; SI-NEXT:    s_addc_u32 s9, s9, 0
; SI-NEXT:    v_add_i32_e32 v1, vcc, 0x280, v0
; SI-NEXT:    v_add_i32_e32 v0, vcc, v2, v0
; SI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; SI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; SI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; SI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; SI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; SI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; SI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; SI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; SI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; SI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; SI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; SI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; SI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; SI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; SI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; SI-NEXT:    s_waitcnt expcnt(1)
; SI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; SI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; SI-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; SI-NEXT:    s_waitcnt expcnt(3)
; SI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; SI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; SI-NEXT:    s_waitcnt expcnt(2)
; SI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; SI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; SI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; SI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; SI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; SI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; SI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; SI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; SI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; SI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; SI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; SI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; SI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; SI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; SI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; SI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; SI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; SI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; SI-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; SI-NEXT:    s_mov_b32 s2, s5
; SI-NEXT:    s_waitcnt vmcnt(0)
; SI-NEXT:    v_add_f32_e32 v0, v0, v1
; SI-NEXT:    s_waitcnt expcnt(0)
; SI-NEXT:    ; return to shader part epilog
;
; VI-LABEL: gs_ir_uses_scratch_offset:
; VI:       ; %bb.0:
; VI-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; VI-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; VI-NEXT:    s_mov_b32 s10, -1
; VI-NEXT:    s_mov_b32 s11, 0xe80000
; VI-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; VI-NEXT:    s_add_u32 s8, s8, s6
; VI-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0x80
; VI-NEXT:    s_addc_u32 s9, s9, 0
; VI-NEXT:    v_add_u32_e32 v1, vcc, 0x280, v0
; VI-NEXT:    v_add_u32_e32 v0, vcc, v2, v0
; VI-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; VI-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; VI-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; VI-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; VI-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; VI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; VI-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; VI-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; VI-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; VI-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; VI-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; VI-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; VI-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; VI-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; VI-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; VI-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; VI-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; VI-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; VI-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; VI-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; VI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; VI-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; VI-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; VI-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; VI-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; VI-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; VI-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; VI-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; VI-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; VI-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; VI-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; VI-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; VI-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; VI-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; VI-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; VI-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; VI-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; VI-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; VI-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; VI-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; VI-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; VI-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; VI-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; VI-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; VI-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; VI-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; VI-NEXT:    s_mov_b32 s2, s5
; VI-NEXT:    s_waitcnt vmcnt(0)
; VI-NEXT:    v_add_f32_e32 v0, v0, v1
; VI-NEXT:    ; return to shader part epilog
;
; GFX9-MUBUF-LABEL: gs_ir_uses_scratch_offset:
; GFX9-MUBUF:       ; %bb.0:
; GFX9-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX9-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX9-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX9-MUBUF-NEXT:    s_mov_b32 s11, 0xe00000
; GFX9-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX9-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbf20e7f4
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f523be1
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v6, 0x3f638e37
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:448
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:444
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:440
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:436
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:432
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:428
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:424
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:420
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:416
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd8a3
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:412
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbeae29dc
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbe31934f
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:408
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:404
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:400
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:392
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:388
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xb702e758
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:384
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e31934f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89c
; GFX9-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbe319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:380
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v9, 0x3e319356
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29dc
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:364
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3efcd89f
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf20e7f5
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v13, 0xbf3d349e
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX9-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:396
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:376
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:368
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:360
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:356
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:352
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:328
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f5
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v1, 0x280, v0
; GFX9-MUBUF-NEXT:    v_add_u32_e32 v0, 0x80, v0
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:324
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f4
; GFX9-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX9-MUBUF-NEXT:    s_nop 0
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:960
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:956
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:952
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:948
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3703c499
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3f3d349c
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:944
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:940
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:936
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:932
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:928
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:924
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:920
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:916
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:912
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:908
; GFX9-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX9-MUBUF-NEXT:    buffer_store_dword v6, off, s[8:11], 0 offset:900
; GFX9-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:892
; GFX9-MUBUF-NEXT:    v_mov_b32_e32 v5, 0xbf5f2ee2
; GFX9-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:888
; GFX9-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:884
; GFX9-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:880
; GFX9-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:876
; GFX9-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:872
; GFX9-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:868
; GFX9-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:864
; GFX9-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:860
; GFX9-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:856
; GFX9-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:852
; GFX9-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:848
; GFX9-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:844
; GFX9-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:840
; GFX9-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:836
; GFX9-MUBUF-NEXT:    buffer_load_dword v1, v1, s[8:11], 0 offen
; GFX9-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX9-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX9-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX9-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W32-MUBUF-LABEL: gs_ir_uses_scratch_offset:
; GFX10_W32-MUBUF:       ; %bb.0:
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s11, 0x31c16000
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W32-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W32-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:448
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:444
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:440
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:436
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:432
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:428
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:424
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:420
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:416
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:412
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:408
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:404
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:400
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W32-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:396
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:392
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:388
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:384
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:380
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W32-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:376
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:368
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:364
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:360
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W32-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:356
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:352
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:328
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:324
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:960
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:956
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:952
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:948
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:944
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:940
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:936
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:932
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:928
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:924
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:920
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:916
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:912
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:908
; GFX10_W32-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:900
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:892
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:888
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:884
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:880
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:876
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:872
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:868
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:864
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:860
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:856
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:852
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:848
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:844
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:840
; GFX10_W32-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:836
; GFX10_W32-MUBUF-NEXT:    buffer_load_dword v1, v6, s[8:11], 0 offen
; GFX10_W32-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX10_W32-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W32-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W32-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W32-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX10_W64-MUBUF-LABEL: gs_ir_uses_scratch_offset:
; GFX10_W64-MUBUF:       ; %bb.0:
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s8, SCRATCH_RSRC_DWORD0
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s9, SCRATCH_RSRC_DWORD1
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s10, -1
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v2, 0x3f3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v4, 0x3f5f2ee2
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s11, 0x31e16000
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v3, 0x3f523be1
; GFX10_W64-MUBUF-NEXT:    s_add_u32 s8, s8, s5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbefcd8a3
; GFX10_W64-MUBUF-NEXT:    s_addc_u32 s9, s9, 0
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v8, 0xbefcd89f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:448
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:444
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:440
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:436
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:432
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:428
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:424
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:420
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:416
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:412
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:408
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:404
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:400
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v1, 0xbe319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0xbe31934f
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xb7043519
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0xb702e758
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3e31934f
; GFX10_W64-MUBUF-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:396
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:392
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:388
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:384
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:380
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v7, 0x3e319356
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0x3eae29d8
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v11, 0x3eae29dc
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0x3efcd89c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v13, 0x3efcd89f
; GFX10_W64-MUBUF-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:376
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:372
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:368
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:364
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:360
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v10, 0xbf20e7f5
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v15, 0xbf5f2ee3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v12, 0xbf3d349e
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf523be3
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v16, 0xbf638e39
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v6, 0x280, v0
; GFX10_W64-MUBUF-NEXT:    v_add_nc_u32_e32 v0, 0x80, v0
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:356
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:352
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:348
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:344
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:340
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v17, 0x3f20e7f5
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:336
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:332
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f20e7f4
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:328
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:324
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v18, 0x3703c499
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v0, v0, s[8:11], 0 offen
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:960
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:956
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:952
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:948
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:944
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:940
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0x3f3d349c
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v19, 0xbf523be1
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:936
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:932
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:928
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:924
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:920
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:916
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:912
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:908
; GFX10_W64-MUBUF-NEXT:    v_mov_b32_e32 v14, 0xbf5f2ee2
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v15, off, s[8:11], 0 offset:904
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v5, off, s[8:11], 0 offset:900
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v16, off, s[8:11], 0 offset:896
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v4, off, s[8:11], 0 offset:892
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v14, off, s[8:11], 0 offset:888
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v3, off, s[8:11], 0 offset:884
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v19, off, s[8:11], 0 offset:880
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v2, off, s[8:11], 0 offset:876
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v12, off, s[8:11], 0 offset:872
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v17, off, s[8:11], 0 offset:868
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v13, off, s[8:11], 0 offset:864
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v11, off, s[8:11], 0 offset:860
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v7, off, s[8:11], 0 offset:856
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v18, off, s[8:11], 0 offset:852
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v1, off, s[8:11], 0 offset:848
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v9, off, s[8:11], 0 offset:844
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v8, off, s[8:11], 0 offset:840
; GFX10_W64-MUBUF-NEXT:    buffer_store_dword v10, off, s[8:11], 0 offset:836
; GFX10_W64-MUBUF-NEXT:    buffer_load_dword v1, v6, s[8:11], 0 offen
; GFX10_W64-MUBUF-NEXT:    s_mov_b32 s2, s5
; GFX10_W64-MUBUF-NEXT:    s_waitcnt vmcnt(0)
; GFX10_W64-MUBUF-NEXT:    v_add_f32_e32 v0, v0, v1
; GFX10_W64-MUBUF-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10_W64-MUBUF-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-LABEL: gs_ir_uses_scratch_offset:
; GFX9-FLATSCR:       ; %bb.0:
; GFX9-FLATSCR-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s3 offset:416
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:336
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-NEXT:    s_mov_b32 s4, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[18:21], s4 offset:880
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[7:10], s3 offset:864
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-NEXT:    s_mov_b32 s2, s7
; GFX9-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-LABEL: gs_ir_uses_scratch_offset:
; GFX10-FLATSCR:       ; %bb.0:
; GFX10-FLATSCR-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-NEXT:    s_mov_b32 s2, s7
; GFX10-FLATSCR-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-NEXT:    ; return to shader part epilog
;
; GFX9-FLATSCR-PAL-LABEL: gs_ir_uses_scratch_offset:
; GFX9-FLATSCR-PAL:       ; %bb.0:
; GFX9-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX9-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX9-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX9-FLATSCR-PAL-NEXT:    v_and_b32_e32 v23, 0x1fc, v0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbf20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX9-FLATSCR-PAL-NEXT:    s_add_u32 flat_scratch_lo, s0, s5
; GFX9-FLATSCR-PAL-NEXT:    s_addc_u32 flat_scratch_hi, s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f3d349e
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], vcc_lo offset:448
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f638e37
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_hi offset:432
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s3 offset:416
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], vcc_lo offset:368
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xbeae29dc
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0xbf3d349e
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0x3efcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89c
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbefcd89f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbefcd8a3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0xb702e758
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xb7043519
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, 0xbe31934f
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbe319356
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:352
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf523be3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf5f2ee3
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], s1 offset:400
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:384
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0xbf638e39
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v18
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f20e7f5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v15
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v21
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s3 offset:336
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s1 offset:320
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x80, v23
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v18
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v4
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v5
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v13, v1, off
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0x3f20e7f4
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[19:22], vcc_lo offset:896
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0xbf523be1
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0x3f3d349c
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v6
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, v15
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], s0 offset:960
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], vcc_hi offset:912
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s4, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, v5
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v7
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s3, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0x3703c499
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v12
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v17
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s1, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[18:21], s4 offset:880
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[7:10], s3 offset:864
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[3:6], s1 offset:944
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, v16
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s0, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v11
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, v3
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, v14
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, v12
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_lo, 0
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, v2
; GFX9-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v0
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 vcc_hi, 0
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[8:11], s0 offset:928
; GFX9-FLATSCR-PAL-NEXT:    v_add_u32_e32 v1, 0x280, v23
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], vcc_lo offset:848
; GFX9-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[15:18], vcc_hi offset:832
; GFX9-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v1, off
; GFX9-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s5
; GFX9-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX9-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v13, v0
; GFX9-FLATSCR-PAL-NEXT:    ; return to shader part epilog
;
; GFX10-FLATSCR-PAL-LABEL: gs_ir_uses_scratch_offset:
; GFX10-FLATSCR-PAL:       ; %bb.0:
; GFX10-FLATSCR-PAL-NEXT:    s_getpc_b64 s[0:1]
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s0, s8
; GFX10-FLATSCR-PAL-NEXT:    s_load_dwordx2 s[0:1], s[0:1], 0x0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt lgkmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    s_and_b32 s1, s1, 0xffff
; GFX10-FLATSCR-PAL-NEXT:    s_add_u32 s0, s0, s5
; GFX10-FLATSCR-PAL-NEXT:    s_addc_u32 s1, s1, 0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_LO), s0
; GFX10-FLATSCR-PAL-NEXT:    s_setreg_b32 hwreg(HW_REG_FLAT_SCR_HI), s1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xbf20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v8, 0x3f3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_lshlrev_b32_e32 v0, 2, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v6, 0x3f5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v7, 0x3f523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v9, 0xbeae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v5, 0x3f638e37
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:448
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v8
; GFX10-FLATSCR-PAL-NEXT:    v_and_b32_e32 v0, 0x1fc, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v11, 0xbefcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0xbefcd8a3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v10, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v16, 0xbf3d349e
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v20, 0xbf5f2ee3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, 0xbf523be3
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[5:8], off offset:432
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[1:4], off offset:416
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[9:12], off offset:400
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v12, 0x3eae29dc
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v14, 0x3e319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, 0x3efcd89f
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v39, 0x280, v0
; GFX10-FLATSCR-PAL-NEXT:    v_add_nc_u32_e32 v35, 0x80, v0
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, 0xb702e758
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, 0xb7043519
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, 0xbe31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, 0xbe319356
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v17, 0xbf20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v13, 0x3eae29d8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v15, 0x3e31934f
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, 0x3efcd89c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v21, 0xbf638e39
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v22, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v24, 0x3f20e7f5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v25, v16
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v23
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v4, 0x3f20e7f4
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v27, 0x3703c499
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v28, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v29, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v30, v18
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:384
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[12:15], off offset:368
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:352
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[20:23], off offset:336
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:320
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v17
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v9
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v31, 0xbf523be1
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, 0x3f3d349c
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v32, v7
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, v16
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v10, v35, off
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v35, v21
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v36, v5
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v37, v20
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v38, v6
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[4:7], off offset:960
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[27:30], off offset:944
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:928
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:912
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v33, 0xbf5f2ee2
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v34, v6
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v23, v18
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v26, v8
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v0, v3
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v1, v27
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v2, v14
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v3, v12
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v18, v11
; GFX10-FLATSCR-PAL-NEXT:    v_mov_b32_e32 v19, v9
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[35:38], off offset:896
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[31:34], off offset:880
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[23:26], off offset:864
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[0:3], off offset:848
; GFX10-FLATSCR-PAL-NEXT:    scratch_store_dwordx4 off, v[16:19], off offset:832
; GFX10-FLATSCR-PAL-NEXT:    scratch_load_dword v0, v39, off
; GFX10-FLATSCR-PAL-NEXT:    s_mov_b32 s2, s5
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt vmcnt(0)
; GFX10-FLATSCR-PAL-NEXT:    v_add_f32_e32 v0, v10, v0
; GFX10-FLATSCR-PAL-NEXT:    s_waitcnt_vscnt null, 0x0
; GFX10-FLATSCR-PAL-NEXT:    ; return to shader part epilog
  %v1 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0xBFEA477C60000000, float 0xBFEBE5DC60000000, float 0xBFEC71C720000000, float 0xBFEBE5DC60000000, float 0xBFEA477C60000000, float 0xBFE7A693C0000000, float 0xBFE41CFEA0000000, float 0x3FDF9B13E0000000, float 0x3FDF9B1380000000, float 0x3FD5C53B80000000, float 0x3FD5C53B00000000, float 0x3FC6326AC0000000, float 0x3FC63269E0000000, float 0xBEE05CEB00000000, float 0xBEE086A320000000, float 0xBFC63269E0000000, float 0xBFC6326AC0000000, float 0xBFD5C53B80000000, float 0xBFD5C53B80000000, float 0xBFDF9B13E0000000, float 0xBFDF9B1460000000, float 0xBFE41CFE80000000, float 0x3FE7A693C0000000, float 0x3FEA477C20000000, float 0x3FEBE5DC40000000, float 0x3FEC71C6E0000000, float 0x3FEBE5DC40000000, float 0x3FEA477C20000000, float 0x3FE7A693C0000000, float 0xBFE41CFE80000000>, i32 %idx
  %v2 = extractelement <81 x float> <float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float undef, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFEA0000000, float 0xBFE7A693C0000000, float 0x3FE7A693C0000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFEBE5DC40000000, float 0x3FEBE5DC40000000, float 0xBFEC71C720000000, float 0x3FEC71C6E0000000, float 0xBFEBE5DC60000000, float 0x3FEBE5DC40000000, float 0xBFEA477C20000000, float 0x3FEA477C20000000, float 0xBFE7A693C0000000, float 0x3FE7A69380000000, float 0xBFE41CFEA0000000, float 0xBFDF9B13E0000000, float 0xBFD5C53B80000000, float 0xBFC6326AC0000000, float 0x3EE0789320000000, float 0x3FC6326AC0000000, float 0x3FD5C53B80000000, float 0x3FDF9B13E0000000, float 0x3FE41CFE80000000>, i32 %idx
  %f = fadd float %v1, %v2
  %r1 = insertvalue <{i32, i32, i32, float}> undef, i32 %swo, 2
  %r2 = insertvalue <{i32, i32, i32, float}> %r1, float %f, 3
  ret <{i32, i32, i32, float}> %r2
}
;; NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
; FLATSCR: {{.*}}
; GCN: {{.*}}
; GFX9_10: {{.*}}
; GFX9_10-MUBUF: {{.*}}
; MUBUF: {{.*}}
; SIVI: {{.*}}
