; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -global-isel=0 -march=amdgcn -mcpu=gfx1300 -verify-machineinstrs < %s | FileCheck --check-prefix=GCN %s
; RUN: llc -global-isel=1 -march=amdgcn -mcpu=gfx1300 -verify-machineinstrs < %s | FileCheck --check-prefix=GCN %s

declare void @llvm.amdgcn.s.inst.auto.prefetch.mode(i16)

define amdgpu_kernel void @test_inst_auto_prefetch_mode_0() {
; GCN-LABEL: test_inst_auto_prefetch_mode_0:
; GCN:       ; %bb.0:
; GCN-NEXT:    s_inst_auto_prefetch_mode 0x0
; GCN-NEXT:    s_endpgm
  call void @llvm.amdgcn.s.inst.auto.prefetch.mode(i16 0)
  ret void
}

define amdgpu_kernel void @test_inst_auto_prefetch_mode_1() {
; GCN-LABEL: test_inst_auto_prefetch_mode_1:
; GCN:       ; %bb.0:
; GCN-NEXT:    s_inst_auto_prefetch_mode 0x1
; GCN-NEXT:    s_endpgm
  call void @llvm.amdgcn.s.inst.auto.prefetch.mode(i16 1)
  ret void
}

define amdgpu_kernel void @test_inst_auto_prefetch_mode_32768() {
; GCN-LABEL: test_inst_auto_prefetch_mode_32768:
; GCN:       ; %bb.0:
; GCN-NEXT:    s_inst_auto_prefetch_mode 0x8000
; GCN-NEXT:    s_endpgm
  call void @llvm.amdgcn.s.inst.auto.prefetch.mode(i16 32768)
  ret void
}
