# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx908 -start-before=greedy,1 -stop-after=prologepilog -verify-machineinstrs -verify-regalloc -o - %s | FileCheck --check-prefixes=GCN %s

# The VGPR pair spilled and restored around the callsite is used in the next basic block.
#
# AMDGPU target spill hooks storeRegToStackSlot/loadRegFromStackSlot handle the register spills via
# spill pseudos to insert a single instruction per spill to tackle the limitation during inline spiller
# that incorrectly updates the Liveintervals in case of a spill lowered into multiple instructions.
# AV spills were handled earlier by converting them into equivalent VGPR spills by adding appropriate copies.
# The multiple instructions (a copy + vgpr spill pseudo) introduced  an incorrect liverange that caused a
# crash during RA. It is fixed by introducing AV* spill pseudos to ensure a single instruction per spill and
# the test started compiling successfully.

---
name:            test_av_spill_cross_bb_usage
tracksRegLiveness: true
stack:
  - { id: 0, name: '', type: spill-slot, offset: 0, size: 4, alignment: 4 }
machineFunctionInfo:
  scratchRSrcReg:  $sgpr0_sgpr1_sgpr2_sgpr3
  stackPtrOffsetReg: '$sgpr32'
body:             |
  ; GCN-LABEL: name: test_av_spill_cross_bb_usage
  ; GCN: bb.0:
  ; GCN-NEXT:   successors: %bb.2(0x40000000), %bb.1(0x40000000)
  ; GCN-NEXT:   liveins: $sgpr30, $sgpr31, $vgpr0, $vgpr1, $vgpr2, $vgpr3, $vgpr4, $vgpr5, $vgpr6, $vgpr7, $vgpr8, $vgpr9, $vgpr10, $vgpr11, $vgpr12, $vgpr13, $vgpr14, $vgpr15, $vgpr40, $vgpr41, $vgpr42, $vgpr43, $vgpr44, $vgpr45, $vgpr46, $vgpr56, $vgpr57, $vgpr58, $vgpr59, $vgpr60, $vgpr61, $sgpr30_sgpr31
  ; GCN-NEXT: {{  $}}
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION llvm_def_aspace_cfa $sgpr32_lo16, 0, 6
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0x10, 0x08, 0x90, 0x3e, 0x93, 0x04, 0x90, 0x3f, 0x93, 0x04
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr0_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr1_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr2_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr3_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr4_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr5_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr6_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr7_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr8_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr9_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr10_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr11_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr12_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr13_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr14_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr15_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr16_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr17_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr18_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr19_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr20_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr21_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr22_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr23_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr24_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr25_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr26_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr27_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr28_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr29_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr30_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr31_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr32_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr33_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr34_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr35_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr36_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr37_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr38_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr39_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr48_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr49_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr50_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr51_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr52_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr53_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr54_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr55_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr64_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr65_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr66_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr67_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr68_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr69_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr70_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr71_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr80_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr81_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr82_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr83_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr84_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr85_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr86_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr87_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr96_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr97_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr98_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr99_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr100_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr101_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr102_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr103_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr112_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr113_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr114_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr115_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr116_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr117_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr118_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr119_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr128_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr129_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr130_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr131_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr132_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr133_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr134_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr135_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr144_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr145_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr146_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr147_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr148_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr149_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr150_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr151_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr160_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr161_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr162_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr163_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr164_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr165_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr166_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr167_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr176_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr177_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr178_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr179_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr180_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr181_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr182_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr183_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr192_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr193_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr194_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr195_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr196_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr197_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr198_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr199_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr208_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr209_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr210_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr211_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr212_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr213_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr214_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr215_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr224_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr225_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr226_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr227_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr228_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr229_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr230_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr231_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr240_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr241_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr242_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr243_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr244_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr245_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr246_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $vgpr247_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr0_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr1_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr2_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr3_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr4_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr5_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr6_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr7_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr8_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr9_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr10_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr11_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr12_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr13_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr14_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr15_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr16_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr17_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr18_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr19_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr20_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr21_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr22_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr23_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr24_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr25_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr26_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr27_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr28_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr29_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr30_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr31_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr32_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr33_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr34_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr35_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr36_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr37_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr38_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr39_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr40_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr41_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr42_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr43_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr44_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr45_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr46_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr47_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr48_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr49_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr50_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr51_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr52_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr53_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr54_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr55_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr56_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr57_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr58_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr59_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr60_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr61_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr62_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr63_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr64_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr65_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr66_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr67_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr68_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr69_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr70_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr71_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr72_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr73_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr74_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr75_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr76_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr77_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr78_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr79_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr80_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr81_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr82_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr83_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr84_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr85_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr86_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr87_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr88_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr89_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr90_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr91_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr92_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr93_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr94_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr95_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr96_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr97_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr98_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr99_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr100_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr101_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr102_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr103_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr104_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr105_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr106_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr107_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr108_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr109_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr110_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr111_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr112_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr113_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr114_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr115_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr116_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr117_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr118_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr119_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr120_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr121_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr122_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr123_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr124_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr125_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr126_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr127_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr128_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr129_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr130_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr131_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr132_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr133_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr134_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr135_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr136_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr137_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr138_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr139_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr140_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr141_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr142_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr143_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr144_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr145_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr146_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr147_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr148_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr149_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr150_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr151_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr152_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr153_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr154_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr155_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr156_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr157_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr158_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr159_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr160_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr161_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr162_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr163_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr164_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr165_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr166_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr167_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr168_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr169_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr170_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr171_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr172_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr173_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr174_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr175_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr176_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr177_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr178_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr179_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr180_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr181_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr182_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr183_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr184_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr185_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr186_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr187_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr188_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr189_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr190_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr191_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr192_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr193_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr194_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr195_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr196_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr197_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr198_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr199_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr200_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr201_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr202_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr203_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr204_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr205_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr206_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr207_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr208_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr209_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr210_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr211_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr212_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr213_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr214_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr215_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr216_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr217_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr218_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr219_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr220_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr221_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr222_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr223_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr224_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr225_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr226_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr227_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr228_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr229_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr230_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr231_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr232_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr233_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr234_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr235_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr236_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr237_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr238_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr239_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr240_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr241_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr242_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr243_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr244_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr245_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr246_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr247_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr248_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr249_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr250_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr251_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr252_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr253_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr254_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $agpr255_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr0_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr1_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr2_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr3_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr4_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr5_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr6_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr7_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr8_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr9_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr10_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr11_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr12_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr13_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr14_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr15_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr16_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr17_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr18_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr19_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr20_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr21_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr22_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr23_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr24_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr25_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr26_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr27_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr28_lo16
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION undefined $sgpr29_lo16
  ; GCN-NEXT:   $sgpr4_sgpr5 = S_OR_SAVEEXEC_B64 -1, implicit-def $exec, implicit-def dead $scc, implicit $exec
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET $vgpr40, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 68, 0, 0, implicit $exec :: (store (s32) into %stack.3, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION offset $vgpr40_lo16, 4352
  ; GCN-NEXT:   $exec = S_MOV_B64 killed $sgpr4_sgpr5
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr41, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 44, 0, 0, implicit $exec :: (store (s32) into %stack.4, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xa9, 0x14, 0x11, 0x90, 0xa9, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x16, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr42, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 40, 0, 0, implicit $exec :: (store (s32) into %stack.5, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xaa, 0x14, 0x11, 0x90, 0xaa, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x14, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr43, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 36, 0, 0, implicit $exec :: (store (s32) into %stack.6, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xab, 0x14, 0x11, 0x90, 0xab, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x12, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr44, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 32, 0, 0, implicit $exec :: (store (s32) into %stack.7, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xac, 0x14, 0x11, 0x90, 0xac, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x10, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr45, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 28, 0, 0, implicit $exec :: (store (s32) into %stack.8, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xad, 0x14, 0x11, 0x90, 0xad, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x0e, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr46, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 24, 0, 0, implicit $exec :: (store (s32) into %stack.9, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xae, 0x14, 0x11, 0x90, 0xae, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x0c, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr56, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 20, 0, 0, implicit $exec :: (store (s32) into %stack.10, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xb8, 0x14, 0x11, 0x90, 0xb8, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x0a, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr57, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 16, 0, 0, implicit $exec :: (store (s32) into %stack.11, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xb9, 0x14, 0x11, 0x90, 0xb9, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x08, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr58, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 12, 0, 0, implicit $exec :: (store (s32) into %stack.12, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xba, 0x14, 0x11, 0x90, 0xba, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x06, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr59, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 8, 0, 0, implicit $exec :: (store (s32) into %stack.13, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xbb, 0x14, 0x11, 0x90, 0xbb, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x04, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr60, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 4, 0, 0, implicit $exec :: (store (s32) into %stack.14, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xbc, 0x14, 0x11, 0x90, 0xbc, 0x14, 0x16, 0xe9, 0x05, 0x80, 0x02, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr61, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 0, 0, 0, implicit $exec :: (store (s32) into %stack.15, addrspace 5)
  ; GCN-NEXT:   frame-setup CFI_INSTRUCTION escape 0x10, 0xbd, 0x14, 0x10, 0x90, 0xbd, 0x14, 0x16, 0xe9, 0x05, 0x00, 0xe9, 0x07, 0x11, 0x94, 0x08, 0xe9, 0x0c, 0x20, 0x40
  ; GCN-NEXT:   renamable $vgpr44 = COPY $vgpr13, implicit $exec
  ; GCN-NEXT:   renamable $vgpr43 = COPY $vgpr12, implicit $exec
  ; GCN-NEXT:   S_CBRANCH_SCC1 %bb.2, implicit undef $scc
  ; GCN-NEXT:   S_BRANCH %bb.1
  ; GCN-NEXT: {{  $}}
  ; GCN-NEXT: bb.1:
  ; GCN-NEXT:   successors: %bb.2(0x80000000)
  ; GCN-NEXT:   liveins: $exec:0x000000000000000F, $sgpr30, $sgpr31, $vgpr0:0x0000000000000003, $vgpr1:0x0000000000000003, $vgpr2:0x0000000000000003, $vgpr3:0x0000000000000003, $vgpr4:0x0000000000000003, $vgpr5:0x0000000000000003, $vgpr6:0x0000000000000003, $vgpr7:0x0000000000000003, $vgpr8:0x0000000000000003, $vgpr9:0x0000000000000003, $vgpr40, $sgpr30_sgpr31, $vgpr10_vgpr11:0x000000000000000F, $vgpr14_vgpr15:0x000000000000000F, $vgpr41_vgpr42:0x000000000000000F, $vgpr43_vgpr44:0x000000000000000F, $vgpr45_vgpr46:0x000000000000000F, $vgpr56_vgpr57:0x000000000000000F, $vgpr58_vgpr59:0x000000000000000F, $vgpr60_vgpr61:0x000000000000000F
  ; GCN-NEXT: {{  $}}
  ; GCN-NEXT:   renamable $vgpr57 = COPY $vgpr9, implicit $exec
  ; GCN-NEXT:   renamable $vgpr56 = COPY $vgpr8, implicit $exec
  ; GCN-NEXT:   renamable $vgpr59 = COPY $vgpr7, implicit $exec
  ; GCN-NEXT:   renamable $vgpr58 = COPY $vgpr6, implicit $exec
  ; GCN-NEXT:   renamable $vgpr61 = COPY $vgpr5, implicit $exec
  ; GCN-NEXT:   renamable $vgpr60 = COPY $vgpr4, implicit $exec
  ; GCN-NEXT:   renamable $vgpr42 = COPY $vgpr3, implicit $exec
  ; GCN-NEXT:   renamable $vgpr41 = COPY $vgpr2, implicit $exec
  ; GCN-NEXT:   renamable $vgpr46 = COPY $vgpr1, implicit $exec
  ; GCN-NEXT:   renamable $vgpr45 = COPY $vgpr0, implicit $exec
  ; GCN-NEXT:   renamable $sgpr16_sgpr17 = IMPLICIT_DEF
  ; GCN-NEXT:   $vgpr40 = SI_SPILL_S32_TO_VGPR $sgpr30, 0, $vgpr40, implicit-def $sgpr30_sgpr31, implicit $sgpr30_sgpr31
  ; GCN-NEXT:   $vgpr40 = SI_SPILL_S32_TO_VGPR $sgpr31, 1, $vgpr40, implicit $sgpr30_sgpr31
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr14, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 52, 0, 0, implicit $exec, implicit-def $vgpr14_vgpr15, implicit $vgpr14_vgpr15 :: (store (s32) into %stack.1, addrspace 5)
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr15, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 56, 0, 0, implicit $exec, implicit killed $vgpr14_vgpr15 :: (store (s32) into %stack.1 + 4, addrspace 5)
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr10, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 60, 0, 0, implicit $exec, implicit-def $vgpr10_vgpr11, implicit $vgpr10_vgpr11 :: (store (s32) into %stack.2, addrspace 5)
  ; GCN-NEXT:   BUFFER_STORE_DWORD_OFFSET killed $vgpr11, $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 64, 0, 0, implicit $exec, implicit killed $vgpr10_vgpr11 :: (store (s32) into %stack.2 + 4, addrspace 5)
  ; GCN-NEXT:   dead $sgpr30_sgpr31 = SI_CALL killed renamable $sgpr16_sgpr17, 0, csr_amdgpu, implicit-def dead $vgpr0
  ; GCN-NEXT:   $vgpr14 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 52, 0, 0, implicit $exec, implicit-def $vgpr14_vgpr15 :: (load (s32) from %stack.1, addrspace 5)
  ; GCN-NEXT:   $vgpr15 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 56, 0, 0, implicit $exec, implicit-def $vgpr14_vgpr15 :: (load (s32) from %stack.1 + 4, addrspace 5)
  ; GCN-NEXT:   renamable $vgpr0_vgpr1 = nofpexcept V_FMA_F64_e64 0, killed $vgpr45_vgpr46, 0, killed $vgpr41_vgpr42, 0, killed $vgpr60_vgpr61, 0, 0, implicit $mode, implicit $exec
  ; GCN-NEXT:   FLAT_STORE_DWORDX2 killed renamable $vgpr58_vgpr59, killed renamable $vgpr0_vgpr1, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
  ; GCN-NEXT:   $vgpr0 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 60, 0, 0, implicit $exec, implicit-def $vgpr0_vgpr1 :: (load (s32) from %stack.2, addrspace 5)
  ; GCN-NEXT:   $vgpr1 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 64, 0, 0, implicit $exec, implicit-def $vgpr0_vgpr1 :: (load (s32) from %stack.2 + 4, addrspace 5)
  ; GCN-NEXT:   FLAT_STORE_DWORDX2 killed renamable $vgpr0_vgpr1, killed renamable $vgpr56_vgpr57, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
  ; GCN-NEXT: {{  $}}
  ; GCN-NEXT: bb.2:
  ; GCN-NEXT:   liveins: $vgpr40, $vgpr14_vgpr15:0x000000000000000F, $vgpr43_vgpr44:0x000000000000000F
  ; GCN-NEXT: {{  $}}
  ; GCN-NEXT:   renamable $vgpr0_vgpr1 = V_MOV_B64_PSEUDO 0, implicit $exec
  ; GCN-NEXT:   FLAT_STORE_DWORDX2 undef renamable $vgpr0_vgpr1, killed renamable $vgpr43_vgpr44, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
  ; GCN-NEXT:   FLAT_STORE_DWORDX2 killed renamable $vgpr0_vgpr1, killed renamable $vgpr14_vgpr15, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
  ; GCN-NEXT:   $vgpr61 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 0, 0, 0, implicit $exec :: (load (s32) from %stack.15, addrspace 5)
  ; GCN-NEXT:   $vgpr60 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 4, 0, 0, implicit $exec :: (load (s32) from %stack.14, addrspace 5)
  ; GCN-NEXT:   $vgpr59 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 8, 0, 0, implicit $exec :: (load (s32) from %stack.13, addrspace 5)
  ; GCN-NEXT:   $vgpr58 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 12, 0, 0, implicit $exec :: (load (s32) from %stack.12, addrspace 5)
  ; GCN-NEXT:   $vgpr57 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 16, 0, 0, implicit $exec :: (load (s32) from %stack.11, addrspace 5)
  ; GCN-NEXT:   $vgpr56 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 20, 0, 0, implicit $exec :: (load (s32) from %stack.10, addrspace 5)
  ; GCN-NEXT:   $vgpr46 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 24, 0, 0, implicit $exec :: (load (s32) from %stack.9, addrspace 5)
  ; GCN-NEXT:   $vgpr45 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 28, 0, 0, implicit $exec :: (load (s32) from %stack.8, addrspace 5)
  ; GCN-NEXT:   $vgpr44 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 32, 0, 0, implicit $exec :: (load (s32) from %stack.7, addrspace 5)
  ; GCN-NEXT:   $vgpr43 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 36, 0, 0, implicit $exec :: (load (s32) from %stack.6, addrspace 5)
  ; GCN-NEXT:   $vgpr42 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 40, 0, 0, implicit $exec :: (load (s32) from %stack.5, addrspace 5)
  ; GCN-NEXT:   $vgpr41 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 44, 0, 0, implicit $exec :: (load (s32) from %stack.4, addrspace 5)
  ; GCN-NEXT:   $sgpr4_sgpr5 = S_OR_SAVEEXEC_B64 -1, implicit-def $exec, implicit-def dead $scc, implicit $exec
  ; GCN-NEXT:   $vgpr40 = BUFFER_LOAD_DWORD_OFFSET $sgpr0_sgpr1_sgpr2_sgpr3, $sgpr32, 68, 0, 0, implicit $exec :: (load (s32) from %stack.3, addrspace 5)
  ; GCN-NEXT:   $exec = S_MOV_B64 killed $sgpr4_sgpr5
  ; GCN-NEXT:   S_SETPC_B64_return undef $sgpr30_sgpr31
  bb.0:
    liveins: $vgpr0, $vgpr1, $vgpr2, $vgpr3, $vgpr4, $vgpr5, $vgpr6, $vgpr7, $vgpr8, $vgpr9, $vgpr10, $vgpr11, $vgpr12, $vgpr13, $vgpr14, $vgpr15, $vgpr40, $sgpr30, $sgpr31, $sgpr30_sgpr31

    undef %0.sub1:vreg_64 = COPY $vgpr15
    %0.sub0:vreg_64 = COPY $vgpr14
    undef %1.sub1:vreg_64 = COPY $vgpr13
    %1.sub0:vreg_64 = COPY $vgpr12
    undef %2.sub1:vreg_64 = COPY $vgpr11
    %2.sub0:vreg_64 = COPY $vgpr10
    undef %3.sub1:vreg_64 = COPY $vgpr9
    %3.sub0:vreg_64 = COPY $vgpr8
    undef %4.sub1:vreg_64 = COPY $vgpr7
    %4.sub0:vreg_64 = COPY $vgpr6
    undef %5.sub1:vreg_64 = COPY $vgpr5
    %5.sub0:vreg_64 = COPY $vgpr4
    undef %6.sub1:vreg_64 = COPY $vgpr3
    %6.sub0:vreg_64 = COPY $vgpr2
    undef %7.sub1:vreg_64 = COPY $vgpr1
    %7.sub0:vreg_64 = COPY $vgpr0
    S_CBRANCH_SCC1 %bb.2, implicit undef $scc
    S_BRANCH %bb.1

  bb.1:
    liveins: $vgpr40, $sgpr30, $sgpr31, $sgpr30_sgpr31

    ADJCALLSTACKUP 0, 0, implicit-def dead $scc, implicit-def $sgpr32, implicit $sgpr32
    renamable $sgpr16_sgpr17 = IMPLICIT_DEF
    $vgpr40 = SI_SPILL_S32_TO_VGPR $sgpr30, 0, $vgpr40, implicit-def $sgpr30_sgpr31, implicit $sgpr30_sgpr31
    $vgpr40 = SI_SPILL_S32_TO_VGPR killed $sgpr31, 1, $vgpr40, implicit killed $sgpr30_sgpr31
    dead $sgpr30_sgpr31 = SI_CALL killed renamable $sgpr16_sgpr17, 0, csr_amdgpu, implicit-def dead $vgpr0
    %8:vreg_64 = nofpexcept V_FMA_F64_e64 0, %7, 0, %6, 0, %5, 0, 0, implicit $mode, implicit $exec
    ADJCALLSTACKDOWN 0, 0, implicit-def dead $scc, implicit-def $sgpr32, implicit $sgpr32
    FLAT_STORE_DWORDX2 %4, %8, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
    FLAT_STORE_DWORDX2 %2, %3, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))

  bb.2:
    liveins: $vgpr40

    %9:vreg_64 = V_MOV_B64_PSEUDO 0, implicit $exec
    FLAT_STORE_DWORDX2 undef %10:vreg_64, %1, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
    FLAT_STORE_DWORDX2 %9, %0, 0, 0, implicit $exec, implicit $flat_scr :: (store (s64))
    S_SETPC_B64_return undef $sgpr30_sgpr31
...
