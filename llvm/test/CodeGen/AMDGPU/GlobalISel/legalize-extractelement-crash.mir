# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=amdgcn -run-pass=legalizer -verify-machineinstrs -o - %s | FileCheck %s

---
name: f
body: |
  bb.0:
    ; CHECK-LABEL: name: f
    ; CHECK: SI_RETURN
    %0:_(<2 x s32>) = COPY $vgpr0_vgpr1

    %2:_(s32) = G_CONSTANT i32 -1
    %3:_(s32) = G_EXTRACT_VECTOR_ELT %0(<2 x s32>), %2(s32)
    %4:_(<2 x s32>) = G_INSERT_VECTOR_ELT %0(<2 x s32>), %3(s32), %2(s32)

    %5:_(s32) = G_CONSTANT i32 2
    %6:_(s32) = G_EXTRACT_VECTOR_ELT %0(<2 x s32>), %5(s32)
    %7:_(<2 x s32>) = G_INSERT_VECTOR_ELT %0(<2 x s32>), %6(s32), %5(s32)

    %8:_(s1) = G_CONSTANT i1 1
    %11:_(s32) = G_ZEXT %8
    %9:_(s32) = G_EXTRACT_VECTOR_ELT %0(<2 x s32>), %11(s32)
    %10:_(<2 x s32>) = G_INSERT_VECTOR_ELT %0(<2 x s32>), %9(s32), %11(s32)

    SI_RETURN
...
