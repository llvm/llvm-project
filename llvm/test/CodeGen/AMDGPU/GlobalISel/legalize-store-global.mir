# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=amdgcn-mesa-mesa3d -mcpu=tahiti -O0 -run-pass=legalizer  %s -o - | FileCheck -check-prefix=SI %s
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=bonaire -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=CI %s
# RUN: llc -mtriple=amdgcn-mesa-mesa3d -mcpu=fiji -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=VI %s
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx900 -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=GFX9 %s
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx1010 -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=GFX9 %s
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx1100 -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=GFX9 %s
# RUN: llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx1200 -O0 -run-pass=legalizer %s -o - | FileCheck -check-prefix=GFX9 %s

---
name: test_store_global_s1_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s1_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 1
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[AND]], [[C]]
    ; SI-NEXT: G_STORE [[AND1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s1_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 1
    ; CI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; CI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[AND]], [[C]]
    ; CI-NEXT: G_STORE [[AND1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s1_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 1
    ; VI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; VI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[AND]], [[C]]
    ; VI-NEXT: G_STORE [[AND1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s1_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 1
    ; GFX9-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; GFX9-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[AND]], [[C]]
    ; GFX9-NEXT: G_STORE [[AND1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i1) = G_TRUNC %1(i32)
    G_STORE %2(i1), %0(p1) :: (store (i1), addrspace 1)
...

---
name: test_store_global_s7_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s7_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 127
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; SI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s7_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 127
    ; CI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; CI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s7_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 127
    ; VI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; VI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s7_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 127
    ; GFX9-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; GFX9-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i7) = G_TRUNC %1(i32)
    G_STORE %2(i7), %0(p1) :: (store (i7), addrspace 1)
...

---
name: test_store_global_s8_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s8_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s8_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s8_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s8_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i8) = G_TRUNC %1(i32)
    G_STORE %2(i8), %0(p1) :: (store (i8), addrspace 1)
...

---
name: test_store_global_s16_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s16_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C1]]
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s16_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s16_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C]](i16)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s16_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i16) = G_TRUNC %1(i32)
    G_STORE %2(i16), %0(p1) :: (store (i16), align 1, addrspace 1)
...

---
name: test_store_global_s16_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s16_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s16_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s16_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s16_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i16) = G_TRUNC %1(i32)
    G_STORE %2(i16), %0(p1) :: (store (i16), addrspace 1)
...

---
name: test_store_global_s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i16) = G_TRUNC %1(i32)
    G_STORE %2(i16), %0(p1) :: (store (i16), align 4, addrspace 1)
...

---
name: test_store_global_s24_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s24_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s24_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ; CI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s24_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s24_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 4, addrspace 1)
    ; GFX9-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i24) = G_TRUNC %1(i32)
    G_STORE %2(i24), %0(p1) :: (store (i24), align 4, addrspace 1)
...

---
name: test_store_global_s24_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s24_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s24_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; CI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s24_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s24_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; GFX9-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i24) = G_TRUNC %1(i32)
    G_STORE %2(i24), %0(p1) :: (store (i24), align 2, addrspace 1)
...

---
name: test_store_global_s24_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s24_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s24_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 1, addrspace 1)
    ; CI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s24_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s24_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), align 1, addrspace 1)
    ; GFX9-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i24) = G_TRUNC %1(i32)
    G_STORE %2(i24), %0(p1) :: (store (i24), align 1, addrspace 1)
...

---
name: test_store_global_s25_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s25_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 33554431
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; SI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s25_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 33554431
    ; CI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; CI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s25_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 33554431
    ; VI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; VI-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s25_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 33554431
    ; GFX9-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY1]], [[C]]
    ; GFX9-NEXT: G_STORE [[AND]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    %2:_(i25) = G_TRUNC %1(i32)
    G_STORE %2(i25), %0(p1) :: (store (i25), addrspace 1)
...

# ---
# name: test_store_global_s25_align2
# body: |
#   bb.0:
#     liveins: $vgpr0_vgpr1, $vgpr2

#     %0:_(p1) = COPY $vgpr0_vgpr1
#     %1:_(i32) = COPY $vgpr2
#     %2:_(i25) = G_TRUNC %1
#     G_STORE %2, %0 :: (store (i25), align 2, addrspace 1)
# ...

# ---
# name: test_store_global_s25_align1
# body: |
#   bb.0:
#     liveins: $vgpr0_vgpr1, $vgpr2

#     %0:_(p1) = COPY $vgpr0_vgpr1
#     %1:_(i32) = COPY $vgpr2
#     %2:_(i25) = G_TRUNC %1
#     G_STORE %2, %0 :: (store (i25), align 1, addrspace 1)
# ...

---
name: test_store_global_s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    G_STORE %1(i32), %0(p1) :: (store (i32), align 1, addrspace 1)
...

---
name: test_store_global_s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[COPY1]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    G_STORE %1(i32), %0(p1) :: (store (i32), align 2, addrspace 1)
...

---
name: test_store_global_s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; SI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; VI-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i32) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](i32), [[COPY]](p1) :: (store (i32), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i32) = COPY $vgpr2
    G_STORE %1(i32), %0(p1) :: (store (i32), addrspace 1)
...

---
name: test_store_global_p3_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_p3_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i32) = G_PTRTOINT [[COPY1]](p3)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[PTRTOINT]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p3_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p3_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i32) = G_PTRTOINT [[COPY1]](p3)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[PTRTOINT]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p3_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p3) = COPY $vgpr2
    G_STORE %1(p3), %0(p1) :: (store (p3), align 1, addrspace 1)
...

---
name: test_store_global_p3_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_p3_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i32) = G_PTRTOINT [[COPY1]](p3)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[PTRTOINT]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p3_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p3_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i32) = G_PTRTOINT [[COPY1]](p3)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[PTRTOINT]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p3_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p3) = COPY $vgpr2
    G_STORE %1(p3), %0(p1) :: (store (p3), align 2, addrspace 1)
...

---
name: test_store_global_p3_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2

    ; SI-LABEL: name: test_store_global_p3_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; SI-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p3_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; CI-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p3_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; VI-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p3_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p3) = COPY $vgpr2
    ; GFX9-NEXT: G_STORE [[COPY1]](p3), [[COPY]](p1) :: (store (p3), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p3) = COPY $vgpr2
    G_STORE %1(p3), %0(p1) :: (store (p3), addrspace 1)
...

---
name: test_store_global_s48_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s48_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C5]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C4]](i32)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[LSHR1]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[TRUNC1]], [[C5]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s48_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[TRUNC]](i32), [[COPY]](p1) :: (store (i32), align 1, addrspace 1)
    ; CI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; CI-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s48_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[COPY1]](i64)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C4]](i16)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[TRUNC3]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s48_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[TRUNC]](i32), [[COPY]](p1) :: (store (i32), align 1, addrspace 1)
    ; GFX9-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; GFX9-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    %2:_(i48) = G_TRUNC %1(i64)
    G_STORE %2(i48), %0(p1) :: (store (i48), align 1, addrspace 1)
...

---
name: test_store_global_s48_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s48_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s48_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[TRUNC]](i32), [[COPY]](p1) :: (store (i32), align 2, addrspace 1)
    ; CI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; CI-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s48_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s48_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY1]](i64)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY1]], [[C]](i32)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[TRUNC]](i32), [[COPY]](p1) :: (store (i32), align 2, addrspace 1)
    ; GFX9-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; GFX9-NEXT: G_STORE [[TRUNC1]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    %2:_(i48) = G_TRUNC %1(i64)
    G_STORE %2(i48), %0(p1) :: (store (i48), align 2, addrspace 1)
...

# ---
# name: test_store_global_s48_align4
# body: |
#   bb.0:
#     liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

#     %0:_(p1) = COPY $vgpr0_vgpr1
#     %1:_(i64) = COPY $vgpr2_vgpr3
#     %2:_(i48) = G_TRUNC %1
#     G_STORE %2, %0 :: (store (i48), align 4, addrspace 1)
# ...

# ---
# name: test_store_global_s48_align8
# body: |
#   bb.0:
#     liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

#     %0:_(p1) = COPY $vgpr0_vgpr1
#     %1:_(i64) = COPY $vgpr2_vgpr3
#     %2:_(i48) = G_TRUNC %1
#     G_STORE %2, %0 :: (store (i48), align 8, addrspace 1)
# ...


---
name: test_store_global_s64_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s64_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[COPY1]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY3]], [[C5]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C4]](i32)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[LSHR1]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY5]], [[C5]]
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[LSHR4]], [[COPY7]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s64_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s64_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[COPY1]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C4]](i16)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR4]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR6]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s64_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    G_STORE %1(i64), %0(p1) :: (store (i64), align 1, addrspace 1)
...

---
name: test_store_global_s64_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s64_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[COPY1]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s64_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s64_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[COPY1]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s64_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    G_STORE %1(i64), %0(p1) :: (store (i64), align 2, addrspace 1)
...

---
name: test_store_global_s64_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s64_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s64_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s64_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s64_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    G_STORE %1(i64), %0(p1) :: (store (i64), align 4, addrspace 1)
...

---
name: test_store_global_s64_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s64_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s64_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s64_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s64_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    G_STORE %1(i64), %0(p1) :: (store (i64), addrspace 1)
...

---
name: test_store_global_s64_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_s64_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s64_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s64_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s64_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i64) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](i64), [[COPY]](p1) :: (store (i64), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i64) = COPY $vgpr2_vgpr3
    G_STORE %1(i64), %0(p1) :: (store (i64), align 16, addrspace 1)
...

---
name: test_store_global_p0_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p0_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p0)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY3]], [[C5]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C4]](i32)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[LSHR1]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY5]], [[C5]]
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[LSHR4]], [[COPY7]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p0_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p0_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p0)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C4]](i16)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR4]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR6]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p0_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p0) = COPY $vgpr2_vgpr3
    G_STORE %1(p0), %0(p1) :: (store (p0), align 1, addrspace 1)
...

---
name: test_store_global_p0_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p0_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p0)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p0_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p0_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p0)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p0_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p0) = COPY $vgpr2_vgpr3
    G_STORE %1(p0), %0(p1) :: (store (p0), align 2, addrspace 1)
...

---
name: test_store_global_p0_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p0_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p0_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p0_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p0_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p0) = COPY $vgpr2_vgpr3
    G_STORE %1(p0), %0(p1) :: (store (p0), align 4, addrspace 1)
...

---
name: test_store_global_p0_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p0_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p0_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p0_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p0_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p0) = COPY $vgpr2_vgpr3
    G_STORE %1(p0), %0(p1) :: (store (p0), addrspace 1)
...

---
name: test_store_global_p0_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p0_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p0_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p0_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p0_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p0) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p0), [[COPY]](p1) :: (store (p0), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p0) = COPY $vgpr2_vgpr3
    G_STORE %1(p0), %0(p1) :: (store (p0), align 16, addrspace 1)
...

---
name: test_store_global_p999_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p999_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p999)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY3]], [[C5]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C4]](i32)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[LSHR1]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY5]], [[C5]]
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[LSHR4]], [[COPY7]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p999_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p999_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p999)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C4]](i16)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR4]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR6]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p999_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p999) = COPY $vgpr2_vgpr3
    G_STORE %1(p999), %0(p1) :: (store (p999), align 1, addrspace 1)
...

---
name: test_store_global_p999_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p999_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p999)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p999_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p999_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[PTRTOINT:%[0-9]+]]:_(i64) = G_PTRTOINT [[COPY1]](p999)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[PTRTOINT]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p999_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p999) = COPY $vgpr2_vgpr3
    G_STORE %1(p999), %0(p1) :: (store (p999), align 2, addrspace 1)
...

---
name: test_store_global_p999_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p999_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p999_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p999_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p999_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p999) = COPY $vgpr2_vgpr3
    G_STORE %1(p999), %0(p1) :: (store (p999), align 4, addrspace 1)
...

---
name: test_store_global_p999_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p999_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p999_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p999_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p999_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p999) = COPY $vgpr2_vgpr3
    G_STORE %1(p999), %0(p1) :: (store (p999), addrspace 1)
...

---
name: test_store_global_p999_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_p999_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_p999_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_p999_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_p999_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(p999) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](p999), [[COPY]](p1) :: (store (p999), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(p999) = COPY $vgpr2_vgpr3
    G_STORE %1(p999), %0(p1) :: (store (p999), align 16, addrspace 1)
...

---
name: test_store_global_v2s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<2 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<2 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i32>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x i32>), %0(p1) :: (store (<2 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v2s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<2 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<2 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i32>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x i32>), %0(p1) :: (store (<2 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v2s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i32>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x i32>), %0(p1) :: (store (<2 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v2s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i32>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x i32>), %0(p1) :: (store (<2 x i32>), addrspace 1)
...

---
name: test_store_global_v2s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i32>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i32>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x i32>), %0(p1) :: (store (<2 x i32>), align 16, addrspace 1)
...

---
name: test_store_global_v2p3_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2p3_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<2 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p3_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; CI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p3_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<2 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p3_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p3>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x p3>), %0(p1) :: (store (<2 x p3>), align 1, addrspace 1)
...

---
name: test_store_global_v2p3_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2p3_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<2 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p3_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; CI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p3_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<2 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p3_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p3>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x p3>), %0(p1) :: (store (<2 x p3>), align 2, addrspace 1)
...

---
name: test_store_global_v2p3_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2p3_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; SI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p3_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; CI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p3_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; VI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p3_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p3>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x p3>), %0(p1) :: (store (<2 x p3>), align 4, addrspace 1)
...

---
name: test_store_global_v2p3_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2p3_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; SI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p3_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; CI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p3_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; VI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p3_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p3>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x p3>), %0(p1) :: (store (<2 x p3>), addrspace 1)
...

---
name: test_store_global_v2p3_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v2p3_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; SI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p3_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; CI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p3_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; VI-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p3_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p3>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<2 x i32>) = G_BITCAST [[COPY1]](<2 x p3>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p3>) = COPY $vgpr2_vgpr3
    G_STORE %1(<2 x p3>), %0(p1) :: (store (<2 x p3>), align 16, addrspace 1)
...

---
name: test_store_global_v4s16_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v4s16_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[COPY1]](<4 x i16>)
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV]](<2 x i16>)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; SI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV1]](<2 x i16>)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST1]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[BITCAST]], [[C2]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C1]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[BITCAST]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[C1]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[LSHR]], [[C2]]
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY2]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C1]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[BITCAST1]], [[C2]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 6
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C1]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[LSHR1]], [[C2]]
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s16_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s16_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[COPY1]](<4 x i16>)
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV]](<2 x i16>)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[BITCAST]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV1]](<2 x i16>)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[BITCAST1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST1]], [[C]](i32)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C1]](i16)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[BITCAST]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C1]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C1]](i16)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 6
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C1]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s16_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i16>) = COPY $vgpr2_vgpr3
    G_STORE %1(<4 x i16>), %0(p1) :: (store (<4 x i16>), align 1, addrspace 1)
...

---
name: test_store_global_v4s16_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v4s16_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[COPY1]](<4 x i16>)
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV]](<2 x i16>)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; SI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV1]](<2 x i16>)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST1]], [[C]](i32)
    ; SI-NEXT: G_STORE [[BITCAST]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 6
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s16_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s16_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[COPY1]](<4 x i16>)
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV]](<2 x i16>)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; VI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV1]](<2 x i16>)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST1]], [[C]](i32)
    ; VI-NEXT: G_STORE [[BITCAST]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 6
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s16_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i16>) = COPY $vgpr2_vgpr3
    G_STORE %1(<4 x i16>), %0(p1) :: (store (<4 x i16>), align 2, addrspace 1)
...

---
name: test_store_global_v4s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v4s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i16>) = COPY $vgpr2_vgpr3
    G_STORE %1(<4 x i16>), %0(p1) :: (store (<4 x i16>), align 4, addrspace 1)
...

---
name: test_store_global_v4s16_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v4s16_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s16_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s16_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s16_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i16>) = COPY $vgpr2_vgpr3
    G_STORE %1(<4 x i16>), %0(p1) :: (store (<4 x i16>), addrspace 1)
...

---
name: test_store_global_v4s16_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3

    ; SI-LABEL: name: test_store_global_v4s16_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s16_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s16_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s16_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i16>) = COPY $vgpr2_vgpr3
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i16>), [[COPY]](p1) :: (store (<4 x i16>), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i16>) = COPY $vgpr2_vgpr3
    G_STORE %1(<4 x i16>), %0(p1) :: (store (<4 x i16>), align 16, addrspace 1)
...

---
name: test_store_global_v3s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_v3s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v3s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v3s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v3s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(<3 x i32>), %0(p1) :: (store (<3 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v3s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_v3s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v3s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v3s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v3s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(<3 x i32>), %0(p1) :: (store (<3 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v3s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_v3s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v3s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v3s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v3s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(<3 x i32>), %0(p1) :: (store (<3 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v3s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_v3s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v3s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v3s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v3s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(<3 x i32>), %0(p1) :: (store (<3 x i32>), align 8, addrspace 1)
...

---
name: test_store_global_v3s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_v3s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v3s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v3s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v3s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: G_STORE [[COPY1]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(<3 x i32>), %0(p1) :: (store (<3 x i32>), align 16, addrspace 1)
...

---
name: test_store_global_v4s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v4s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<4 x i32>), %0(p1) :: (store (<4 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v4s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v4s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<4 x i32>), %0(p1) :: (store (<4 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v4s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v4s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<4 x i32>), %0(p1) :: (store (<4 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v4s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v4s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<4 x i32>), %0(p1) :: (store (<4 x i32>), align 8, addrspace 1)
...

---
name: test_store_global_v4s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v4s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v4s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v4s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v4s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<4 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<4 x i32>), %0(p1) :: (store (<4 x i32>), addrspace 1)
...

---
name: test_store_global_v2s64_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2s64_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i64), [[UV1:%[0-9]+]]:_(i64) = G_UNMERGE_VALUES [[COPY1]](<2 x i64>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[UV]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY3]], [[C5]]
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C4]](i32)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[LSHR1]], [[COPY4]](i32)
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY5]], [[C5]]
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[LSHR4]], [[COPY7]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i64) = COPY [[UV1]](i64)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C]](i32)
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i64) = G_LSHR [[COPY8]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC2:%[0-9]+]]:_(i32) = G_TRUNC [[COPY8]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[TRUNC2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C5]]
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[LSHR8]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR7]](i64)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C5]]
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C4]](i32)
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[LSHR11]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C6]](i64)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s64_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s64_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i64), [[UV1:%[0-9]+]]:_(i64) = G_UNMERGE_VALUES [[COPY1]](<2 x i64>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[UV]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C4]](i16)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR3]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR4]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR6]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i64) = COPY [[UV1]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i64) = G_LSHR [[COPY5]], [[COPY6]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i32) = G_TRUNC [[COPY5]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[TRUNC6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i64)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR9]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR8]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR7]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[TRUNC9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: [[TRUNC10:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR7]](i64)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC10]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR12]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC11:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR11]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC11]], [[C4]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C5]](i64)
    ; VI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s64_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x i64>), %0(p1) :: (store (<2 x i64>), align 1, addrspace 1)
...

---
name: test_store_global_v2s64_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2s64_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i64), [[UV1:%[0-9]+]]:_(i64) = G_UNMERGE_VALUES [[COPY1]](<2 x i64>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[UV]](i64)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i64) = COPY [[UV1]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i64) = G_LSHR [[COPY5]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[TRUNC2:%[0-9]+]]:_(i32) = G_TRUNC [[COPY5]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[TRUNC2]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR3]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C2]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s64_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s64_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i64), [[UV1:%[0-9]+]]:_(i64) = G_UNMERGE_VALUES [[COPY1]](<2 x i64>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i64) = COPY [[UV]](i64)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 32
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i64) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i32) = G_TRUNC [[COPY2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[TRUNC]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C2]](i32)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[TRUNC1]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i64) = COPY [[UV1]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i64) = G_LSHR [[COPY5]], [[COPY6]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i32) = G_TRUNC [[COPY5]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[TRUNC2]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i32) = G_TRUNC [[LSHR3]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[TRUNC3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C2]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s64_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x i64>), %0(p1) :: (store (<2 x i64>), align 2, addrspace 1)
...

---
name: test_store_global_v2s64_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2s64_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s64_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s64_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s64_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x i64>), %0(p1) :: (store (<2 x i64>), align 4, addrspace 1)
...

---
name: test_store_global_v2s64_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2s64_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s64_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s64_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s64_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x i64>), %0(p1) :: (store (<2 x i64>), align 8, addrspace 1)
...

---
name: test_store_global_v2s64_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2s64_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s64_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s64_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s64_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: G_STORE [[COPY1]](<2 x i64>), [[COPY]](p1) :: (store (<2 x i64>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i64>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x i64>), %0(p1) :: (store (<2 x i64>), addrspace 1)
...

---
name: test_store_global_v8s16_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v8s16_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s16_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s16_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s16_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<8 x i16>), %0(p1) :: (store (<8 x i16>), align 1, addrspace 1)
...

---
name: test_store_global_v8s16_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v8s16_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s16_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s16_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s16_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<8 x i16>), %0(p1) :: (store (<8 x i16>), align 2, addrspace 1)
...

---
name: test_store_global_v8s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v8s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<8 x i16>), %0(p1) :: (store (<8 x i16>), align 4, addrspace 1)
...

---
name: test_store_global_v8s16_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v8s16_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s16_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s16_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s16_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<8 x i16>), %0(p1) :: (store (<8 x i16>), align 8, addrspace 1)
...

---
name: test_store_global_v8s16_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v8s16_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s16_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s16_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s16_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i16>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<8 x i16>), %0(p1) :: (store (<8 x i16>), addrspace 1)
...

---
name: test_store_global_v2p0_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2p0_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p0_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p0_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p0_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x p0>), %0(p1) :: (store (<2 x p0>), align 1, addrspace 1)
...

---
name: test_store_global_v2p0_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2p0_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p0_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p0_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p0_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x p0>), %0(p1) :: (store (<2 x p0>), align 2, addrspace 1)
...

---
name: test_store_global_v2p0_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2p0_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p0_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p0_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p0_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x p0>), %0(p1) :: (store (<2 x p0>), align 4, addrspace 1)
...

---
name: test_store_global_v2p0_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2p0_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p0_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p0_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p0_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x p0>), %0(p1) :: (store (<2 x p0>), align 8, addrspace 1)
...

---
name: test_store_global_v2p0_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_v2p0_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2p0_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2p0_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2p0_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](<2 x p0>)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x p0>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(<2 x p0>), %0(p1) :: (store (<2 x p0>), addrspace 1)
...

---
name: test_store_global_s96_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_s96_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s96_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; CI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s96_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s96_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(i96), %0(p1) :: (store (i96), align 1, addrspace 1)
...

---
name: test_store_global_s96_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_s96_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s96_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; CI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s96_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s96_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(i96), %0(p1) :: (store (i96), align 2, addrspace 1)
...

---
name: test_store_global_s96_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_s96_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s96_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; CI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s96_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; VI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s96_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(i96), %0(p1) :: (store (i96), align 4, addrspace 1)
...

---
name: test_store_global_s96_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_s96_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s96_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; CI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s96_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; VI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s96_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(i96), %0(p1) :: (store (i96), align 8, addrspace 1)
...

---
name: test_store_global_s96_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4

    ; SI-LABEL: name: test_store_global_s96_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<2 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<2 x i32>), [[COPY]](p1) :: (store (<2 x i32>), align 16, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 8, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s96_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; CI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s96_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; VI-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s96_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<3 x i32>) = G_BITCAST [[COPY1]](i96)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<3 x i32>), [[COPY]](p1) :: (store (<3 x i32>), align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i96) = COPY $vgpr2_vgpr3_vgpr4
    G_STORE %1(i96), %0(p1) :: (store (i96), align 16, addrspace 1)
...

---
name: test_store_global_s128_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_s128_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s128_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s128_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s128_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(i128), %0(p1) :: (store (i128), align 1, addrspace 1)
...

---
name: test_store_global_s128_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_s128_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s128_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s128_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<4 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s128_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(i128), %0(p1) :: (store (i128), align 2, addrspace 1)
...

---
name: test_store_global_s128_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_s128_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s128_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s128_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s128_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(i128), %0(p1) :: (store (i128), align 4, addrspace 1)
...

---
name: test_store_global_s128_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_s128_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s128_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s128_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s128_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(i128), %0(p1) :: (store (i128), align 8, addrspace 1)
...

---
name: test_store_global_s128_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5

    ; SI-LABEL: name: test_store_global_s128_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; SI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s128_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; CI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s128_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; VI-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s128_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[COPY1]](i128)
    ; GFX9-NEXT: G_STORE [[BITCAST]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i128) = COPY $vgpr2_vgpr3_vgpr4_vgpr5
    G_STORE %1(i128), %0(p1) :: (store (i128), addrspace 1)
...

---
name: test_store_global_v5s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x i32>), %0(p1) :: (store (<5 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v5s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x i32>), %0(p1) :: (store (<5 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v5s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x i32>), %0(p1) :: (store (<5 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v5s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x i32>), %0(p1) :: (store (<5 x i32>), align 8, addrspace 1)
...

---
name: test_store_global_v5s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x i32>), %0(p1) :: (store (<5 x i32>), align 16, addrspace 1)
...

---
name: test_store_global_v5p3_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-LABEL: name: test_store_global_v5p3_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5p3_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5p3_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5p3_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x p3>), %0(p1) :: (store (<5 x p3>), align 1, addrspace 1)
...

---
name: test_store_global_v5p3_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5p3_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5p3_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5p3_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5p3_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x p3>), %0(p1) :: (store (<5 x p3>), align 2, addrspace 1)
...

---
name: test_store_global_v5p3_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5p3_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5p3_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5p3_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5p3_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x p3>), %0(p1) :: (store (<5 x p3>), align 4, addrspace 1)
...

---
name: test_store_global_v5p3_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5p3_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5p3_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5p3_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5p3_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x p3>), %0(p1) :: (store (<5 x p3>), align 8, addrspace 1)
...

---
name: test_store_global_v5p3_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v5p3_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v5p3_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v5p3_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v5p3_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](<5 x p3>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<5 x p3>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(<5 x p3>), %0(p1) :: (store (<5 x p3>), align 16, addrspace 1)
...

---
name: test_store_global_v10s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v10s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[DEF:%[0-9]+]]:_(<10 x i16>) = G_IMPLICIT_DEF
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[DEF]](<10 x i16>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v10s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[DEF:%[0-9]+]]:_(<10 x i16>) = G_IMPLICIT_DEF
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[DEF]](<10 x i16>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v10s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[DEF:%[0-9]+]]:_(<10 x i16>) = G_IMPLICIT_DEF
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[DEF]](<10 x i16>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v10s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[DEF:%[0-9]+]]:_(<10 x i16>) = G_IMPLICIT_DEF
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[DEF]](<10 x i16>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<10 x i16>) = G_IMPLICIT_DEF
    G_STORE %1(<10 x i16>), %0(p1) :: (store (<10 x i16>), align 16, addrspace 1)
...

---
name: test_store_global_v11s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v11s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>), [[UV2:%[0-9]+]]:_(<2 x i16>), [[UV3:%[0-9]+]]:_(<2 x i16>), [[UV4:%[0-9]+]]:_(<2 x i16>), [[UV5:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[DEF]](<12 x i16>)
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV4]](<2 x i16>)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; SI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV5]](<2 x i16>)
    ; SI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<8 x i16>) = G_CONCAT_VECTORS [[UV]](<2 x i16>), [[UV1]](<2 x i16>), [[UV2]](<2 x i16>), [[UV3]](<2 x i16>)
    ; SI-NEXT: [[BITCAST2:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[CONCAT_VECTORS]](<8 x i16>)
    ; SI-NEXT: G_STORE [[BITCAST2]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[BITCAST]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 16, align 16, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C2]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; SI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 20, align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v11s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>), [[UV2:%[0-9]+]]:_(<2 x i16>), [[UV3:%[0-9]+]]:_(<2 x i16>), [[UV4:%[0-9]+]]:_(<2 x i16>), [[UV5:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[DEF]](<12 x i16>)
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV4]](<2 x i16>)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; CI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; CI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV5]](<2 x i16>)
    ; CI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<8 x i16>) = G_CONCAT_VECTORS [[UV]](<2 x i16>), [[UV1]](<2 x i16>), [[UV2]](<2 x i16>), [[UV3]](<2 x i16>)
    ; CI-NEXT: [[BITCAST2:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[CONCAT_VECTORS]](<8 x i16>)
    ; CI-NEXT: G_STORE [[BITCAST2]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[BITCAST]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 16, align 16, addrspace 1)
    ; CI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C2]](i64)
    ; CI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; CI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; CI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; CI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 20, align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v11s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>), [[UV2:%[0-9]+]]:_(<2 x i16>), [[UV3:%[0-9]+]]:_(<2 x i16>), [[UV4:%[0-9]+]]:_(<2 x i16>), [[UV5:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[DEF]](<12 x i16>)
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV4]](<2 x i16>)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; VI-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV5]](<2 x i16>)
    ; VI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<8 x i16>) = G_CONCAT_VECTORS [[UV]](<2 x i16>), [[UV1]](<2 x i16>), [[UV2]](<2 x i16>), [[UV3]](<2 x i16>)
    ; VI-NEXT: [[BITCAST2:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[CONCAT_VECTORS]](<8 x i16>)
    ; VI-NEXT: G_STORE [[BITCAST2]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[BITCAST]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 16, align 16, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C2]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 20, align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v11s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<2 x i16>), [[UV1:%[0-9]+]]:_(<2 x i16>), [[UV2:%[0-9]+]]:_(<2 x i16>), [[UV3:%[0-9]+]]:_(<2 x i16>), [[UV4:%[0-9]+]]:_(<2 x i16>), [[UV5:%[0-9]+]]:_(<2 x i16>) = G_UNMERGE_VALUES [[DEF]](<12 x i16>)
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(i32) = G_BITCAST [[UV4]](<2 x i16>)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; GFX9-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[BITCAST]], [[C]](i32)
    ; GFX9-NEXT: [[BITCAST1:%[0-9]+]]:_(i32) = G_BITCAST [[UV5]](<2 x i16>)
    ; GFX9-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<8 x i16>) = G_CONCAT_VECTORS [[UV]](<2 x i16>), [[UV1]](<2 x i16>), [[UV2]](<2 x i16>), [[UV3]](<2 x i16>)
    ; GFX9-NEXT: [[BITCAST2:%[0-9]+]]:_(<4 x i32>) = G_BITCAST [[CONCAT_VECTORS]](<8 x i16>)
    ; GFX9-NEXT: G_STORE [[BITCAST2]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[BITCAST]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 16, align 16, addrspace 1)
    ; GFX9-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C2]](i64)
    ; GFX9-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; GFX9-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; GFX9-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; GFX9-NEXT: G_STORE [[BITCAST1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 20, align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<11 x i16>) = G_IMPLICIT_DEF
    G_STORE %1(<11 x i16>), %0(p1) :: (store (<11 x i16>), align 16, addrspace 1)
...

---
name: test_store_global_v12s16_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_v12s16_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<6 x i32>) = G_BITCAST [[DEF]](<12 x i16>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<2 x i32>), [[UV1:%[0-9]+]]:_(<2 x i32>), [[UV2:%[0-9]+]]:_(<2 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<6 x i32>)
    ; SI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<4 x i32>) = G_CONCAT_VECTORS [[UV]](<2 x i32>), [[UV1]](<2 x i32>)
    ; SI-NEXT: G_STORE [[CONCAT_VECTORS]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV2]](<2 x i32>), [[PTR_ADD]](p1) :: (store (<2 x i32>) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v12s16_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<6 x i32>) = G_BITCAST [[DEF]](<12 x i16>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<2 x i32>), [[UV1:%[0-9]+]]:_(<2 x i32>), [[UV2:%[0-9]+]]:_(<2 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<6 x i32>)
    ; CI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<4 x i32>) = G_CONCAT_VECTORS [[UV]](<2 x i32>), [[UV1]](<2 x i32>)
    ; CI-NEXT: G_STORE [[CONCAT_VECTORS]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV2]](<2 x i32>), [[PTR_ADD]](p1) :: (store (<2 x i32>) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v12s16_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<6 x i32>) = G_BITCAST [[DEF]](<12 x i16>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<2 x i32>), [[UV1:%[0-9]+]]:_(<2 x i32>), [[UV2:%[0-9]+]]:_(<2 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<6 x i32>)
    ; VI-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<4 x i32>) = G_CONCAT_VECTORS [[UV]](<2 x i32>), [[UV1]](<2 x i32>)
    ; VI-NEXT: G_STORE [[CONCAT_VECTORS]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV2]](<2 x i32>), [[PTR_ADD]](p1) :: (store (<2 x i32>) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v12s16_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[DEF:%[0-9]+]]:_(<12 x i16>) = G_IMPLICIT_DEF
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<6 x i32>) = G_BITCAST [[DEF]](<12 x i16>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<2 x i32>), [[UV1:%[0-9]+]]:_(<2 x i32>), [[UV2:%[0-9]+]]:_(<2 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<6 x i32>)
    ; GFX9-NEXT: [[CONCAT_VECTORS:%[0-9]+]]:_(<4 x i32>) = G_CONCAT_VECTORS [[UV]](<2 x i32>), [[UV1]](<2 x i32>)
    ; GFX9-NEXT: G_STORE [[CONCAT_VECTORS]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV2]](<2 x i32>), [[PTR_ADD]](p1) :: (store (<2 x i32>) into unknown-address + 16, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<12 x i16>) = G_IMPLICIT_DEF
    G_STORE %1(<12 x i16>), %0(p1) :: (store (<12 x i16>), align 16, addrspace 1)
...

---
name: test_store_global_s160_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_s160_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s160_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s160_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s160_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(i160), %0(p1) :: (store (i160), align 1, addrspace 1)
...

---
name: test_store_global_s160_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_s160_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s160_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s160_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s160_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(i160), %0(p1) :: (store (i160), align 2, addrspace 1)
...

---
name: test_store_global_s160_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_s160_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s160_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s160_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s160_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(i160), %0(p1) :: (store (i160), align 4, addrspace 1)
...

---
name: test_store_global_s160_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_s160_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s160_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s160_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s160_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(i160), %0(p1) :: (store (i160), align 8, addrspace 1)
...

---
name: test_store_global_s160_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6

    ; SI-LABEL: name: test_store_global_s160_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s160_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s160_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s160_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<5 x i32>) = G_BITCAST [[COPY1]](i160)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<5 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV4]](i32), [[PTR_ADD]](p1) :: (store (i32) into unknown-address + 16, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i160) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6
    G_STORE %1(i160), %0(p1) :: (store (i160), align 16, addrspace 1)
...

---
name: test_store_global_v8s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; SI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; SI-NEXT: [[COPY16:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; SI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY16]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; SI-NEXT: [[COPY17:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND5:%[0-9]+]]:_(i32) = G_AND [[COPY16]], [[C3]]
    ; SI-NEXT: [[LSHR16:%[0-9]+]]:_(i32) = G_LSHR [[AND5]], [[COPY17]](i32)
    ; SI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY16]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR16]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; SI-NEXT: [[COPY18:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR17:%[0-9]+]]:_(i32) = G_LSHR [[LSHR15]], [[COPY18]](i32)
    ; SI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR17]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; SI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; SI-NEXT: [[COPY19:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; SI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY19]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; SI-NEXT: [[COPY20:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND6:%[0-9]+]]:_(i32) = G_AND [[COPY19]], [[C3]]
    ; SI-NEXT: [[LSHR19:%[0-9]+]]:_(i32) = G_LSHR [[AND6]], [[COPY20]](i32)
    ; SI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY19]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR19]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; SI-NEXT: [[COPY21:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR20:%[0-9]+]]:_(i32) = G_LSHR [[LSHR18]], [[COPY21]](i32)
    ; SI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR20]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; SI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C7]](i64)
    ; SI-NEXT: [[COPY22:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; SI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY22]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; SI-NEXT: [[COPY23:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND7:%[0-9]+]]:_(i32) = G_AND [[COPY22]], [[C3]]
    ; SI-NEXT: [[LSHR22:%[0-9]+]]:_(i32) = G_LSHR [[AND7]], [[COPY23]](i32)
    ; SI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY22]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR22]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; SI-NEXT: [[COPY24:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR23:%[0-9]+]]:_(i32) = G_LSHR [[LSHR21]], [[COPY24]](i32)
    ; SI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR23]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; VI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; VI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC10:%[0-9]+]]:_(i16) = G_TRUNC [[COPY7]](i32)
    ; VI-NEXT: [[LSHR16:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC10]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: [[ANYEXT10:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR16]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT10]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; VI-NEXT: [[TRUNC11:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR15]](i32)
    ; VI-NEXT: [[LSHR17:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC11]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[ANYEXT11:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR17]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT11]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; VI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; VI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC12:%[0-9]+]]:_(i16) = G_TRUNC [[COPY8]](i32)
    ; VI-NEXT: [[LSHR19:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC12]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: [[ANYEXT12:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR19]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT12]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; VI-NEXT: [[TRUNC13:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR18]](i32)
    ; VI-NEXT: [[LSHR20:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC13]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[ANYEXT13:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR20]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT13]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; VI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; VI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC14:%[0-9]+]]:_(i16) = G_TRUNC [[COPY9]](i32)
    ; VI-NEXT: [[LSHR22:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC14]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: [[ANYEXT14:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR22]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT14]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; VI-NEXT: [[TRUNC15:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR21]](i32)
    ; VI-NEXT: [[LSHR23:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC15]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; VI-NEXT: [[ANYEXT15:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR23]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT15]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v8s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v8s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v8s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), align 8, addrspace 1)
...

---
name: test_store_global_v8s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), align 16, addrspace 1)
...

---
name: test_store_global_v2s128_align32
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v2s128_align32
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i128>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](<2 x i128>)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v2s128_align32
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i128>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](<2 x i128>)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v2s128_align32
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i128>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](<2 x i128>)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v2s128_align32
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<2 x i128>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](<2 x i128>)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<2 x i128>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<2 x i128>), %0(p1) :: (store (<2 x i128>), addrspace 1)
...

---
name: test_store_global_s256_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY2]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY3]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY6]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY7]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY9]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY10]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY12]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY13]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY13]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY13]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY15]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; SI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; SI-NEXT: [[COPY16:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; SI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY16]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; SI-NEXT: [[COPY17:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND5:%[0-9]+]]:_(i32) = G_AND [[COPY16]], [[C3]]
    ; SI-NEXT: [[LSHR16:%[0-9]+]]:_(i32) = G_LSHR [[AND5]], [[COPY17]](i32)
    ; SI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY16]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR16]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; SI-NEXT: [[COPY18:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR17:%[0-9]+]]:_(i32) = G_LSHR [[LSHR15]], [[COPY18]](i32)
    ; SI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR17]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; SI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; SI-NEXT: [[COPY19:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; SI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY19]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; SI-NEXT: [[COPY20:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND6:%[0-9]+]]:_(i32) = G_AND [[COPY19]], [[C3]]
    ; SI-NEXT: [[LSHR19:%[0-9]+]]:_(i32) = G_LSHR [[AND6]], [[COPY20]](i32)
    ; SI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY19]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR19]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; SI-NEXT: [[COPY21:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR20:%[0-9]+]]:_(i32) = G_LSHR [[LSHR18]], [[COPY21]](i32)
    ; SI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR20]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; SI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C7]](i64)
    ; SI-NEXT: [[COPY22:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; SI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY22]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; SI-NEXT: [[COPY23:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND7:%[0-9]+]]:_(i32) = G_AND [[COPY22]], [[C3]]
    ; SI-NEXT: [[LSHR22:%[0-9]+]]:_(i32) = G_LSHR [[AND7]], [[COPY23]](i32)
    ; SI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY22]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR22]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; SI-NEXT: [[COPY24:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR23:%[0-9]+]]:_(i32) = G_LSHR [[LSHR21]], [[COPY24]](i32)
    ; SI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR23]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY2]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY3]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; VI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; VI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC10:%[0-9]+]]:_(i16) = G_TRUNC [[COPY7]](i32)
    ; VI-NEXT: [[LSHR16:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC10]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: [[ANYEXT10:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR16]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT10]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; VI-NEXT: [[TRUNC11:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR15]](i32)
    ; VI-NEXT: [[LSHR17:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC11]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[ANYEXT11:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR17]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT11]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; VI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; VI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC12:%[0-9]+]]:_(i16) = G_TRUNC [[COPY8]](i32)
    ; VI-NEXT: [[LSHR19:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC12]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: [[ANYEXT12:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR19]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT12]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; VI-NEXT: [[TRUNC13:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR18]](i32)
    ; VI-NEXT: [[LSHR20:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC13]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[ANYEXT13:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR20]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT13]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; VI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; VI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC14:%[0-9]+]]:_(i16) = G_TRUNC [[COPY9]](i32)
    ; VI-NEXT: [[LSHR22:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC14]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: [[ANYEXT14:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR22]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT14]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; VI-NEXT: [[TRUNC15:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR21]](i32)
    ; VI-NEXT: [[LSHR23:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC15]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; VI-NEXT: [[ANYEXT15:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR23]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT15]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), align 1, addrspace 1)
...

---
name: test_store_global_s256_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32), [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32), [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY2]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY2]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY3]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY3]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[UV8:%[0-9]+]]:_(i32), [[UV9:%[0-9]+]]:_(i32), [[UV10:%[0-9]+]]:_(i32), [[UV11:%[0-9]+]]:_(i32), [[UV12:%[0-9]+]]:_(i32), [[UV13:%[0-9]+]]:_(i32), [[UV14:%[0-9]+]]:_(i32), [[UV15:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV12]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV13]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV14]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV15]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), align 2, addrspace 1)
...

---
name: test_store_global_s256_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), align 4, addrspace 1)
...

---
name: test_store_global_s256_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), align 8, addrspace 1)
...

---
name: test_store_global_s256_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), align 16, addrspace 1)
...

---
name: test_store_global_s256_align32
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_s256_align32
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_s256_align32
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_s256_align32
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_s256_align32
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[BITCAST:%[0-9]+]]:_(<8 x i32>) = G_BITCAST [[COPY1]](i256)
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[BITCAST]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(i256) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(i256), %0(p1) :: (store (i256), addrspace 1)
...

---
name: test_store_global_v8s32_align32
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9

    ; SI-LABEL: name: test_store_global_v8s32_align32
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; SI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v8s32_align32
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; CI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v8s32_align32
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; VI-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v8s32_align32
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(<4 x i32>), [[UV1:%[0-9]+]]:_(<4 x i32>) = G_UNMERGE_VALUES [[COPY1]](<8 x i32>)
    ; GFX9-NEXT: G_STORE [[UV]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 32, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[UV1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<8 x i32>) = COPY $vgpr2_vgpr3_vgpr4_vgpr5_vgpr6_vgpr7_vgpr8_vgpr9
    G_STORE %1(<8 x i32>), %0(p1) :: (store (<8 x i32>), addrspace 1)
...

---
name: test_store_global_v9s32_align1
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10

    ; SI-LABEL: name: test_store_global_v9s32_align1
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; SI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i32) = G_CONSTANT i32 8
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i32) = G_CONSTANT i32 65535
    ; SI-NEXT: [[AND:%[0-9]+]]:_(i32) = G_AND [[COPY4]], [[C3]]
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[AND]], [[C2]](i32)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[LSHR]], [[COPY5]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND1:%[0-9]+]]:_(i32) = G_AND [[COPY6]], [[C3]]
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[AND1]], [[COPY7]](i32)
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[LSHR3]], [[COPY8]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND2:%[0-9]+]]:_(i32) = G_AND [[COPY9]], [[C3]]
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[AND2]], [[COPY10]](i32)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[LSHR6]], [[COPY11]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; SI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY12]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: [[COPY13:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND3:%[0-9]+]]:_(i32) = G_AND [[COPY12]], [[C3]]
    ; SI-NEXT: [[LSHR10:%[0-9]+]]:_(i32) = G_LSHR [[AND3]], [[COPY13]](i32)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY12]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR10]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; SI-NEXT: [[COPY14:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR11:%[0-9]+]]:_(i32) = G_LSHR [[LSHR9]], [[COPY14]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR11]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; SI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; SI-NEXT: [[COPY15:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY15]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: [[COPY16:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND4:%[0-9]+]]:_(i32) = G_AND [[COPY15]], [[C3]]
    ; SI-NEXT: [[LSHR13:%[0-9]+]]:_(i32) = G_LSHR [[AND4]], [[COPY16]](i32)
    ; SI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY15]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR13]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; SI-NEXT: [[COPY17:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR14:%[0-9]+]]:_(i32) = G_LSHR [[LSHR12]], [[COPY17]](i32)
    ; SI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR14]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; SI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; SI-NEXT: [[COPY18:%[0-9]+]]:_(i32) = COPY [[UV5]](i32)
    ; SI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY18]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; SI-NEXT: [[COPY19:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND5:%[0-9]+]]:_(i32) = G_AND [[COPY18]], [[C3]]
    ; SI-NEXT: [[LSHR16:%[0-9]+]]:_(i32) = G_LSHR [[AND5]], [[COPY19]](i32)
    ; SI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY18]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR16]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; SI-NEXT: [[COPY20:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR17:%[0-9]+]]:_(i32) = G_LSHR [[LSHR15]], [[COPY20]](i32)
    ; SI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR17]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; SI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; SI-NEXT: [[COPY21:%[0-9]+]]:_(i32) = COPY [[UV6]](i32)
    ; SI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY21]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; SI-NEXT: [[COPY22:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND6:%[0-9]+]]:_(i32) = G_AND [[COPY21]], [[C3]]
    ; SI-NEXT: [[LSHR19:%[0-9]+]]:_(i32) = G_LSHR [[AND6]], [[COPY22]](i32)
    ; SI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY21]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR19]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; SI-NEXT: [[COPY23:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR20:%[0-9]+]]:_(i32) = G_LSHR [[LSHR18]], [[COPY23]](i32)
    ; SI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR20]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; SI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C7]](i64)
    ; SI-NEXT: [[COPY24:%[0-9]+]]:_(i32) = COPY [[UV7]](i32)
    ; SI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY24]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; SI-NEXT: [[COPY25:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND7:%[0-9]+]]:_(i32) = G_AND [[COPY24]], [[C3]]
    ; SI-NEXT: [[LSHR22:%[0-9]+]]:_(i32) = G_LSHR [[AND7]], [[COPY25]](i32)
    ; SI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY24]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR22]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; SI-NEXT: [[COPY26:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR23:%[0-9]+]]:_(i32) = G_LSHR [[LSHR21]], [[COPY26]](i32)
    ; SI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR23]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ; SI-NEXT: [[C9:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; SI-NEXT: [[PTR_ADD31:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C9]](i64)
    ; SI-NEXT: [[COPY27:%[0-9]+]]:_(i32) = COPY [[UV8]](i32)
    ; SI-NEXT: [[LSHR24:%[0-9]+]]:_(i32) = G_LSHR [[COPY27]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD32:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD31]], [[C1]](i64)
    ; SI-NEXT: [[COPY28:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[AND8:%[0-9]+]]:_(i32) = G_AND [[COPY27]], [[C3]]
    ; SI-NEXT: [[LSHR25:%[0-9]+]]:_(i32) = G_LSHR [[AND8]], [[COPY28]](i32)
    ; SI-NEXT: [[PTR_ADD33:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD31]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[COPY27]](i32), [[PTR_ADD31]](p1) :: (store (i8) into unknown-address + 32, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR25]](i32), [[PTR_ADD33]](p1) :: (store (i8) into unknown-address + 33, addrspace 1)
    ; SI-NEXT: [[COPY29:%[0-9]+]]:_(i32) = COPY [[C2]](i32)
    ; SI-NEXT: [[LSHR26:%[0-9]+]]:_(i32) = G_LSHR [[LSHR24]], [[COPY29]](i32)
    ; SI-NEXT: [[PTR_ADD34:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD32]], [[C4]](i64)
    ; SI-NEXT: G_STORE [[LSHR24]](i32), [[PTR_ADD32]](p1) :: (store (i8) into unknown-address + 34, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR26]](i32), [[PTR_ADD34]](p1) :: (store (i8) into unknown-address + 35, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v9s32_align1
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; CI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; CI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; CI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 1, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v9s32_align1
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; VI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC:%[0-9]+]]:_(i16) = G_TRUNC [[COPY4]](i32)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i16) = G_CONSTANT i16 8
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC]], [[C2]](i16)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 1
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[COPY]](p1) :: (store (i8), addrspace 1)
    ; VI-NEXT: [[ANYEXT:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR1]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT]](i32), [[PTR_ADD1]](p1) :: (store (i8) into unknown-address + 1, addrspace 1)
    ; VI-NEXT: [[TRUNC1:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC1]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i8) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[ANYEXT1:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR2]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT1]](i32), [[PTR_ADD2]](p1) :: (store (i8) into unknown-address + 3, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC2:%[0-9]+]]:_(i16) = G_TRUNC [[COPY5]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC2]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD3]](p1) :: (store (i8) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: [[ANYEXT2:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR4]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT2]](i32), [[PTR_ADD5]](p1) :: (store (i8) into unknown-address + 5, addrspace 1)
    ; VI-NEXT: [[TRUNC3:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR3]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC3]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD4]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD4]](p1) :: (store (i8) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[ANYEXT3:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR5]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT3]](i32), [[PTR_ADD6]](p1) :: (store (i8) into unknown-address + 7, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC4:%[0-9]+]]:_(i16) = G_TRUNC [[COPY6]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC4]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD7]](p1) :: (store (i8) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: [[ANYEXT4:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR7]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT4]](i32), [[PTR_ADD9]](p1) :: (store (i8) into unknown-address + 9, addrspace 1)
    ; VI-NEXT: [[TRUNC5:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR6]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC5]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD8]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD8]](p1) :: (store (i8) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[ANYEXT5:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR8]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT5]](i32), [[PTR_ADD10]](p1) :: (store (i8) into unknown-address + 11, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR9:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC6:%[0-9]+]]:_(i16) = G_TRUNC [[COPY7]](i32)
    ; VI-NEXT: [[LSHR10:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC6]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD11]](p1) :: (store (i8) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: [[ANYEXT6:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR10]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT6]](i32), [[PTR_ADD13]](p1) :: (store (i8) into unknown-address + 13, addrspace 1)
    ; VI-NEXT: [[TRUNC7:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR9]](i32)
    ; VI-NEXT: [[LSHR11:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC7]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD12]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR9]](i32), [[PTR_ADD12]](p1) :: (store (i8) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[ANYEXT7:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR11]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT7]](i32), [[PTR_ADD14]](p1) :: (store (i8) into unknown-address + 15, addrspace 1)
    ; VI-NEXT: [[C7:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C7]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR12:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC8:%[0-9]+]]:_(i16) = G_TRUNC [[COPY8]](i32)
    ; VI-NEXT: [[LSHR13:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC8]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD17:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD15]](p1) :: (store (i8) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[ANYEXT8:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR13]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT8]](i32), [[PTR_ADD17]](p1) :: (store (i8) into unknown-address + 17, addrspace 1)
    ; VI-NEXT: [[TRUNC9:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR12]](i32)
    ; VI-NEXT: [[LSHR14:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC9]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD18:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD16]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR12]](i32), [[PTR_ADD16]](p1) :: (store (i8) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[ANYEXT9:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR14]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT9]](i32), [[PTR_ADD18]](p1) :: (store (i8) into unknown-address + 19, addrspace 1)
    ; VI-NEXT: [[PTR_ADD19:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C4]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV5]](i32)
    ; VI-NEXT: [[LSHR15:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD20:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC10:%[0-9]+]]:_(i16) = G_TRUNC [[COPY9]](i32)
    ; VI-NEXT: [[LSHR16:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC10]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD21:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD19]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD19]](p1) :: (store (i8) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: [[ANYEXT10:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR16]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT10]](i32), [[PTR_ADD21]](p1) :: (store (i8) into unknown-address + 21, addrspace 1)
    ; VI-NEXT: [[TRUNC11:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR15]](i32)
    ; VI-NEXT: [[LSHR17:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC11]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD22:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD20]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR15]](i32), [[PTR_ADD20]](p1) :: (store (i8) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[ANYEXT11:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR17]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT11]](i32), [[PTR_ADD22]](p1) :: (store (i8) into unknown-address + 23, addrspace 1)
    ; VI-NEXT: [[PTR_ADD23:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C5]](i64)
    ; VI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV6]](i32)
    ; VI-NEXT: [[LSHR18:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD24:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC12:%[0-9]+]]:_(i16) = G_TRUNC [[COPY10]](i32)
    ; VI-NEXT: [[LSHR19:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC12]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD25:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD23]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD23]](p1) :: (store (i8) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: [[ANYEXT12:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR19]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT12]](i32), [[PTR_ADD25]](p1) :: (store (i8) into unknown-address + 25, addrspace 1)
    ; VI-NEXT: [[TRUNC13:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR18]](i32)
    ; VI-NEXT: [[LSHR20:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC13]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD26:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD24]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR18]](i32), [[PTR_ADD24]](p1) :: (store (i8) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[ANYEXT13:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR20]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT13]](i32), [[PTR_ADD26]](p1) :: (store (i8) into unknown-address + 27, addrspace 1)
    ; VI-NEXT: [[PTR_ADD27:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C6]](i64)
    ; VI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[UV7]](i32)
    ; VI-NEXT: [[LSHR21:%[0-9]+]]:_(i32) = G_LSHR [[COPY11]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD28:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC14:%[0-9]+]]:_(i16) = G_TRUNC [[COPY11]](i32)
    ; VI-NEXT: [[LSHR22:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC14]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD29:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD27]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY11]](i32), [[PTR_ADD27]](p1) :: (store (i8) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: [[ANYEXT14:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR22]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT14]](i32), [[PTR_ADD29]](p1) :: (store (i8) into unknown-address + 29, addrspace 1)
    ; VI-NEXT: [[TRUNC15:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR21]](i32)
    ; VI-NEXT: [[LSHR23:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC15]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD30:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD28]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR21]](i32), [[PTR_ADD28]](p1) :: (store (i8) into unknown-address + 30, addrspace 1)
    ; VI-NEXT: [[ANYEXT15:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR23]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT15]](i32), [[PTR_ADD30]](p1) :: (store (i8) into unknown-address + 31, addrspace 1)
    ; VI-NEXT: [[C8:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; VI-NEXT: [[PTR_ADD31:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C8]](i64)
    ; VI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[UV8]](i32)
    ; VI-NEXT: [[LSHR24:%[0-9]+]]:_(i32) = G_LSHR [[COPY12]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD32:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD31]], [[C1]](i64)
    ; VI-NEXT: [[TRUNC16:%[0-9]+]]:_(i16) = G_TRUNC [[COPY12]](i32)
    ; VI-NEXT: [[LSHR25:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC16]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD33:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD31]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[COPY12]](i32), [[PTR_ADD31]](p1) :: (store (i8) into unknown-address + 32, addrspace 1)
    ; VI-NEXT: [[ANYEXT16:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR25]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT16]](i32), [[PTR_ADD33]](p1) :: (store (i8) into unknown-address + 33, addrspace 1)
    ; VI-NEXT: [[TRUNC17:%[0-9]+]]:_(i16) = G_TRUNC [[LSHR24]](i32)
    ; VI-NEXT: [[LSHR26:%[0-9]+]]:_(i16) = G_LSHR [[TRUNC17]], [[C2]](i16)
    ; VI-NEXT: [[PTR_ADD34:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD32]], [[C3]](i64)
    ; VI-NEXT: G_STORE [[LSHR24]](i32), [[PTR_ADD32]](p1) :: (store (i8) into unknown-address + 34, addrspace 1)
    ; VI-NEXT: [[ANYEXT17:%[0-9]+]]:_(i32) = G_ANYEXT [[LSHR26]](i16)
    ; VI-NEXT: G_STORE [[ANYEXT17]](i32), [[PTR_ADD34]](p1) :: (store (i8) into unknown-address + 35, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v9s32_align1
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; GFX9-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; GFX9-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; GFX9-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 1, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 1, addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 1, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    %2:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    %3:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    %4:_(<9 x i32>) = G_CONCAT_VECTORS %1(<3 x i32>), %2(<3 x i32>), %3(<3 x i32>)
    G_STORE %4(<9 x i32>), %0(p1) :: (store (<9 x i32>), align 1, addrspace 1)
...

---
name: test_store_global_v9s32_align2
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10

    ; SI-LABEL: name: test_store_global_v9s32_align2
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; SI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; SI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; SI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY4]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; SI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; SI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; SI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; SI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; SI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; SI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; SI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; SI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; SI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; SI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; SI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; SI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; SI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; SI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; SI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; SI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV5]](i32)
    ; SI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; SI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; SI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV6]](i32)
    ; SI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; SI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; SI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[UV7]](i32)
    ; SI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY11]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY11]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ; SI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; SI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; SI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[UV8]](i32)
    ; SI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[COPY12]], [[C]](i32)
    ; SI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[COPY12]](i32), [[PTR_ADD15]](p1) :: (store (i16) into unknown-address + 32, addrspace 1)
    ; SI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD16]](p1) :: (store (i16) into unknown-address + 34, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v9s32_align2
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; CI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; CI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; CI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 2, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v9s32_align2
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; VI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; VI-NEXT: [[COPY4:%[0-9]+]]:_(i32) = COPY [[UV]](i32)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i32) = G_CONSTANT i32 16
    ; VI-NEXT: [[LSHR:%[0-9]+]]:_(i32) = G_LSHR [[COPY4]], [[C]](i32)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 2
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY4]](i32), [[COPY]](p1) :: (store (i16), addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR]](i32), [[PTR_ADD]](p1) :: (store (i16) into unknown-address + 2, addrspace 1)
    ; VI-NEXT: [[C2:%[0-9]+]]:_(i64) = G_CONSTANT i64 4
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C2]](i64)
    ; VI-NEXT: [[COPY5:%[0-9]+]]:_(i32) = COPY [[UV1]](i32)
    ; VI-NEXT: [[LSHR1:%[0-9]+]]:_(i32) = G_LSHR [[COPY5]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD2:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD1]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY5]](i32), [[PTR_ADD1]](p1) :: (store (i16) into unknown-address + 4, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR1]](i32), [[PTR_ADD2]](p1) :: (store (i16) into unknown-address + 6, addrspace 1)
    ; VI-NEXT: [[C3:%[0-9]+]]:_(i64) = G_CONSTANT i64 8
    ; VI-NEXT: [[PTR_ADD3:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C3]](i64)
    ; VI-NEXT: [[COPY6:%[0-9]+]]:_(i32) = COPY [[UV2]](i32)
    ; VI-NEXT: [[LSHR2:%[0-9]+]]:_(i32) = G_LSHR [[COPY6]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD4:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD3]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY6]](i32), [[PTR_ADD3]](p1) :: (store (i16) into unknown-address + 8, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR2]](i32), [[PTR_ADD4]](p1) :: (store (i16) into unknown-address + 10, addrspace 1)
    ; VI-NEXT: [[C4:%[0-9]+]]:_(i64) = G_CONSTANT i64 12
    ; VI-NEXT: [[PTR_ADD5:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C4]](i64)
    ; VI-NEXT: [[COPY7:%[0-9]+]]:_(i32) = COPY [[UV3]](i32)
    ; VI-NEXT: [[LSHR3:%[0-9]+]]:_(i32) = G_LSHR [[COPY7]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD6:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD5]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY7]](i32), [[PTR_ADD5]](p1) :: (store (i16) into unknown-address + 12, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR3]](i32), [[PTR_ADD6]](p1) :: (store (i16) into unknown-address + 14, addrspace 1)
    ; VI-NEXT: [[C5:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD7:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C5]](i64)
    ; VI-NEXT: [[COPY8:%[0-9]+]]:_(i32) = COPY [[UV4]](i32)
    ; VI-NEXT: [[LSHR4:%[0-9]+]]:_(i32) = G_LSHR [[COPY8]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD8:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY8]](i32), [[PTR_ADD7]](p1) :: (store (i16) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR4]](i32), [[PTR_ADD8]](p1) :: (store (i16) into unknown-address + 18, addrspace 1)
    ; VI-NEXT: [[PTR_ADD9:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C2]](i64)
    ; VI-NEXT: [[COPY9:%[0-9]+]]:_(i32) = COPY [[UV5]](i32)
    ; VI-NEXT: [[LSHR5:%[0-9]+]]:_(i32) = G_LSHR [[COPY9]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD10:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD9]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY9]](i32), [[PTR_ADD9]](p1) :: (store (i16) into unknown-address + 20, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR5]](i32), [[PTR_ADD10]](p1) :: (store (i16) into unknown-address + 22, addrspace 1)
    ; VI-NEXT: [[PTR_ADD11:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C3]](i64)
    ; VI-NEXT: [[COPY10:%[0-9]+]]:_(i32) = COPY [[UV6]](i32)
    ; VI-NEXT: [[LSHR6:%[0-9]+]]:_(i32) = G_LSHR [[COPY10]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD12:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD11]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY10]](i32), [[PTR_ADD11]](p1) :: (store (i16) into unknown-address + 24, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR6]](i32), [[PTR_ADD12]](p1) :: (store (i16) into unknown-address + 26, addrspace 1)
    ; VI-NEXT: [[PTR_ADD13:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD7]], [[C4]](i64)
    ; VI-NEXT: [[COPY11:%[0-9]+]]:_(i32) = COPY [[UV7]](i32)
    ; VI-NEXT: [[LSHR7:%[0-9]+]]:_(i32) = G_LSHR [[COPY11]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD14:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD13]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY11]](i32), [[PTR_ADD13]](p1) :: (store (i16) into unknown-address + 28, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR7]](i32), [[PTR_ADD14]](p1) :: (store (i16) into unknown-address + 30, addrspace 1)
    ; VI-NEXT: [[C6:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; VI-NEXT: [[PTR_ADD15:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C6]](i64)
    ; VI-NEXT: [[COPY12:%[0-9]+]]:_(i32) = COPY [[UV8]](i32)
    ; VI-NEXT: [[LSHR8:%[0-9]+]]:_(i32) = G_LSHR [[COPY12]], [[C]](i32)
    ; VI-NEXT: [[PTR_ADD16:%[0-9]+]]:_(p1) = G_PTR_ADD [[PTR_ADD15]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[COPY12]](i32), [[PTR_ADD15]](p1) :: (store (i16) into unknown-address + 32, addrspace 1)
    ; VI-NEXT: G_STORE [[LSHR8]](i32), [[PTR_ADD16]](p1) :: (store (i16) into unknown-address + 34, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v9s32_align2
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; GFX9-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; GFX9-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; GFX9-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 2, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 2, addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 2, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    %2:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    %3:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    %4:_(<9 x i32>) = G_CONCAT_VECTORS %1(<3 x i32>), %2(<3 x i32>), %3(<3 x i32>)
    G_STORE %4(<9 x i32>), %0(p1) :: (store (<9 x i32>), align 2, addrspace 1)
...

---
name: test_store_global_v9s32_align4
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10

    ; SI-LABEL: name: test_store_global_v9s32_align4
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; SI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v9s32_align4
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; CI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; CI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; CI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v9s32_align4
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; VI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v9s32_align4
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; GFX9-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; GFX9-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; GFX9-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 4, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 4, addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    %2:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    %3:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    %4:_(<9 x i32>) = G_CONCAT_VECTORS %1(<3 x i32>), %2(<3 x i32>), %3(<3 x i32>)
    G_STORE %4(<9 x i32>), %0(p1) :: (store (<9 x i32>), align 4, addrspace 1)
...

---
name: test_store_global_v9s32_align8
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10

    ; SI-LABEL: name: test_store_global_v9s32_align8
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; SI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 8, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v9s32_align8
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; CI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; CI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; CI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 8, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v9s32_align8
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; VI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 8, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v9s32_align8
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; GFX9-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; GFX9-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; GFX9-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), align 8, addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, align 8, addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 8, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    %2:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    %3:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    %4:_(<9 x i32>) = G_CONCAT_VECTORS %1(<3 x i32>), %2(<3 x i32>), %3(<3 x i32>)
    G_STORE %4(<9 x i32>), %0(p1) :: (store (<9 x i32>), align 8, addrspace 1)
...

---
name: test_store_global_v9s32_align16
body: |
  bb.0:
    liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10

    ; SI-LABEL: name: test_store_global_v9s32_align16
    ; SI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; SI-NEXT: {{  $}}
    ; SI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; SI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; SI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; SI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; SI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; SI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; SI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; SI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; SI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; SI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; SI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; SI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ; SI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; SI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; SI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 16, addrspace 1)
    ;
    ; CI-LABEL: name: test_store_global_v9s32_align16
    ; CI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; CI-NEXT: {{  $}}
    ; CI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; CI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; CI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; CI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; CI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; CI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; CI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; CI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; CI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; CI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; CI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; CI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ; CI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; CI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; CI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 16, addrspace 1)
    ;
    ; VI-LABEL: name: test_store_global_v9s32_align16
    ; VI: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; VI-NEXT: {{  $}}
    ; VI-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; VI-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; VI-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; VI-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; VI-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; VI-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; VI-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; VI-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; VI-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; VI-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; VI-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; VI-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ; VI-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; VI-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; VI-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 16, addrspace 1)
    ;
    ; GFX9-LABEL: name: test_store_global_v9s32_align16
    ; GFX9: liveins: $vgpr0_vgpr1, $vgpr2_vgpr3_vgpr4, $vgpr5_vgpr6_vgpr7, $vgpr8_vgpr9_vgpr10
    ; GFX9-NEXT: {{  $}}
    ; GFX9-NEXT: [[COPY:%[0-9]+]]:_(p1) = COPY $vgpr0_vgpr1
    ; GFX9-NEXT: [[COPY1:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    ; GFX9-NEXT: [[COPY2:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    ; GFX9-NEXT: [[COPY3:%[0-9]+]]:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    ; GFX9-NEXT: [[UV:%[0-9]+]]:_(i32), [[UV1:%[0-9]+]]:_(i32), [[UV2:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY1]](<3 x i32>)
    ; GFX9-NEXT: [[UV3:%[0-9]+]]:_(i32), [[UV4:%[0-9]+]]:_(i32), [[UV5:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY2]](<3 x i32>)
    ; GFX9-NEXT: [[UV6:%[0-9]+]]:_(i32), [[UV7:%[0-9]+]]:_(i32), [[UV8:%[0-9]+]]:_(i32) = G_UNMERGE_VALUES [[COPY3]](<3 x i32>)
    ; GFX9-NEXT: [[BUILD_VECTOR:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV]](i32), [[UV1]](i32), [[UV2]](i32), [[UV3]](i32)
    ; GFX9-NEXT: [[BUILD_VECTOR1:%[0-9]+]]:_(<4 x i32>) = G_BUILD_VECTOR [[UV4]](i32), [[UV5]](i32), [[UV6]](i32), [[UV7]](i32)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR]](<4 x i32>), [[COPY]](p1) :: (store (<4 x i32>), addrspace 1)
    ; GFX9-NEXT: [[C:%[0-9]+]]:_(i64) = G_CONSTANT i64 16
    ; GFX9-NEXT: [[PTR_ADD:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C]](i64)
    ; GFX9-NEXT: G_STORE [[BUILD_VECTOR1]](<4 x i32>), [[PTR_ADD]](p1) :: (store (<4 x i32>) into unknown-address + 16, addrspace 1)
    ; GFX9-NEXT: [[C1:%[0-9]+]]:_(i64) = G_CONSTANT i64 32
    ; GFX9-NEXT: [[PTR_ADD1:%[0-9]+]]:_(p1) = G_PTR_ADD [[COPY]], [[C1]](i64)
    ; GFX9-NEXT: G_STORE [[UV8]](i32), [[PTR_ADD1]](p1) :: (store (i32) into unknown-address + 32, align 16, addrspace 1)
    %0:_(p1) = COPY $vgpr0_vgpr1
    %1:_(<3 x i32>) = COPY $vgpr2_vgpr3_vgpr4
    %2:_(<3 x i32>) = COPY $vgpr5_vgpr6_vgpr7
    %3:_(<3 x i32>) = COPY $vgpr7_vgpr8_vgpr9
    %4:_(<9 x i32>) = G_CONCAT_VECTORS %1(<3 x i32>), %2(<3 x i32>), %3(<3 x i32>)
    G_STORE %4(<9 x i32>), %0(p1) :: (store (<9 x i32>), align 16, addrspace 1)
...
