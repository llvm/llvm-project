# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -O0 -march amdgcn -mcpu=fiji -run-pass=regbankselect %s -o - | FileCheck %s

# Check the default mappings for various instructions.

---
name:            test_fconstant_f32_1
legalized:       true
body: |
  bb.0:
    ; CHECK-LABEL: name: test_fconstant_f32_1
    ; CHECK: [[C:%[0-9]+]]:sgpr(f32) = G_FCONSTANT float 1.000000e+00
    %0:_(f32) = G_FCONSTANT float 1.000000e+00
...
---
name:            test_fconstant_f64_1
legalized:       true
body: |
  bb.0:
    ; CHECK-LABEL: name: test_fconstant_f64_1
    ; CHECK: [[C:%[0-9]+]]:sgpr(f64) = G_FCONSTANT double 1.000000e+00
    %0:_(f64) = G_FCONSTANT double 1.000000e+00
...
---
name:            test_fconstant_f16_1
legalized:       true
body: |
  bb.0:
    ; CHECK-LABEL: name: test_fconstant_f16_1
    ; CHECK: [[C:%[0-9]+]]:sgpr(f16) = G_FCONSTANT half 0xH3C00
    ; CHECK-NEXT: [[BITCAST:%[0-9]+]]:sgpr(i16) = G_BITCAST [[C]](f16)
    ; CHECK-NEXT: [[ANYEXT:%[0-9]+]]:sgpr(i32) = G_ANYEXT [[BITCAST]](i16)
    %0:_(f16) = G_FCONSTANT half 0xH3C00
    %1:_(i16) = G_BITCAST %0(f16)
    %2:_(i32) = G_ANYEXT %1(i16)
...

---
name:            test_implicit_def_s32
legalized:       true
body: |
  bb.0:
    ; CHECK-LABEL: name: test_implicit_def_s32
    ; CHECK: [[DEF:%[0-9]+]]:sgpr(f32) = G_IMPLICIT_DEF
    %0:_(f32) = G_IMPLICIT_DEF
...

---
name:            test_implicit_def_s64
legalized:       true
body: |
  bb.0:
    ; CHECK-LABEL: name: test_implicit_def_s64
    ; CHECK: [[DEF:%[0-9]+]]:sgpr(f64) = G_IMPLICIT_DEF
    %0:_(f64) = G_IMPLICIT_DEF
...
