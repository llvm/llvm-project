# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=amdgcn -mcpu=hawaii -run-pass=instruction-select -verify-machineinstrs %s -o - | FileCheck -check-prefix=GCN %s

---
name:            fconstant_v_s32
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_v_s32
    ; GCN: [[V_MOV_B32_e32_:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 1065353216, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_1:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 1090519040, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_2:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 1065353216, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_3:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 1090519040, implicit $exec
    ; GCN-NEXT: $vgpr0 = COPY [[V_MOV_B32_e32_]]
    ; GCN-NEXT: $vgpr1 = COPY [[V_MOV_B32_e32_1]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[V_MOV_B32_e32_2]], implicit [[V_MOV_B32_e32_3]]
    %0:vgpr(f32) = G_FCONSTANT float 1.000000e+00
    %1:vgpr(f32) = G_FCONSTANT float 8.000000e+00
    %2:vgpr(f32) = G_FCONSTANT float 1.000000e+00
    %3:vgpr(f32) = G_FCONSTANT float 8.000000e+00
    %4:vgpr(i32) = G_BITCAST %0(f32)
    $vgpr0 = COPY %4(i32)
    %5:vgpr(i32) = G_BITCAST %1(f32)
    $vgpr1 = COPY %5(i32)
    %6:vgpr(i32) = G_BITCAST %2(f32)
    %7:vgpr(i32) = G_BITCAST %3(f32)
    S_ENDPGM 0, implicit %6(i32), implicit %7(i32)
...

---
name:            fconstant_s_s32
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_s_s32
    ; GCN: [[S_MOV_B32_:%[0-9]+]]:sreg_32 = S_MOV_B32 1065353216
    ; GCN-NEXT: [[S_MOV_B32_1:%[0-9]+]]:sreg_32 = S_MOV_B32 1090519040
    ; GCN-NEXT: [[S_MOV_B32_2:%[0-9]+]]:sreg_32 = S_MOV_B32 3212836864
    ; GCN-NEXT: [[S_MOV_B32_3:%[0-9]+]]:sreg_32 = S_MOV_B32 3238002688
    ; GCN-NEXT: $sgpr0 = COPY [[S_MOV_B32_]]
    ; GCN-NEXT: $sgpr1 = COPY [[S_MOV_B32_1]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[S_MOV_B32_2]], implicit [[S_MOV_B32_3]]
    %0:sgpr(f32) = G_FCONSTANT float 1.000000e+00
    %1:sgpr(f32) = G_FCONSTANT float 8.000000e+00
    %2:sgpr(f32) = G_FCONSTANT float -1.000000e+00
    %3:sgpr(f32) = G_FCONSTANT float -8.000000e+00
    %4:sgpr(i32) = G_BITCAST %0(f32)
    $sgpr0 = COPY %4(i32)
    %5:sgpr(i32) = G_BITCAST %1(f32)
    $sgpr1 = COPY %5(i32)
    %6:sgpr(i32) = G_BITCAST %2(f32)
    %7:sgpr(i32) = G_BITCAST %3(f32)
    S_ENDPGM 0, implicit %6(i32), implicit %7(i32)

...

---
name:            fconstant_v_s64
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_v_s64
    ; GCN: [[V_MOV_B:%[0-9]+]]:vreg_64 = V_MOV_B64_PSEUDO 4607182418800017408, implicit $exec
    ; GCN-NEXT: [[V_MOV_B1:%[0-9]+]]:vreg_64 = V_MOV_B64_PSEUDO 4620693217682128896, implicit $exec
    ; GCN-NEXT: [[V_MOV_B2:%[0-9]+]]:vreg_64 = V_MOV_B64_PSEUDO -4611686018427387904, implicit $exec
    ; GCN-NEXT: [[V_MOV_B3:%[0-9]+]]:vreg_64 = V_MOV_B64_PSEUDO 4621819117588971520, implicit $exec
    ; GCN-NEXT: $vgpr0_vgpr1 = COPY [[V_MOV_B]]
    ; GCN-NEXT: $vgpr2_vgpr3 = COPY [[V_MOV_B1]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[V_MOV_B2]], implicit [[V_MOV_B3]]
    %0:vgpr(f64) = G_FCONSTANT double 1.000000e+00
    %1:vgpr(f64) = G_FCONSTANT double 8.000000e+00
    %2:vgpr(f64) = G_FCONSTANT double -2.000000e+00
    %3:vgpr(f64) = G_FCONSTANT double 1.000000e+01
    %4:vgpr(i64) = G_BITCAST %0(f64)
    $vgpr0_vgpr1 = COPY %4(i64)
    %5:vgpr(i64) = G_BITCAST %1(f64)
    $vgpr2_vgpr3 = COPY %5(i64)
    %6:vgpr(i64) = G_BITCAST %2(f64)
    %7:vgpr(i64) = G_BITCAST %3(f64)
    S_ENDPGM 0, implicit %6(i64), implicit %7(i64)

...

---
name:            fconstant_s_s64
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_s_s64
    ; GCN: [[S_MOV_B64_:%[0-9]+]]:sreg_64 = S_MOV_B64 4607182418800017408
    ; GCN-NEXT: [[S_MOV_B:%[0-9]+]]:sreg_64 = S_MOV_B64_IMM_PSEUDO 4620693217682128896
    ; GCN-NEXT: [[S_MOV_B64_1:%[0-9]+]]:sreg_64 = S_MOV_B64 -4611686018427387904
    ; GCN-NEXT: [[S_MOV_B1:%[0-9]+]]:sreg_64 = S_MOV_B64_IMM_PSEUDO -4601552919265804288
    ; GCN-NEXT: $sgpr0_sgpr1 = COPY [[S_MOV_B64_]]
    ; GCN-NEXT: $sgpr2_sgpr3 = COPY [[S_MOV_B]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[S_MOV_B64_]], implicit [[S_MOV_B]], implicit [[S_MOV_B64_1]], implicit [[S_MOV_B1]]
    %0:sgpr(f64) = G_FCONSTANT double 1.000000e+00
    %1:sgpr(f64) = G_FCONSTANT double 8.000000e+00
    %2:sgpr(f64) = G_FCONSTANT double -2.000000e+00
    %3:sgpr(f64) = G_FCONSTANT double -1.000000e+01
    %4:sgpr(i64) = G_BITCAST %0(f64)
    $sgpr0_sgpr1 = COPY %4(i64)
    %5:sgpr(i64) = G_BITCAST %1(f64)
    $sgpr2_sgpr3 = COPY %5(i64)
    %6:sgpr(i64) = G_BITCAST %0(f64)
    %7:sgpr(i64) = G_BITCAST %1(f64)
    %8:sgpr(i64) = G_BITCAST %2(f64)
    %9:sgpr(i64) = G_BITCAST %3(f64)
    S_ENDPGM 0, implicit %6(i64), implicit %7(i64), implicit %8(i64), implicit %9(i64)
...

---
name:            fconstant_v_s16
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_v_s16
    ; GCN: [[V_MOV_B32_e32_:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 15360, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_1:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 18432, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_2:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 15360, implicit $exec
    ; GCN-NEXT: [[V_MOV_B32_e32_3:%[0-9]+]]:vgpr_32 = V_MOV_B32_e32 18432, implicit $exec
    ; GCN-NEXT: $vgpr0 = COPY [[V_MOV_B32_e32_]]
    ; GCN-NEXT: $vgpr1 = COPY [[V_MOV_B32_e32_1]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[V_MOV_B32_e32_2]], implicit [[V_MOV_B32_e32_3]]
    %0:vgpr(f16) = G_FCONSTANT half 0xH3C00
    %1:vgpr(f16) = G_FCONSTANT half 0xH4800
    %2:vgpr(i16) = G_BITCAST %0(f16)
    %3:vgpr(i32) = G_ANYEXT %2(i16)
    %4:vgpr(i16) = G_BITCAST %1(f16)
    %5:vgpr(i32) = G_ANYEXT %4(i16)
    %6:vgpr(f16) = G_FCONSTANT half 0xH3C00
    %7:vgpr(f16) = G_FCONSTANT half 0xH4800
    $vgpr0 = COPY %3(i32)
    $vgpr1 = COPY %5(i32)
    %8:vgpr(i16) = G_BITCAST %6(f16)
    %9:vgpr(i16) = G_BITCAST %7(f16)
    S_ENDPGM 0, implicit %8(i16), implicit %9(i16)


...

---
name:            fconstant_s_s16
legalized:       true
regBankSelected: true
tracksRegLiveness: true

body: |
  bb.0:
    ; GCN-LABEL: name: fconstant_s_s16
    ; GCN: [[S_MOV_B32_:%[0-9]+]]:sreg_32 = S_MOV_B32 15360
    ; GCN-NEXT: [[S_MOV_B32_1:%[0-9]+]]:sreg_32 = S_MOV_B32 18432
    ; GCN-NEXT: [[COPY:%[0-9]+]]:vgpr_32 = COPY [[S_MOV_B32_]]
    ; GCN-NEXT: [[COPY1:%[0-9]+]]:vgpr_32 = COPY [[S_MOV_B32_1]]
    ; GCN-NEXT: [[S_MOV_B32_2:%[0-9]+]]:sreg_32 = S_MOV_B32 15360
    ; GCN-NEXT: [[S_MOV_B32_3:%[0-9]+]]:sreg_32 = S_MOV_B32 18432
    ; GCN-NEXT: $sgpr0 = COPY [[COPY]]
    ; GCN-NEXT: $sgpr1 = COPY [[COPY1]]
    ; GCN-NEXT: S_ENDPGM 0, implicit [[S_MOV_B32_2]], implicit [[S_MOV_B32_3]]
    %0:sgpr(f16) = G_FCONSTANT half 0xH3C00
    %1:sgpr(f16) = G_FCONSTANT half 0xH4800
    %2:sgpr(i16) = G_BITCAST %0(f16)
    %3:vgpr(i32) = G_ANYEXT %2(i16)
    %4:sgpr(i16) = G_BITCAST %1(f16)
    %5:vgpr(i32) = G_ANYEXT %4(i16)
    %6:sgpr(f16) = G_FCONSTANT half 0xH3C00
    %7:sgpr(f16) = G_FCONSTANT half 0xH4800
    $sgpr0 = COPY %3(i32)
    $sgpr1 = COPY %5(i32)
    %8:sgpr(i16) = G_BITCAST %6(f16)
    %9:sgpr(i16) = G_BITCAST %7(f16)
    S_ENDPGM 0, implicit %8(i16), implicit %9(i16)


...
