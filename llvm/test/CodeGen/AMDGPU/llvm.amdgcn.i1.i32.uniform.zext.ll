; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -global-isel=0 -mtriple=amdgcn -mcpu=gfx1250 < %s | FileCheck --check-prefix=GCN-OPT %s
; RUN: llc -global-isel=0 -mtriple=amdgcn -mcpu=gfx950 < %s | FileCheck --check-prefix=GCN-OPT %s
; RUN: llc -global-isel=1 -mtriple=amdgcn -mcpu=gfx1250 < %s | FileCheck --check-prefix=GCN-G_SEL %s

declare i32 @llvm.amdgcn.workitem.id.x() #0

define amdgpu_kernel void @zext_i1_to_i32_uniform(ptr addrspace(1) %out, i1 %pred) #0 {
entry:
; GCN-LABEL: zext_i1_to_i32_uniform:
; GCN-OPT:    s_and_b32 s{{.*}}, s{{.*}}, 1
; GCN-G_SEL:  v_mov_b32_e32
; GCN-OPT: s_endpgm
  %tmp2 = zext i1 %pred to i32
  store i32 %tmp2, ptr addrspace(1) %out
  ret void
}

attributes #0 = { nounwind }
