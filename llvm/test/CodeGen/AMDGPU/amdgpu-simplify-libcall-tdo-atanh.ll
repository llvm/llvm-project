; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 6
; RUN: opt -S -mtriple=amdgcn-amd-amdhsa -passes=amdgpu-simplifylib %s | FileCheck %s

define amdgpu_kernel void @test_tdo_scalar_f32_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_scalar_f32_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store float 0.000000e+00, ptr addrspace(1) [[OUT]], align 4
; CHECK-NEXT:    ret void
;
entry:
  %c = call float @_Z5atanhf(float 0.000000e+00)
  store float %c, ptr addrspace(1) %out, align 4
  ret void
}

define amdgpu_kernel void @test_tdo_v2_f32_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_v2_f32_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store <2 x float> <float 0.000000e+00, float -0.000000e+00>, ptr addrspace(1) [[OUT]], align 8
; CHECK-NEXT:    ret void
;
entry:
  %c = call <2 x float> @_Z5atanhDv2_f(<2 x float> <float 0.000000e+00, float -0.000000e+00>)
  store <2 x float> %c, ptr addrspace(1) %out, align 8
  ret void
}

define amdgpu_kernel void @test_tdo_scalar_f16_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_scalar_f16_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store half 0xH0000, ptr addrspace(1) [[OUT]], align 2
; CHECK-NEXT:    ret void
;
entry:
  %c = call half @_Z5atanhDh(half 0.000000e+00)
  store half %c, ptr addrspace(1) %out, align 2
  ret void
}

define amdgpu_kernel void @test_tdo_v2_f16_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_v2_f16_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store <2 x half> <half 0xH0000, half 0xH8000>, ptr addrspace(1) [[OUT]], align 4
; CHECK-NEXT:    ret void
;
entry:
  %c = call <2 x half> @_Z5atanhDv2_Dh(<2 x half> <half 0.000000e+00, half -0.000000e+00>)
  store <2 x half> %c, ptr addrspace(1) %out, align 4
  ret void
}

define amdgpu_kernel void @test_tdo_scalar_f64_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_scalar_f64_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store double 0.000000e+00, ptr addrspace(1) [[OUT]], align 8
; CHECK-NEXT:    ret void
;
entry:
  %c = call double @_Z5atanhd(double 0.000000e+00)
  store double %c, ptr addrspace(1) %out, align 8
  ret void
}

define amdgpu_kernel void @test_tdo_v2_f64_atanh(ptr addrspace(1) %out) {
; CHECK-LABEL: define amdgpu_kernel void @test_tdo_v2_f64_atanh(
; CHECK-SAME: ptr addrspace(1) [[OUT:%.*]]) {
; CHECK-NEXT:  [[ENTRY:.*:]]
; CHECK-NEXT:    store <2 x double> <double 0.000000e+00, double -0.000000e+00>, ptr addrspace(1) [[OUT]], align 16
; CHECK-NEXT:    ret void
;
entry:
  %c = call <2 x double> @_Z5atanhDv2_d(<2 x double> <double 0.000000e+00, double -0.000000e+00>)
  store <2 x double> %c, ptr addrspace(1) %out, align 16
  ret void
}

declare float        @_Z5atanhf(float)
declare <2 x float>  @_Z5atanhDv2_f(<2 x float>)
declare half         @_Z5atanhDh(half)
declare <2 x half>   @_Z5atanhDv2_Dh(<2 x half>)
declare double       @_Z5atanhd(double)
declare <2 x double> @_Z5atanhDv2_d(<2 x double>)
