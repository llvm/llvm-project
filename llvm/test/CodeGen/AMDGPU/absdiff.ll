; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=amdgcn-amd-amdpal -mcpu=gfx900 < %s | FileCheck %s

define amdgpu_ps i32 @absdiff_v1(i32 inreg %arg, i32 inreg %arg2) {
; CHECK-LABEL: absdiff_v1:
; CHECK:       ; %bb.0:
; CHECK-NEXT:    s_absdiff_i32 s0, s0, s1
; CHECK-NEXT:    ; return to shader part epilog
  %diff = sub i32 %arg, %arg2
  %res = call i32 @llvm.abs.i32(i32 %diff, i1 false)
  ret i32 %res
}
