# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py UTC_ARGS: --version 6
# RUN: llc -mtriple=amdgcn -mcpu=gfx1100 -mattr=+real-true16 -start-before=greedy,0 -stop-after=virtregrewriter,2 -o - %s | FileCheck -check-prefix=GFX11 %s

---
name:            v_fmamk_f16
tracksRegLiveness: true
body:             |
  bb.0:
    liveins: $vgpr0, $vgpr1
    ; GFX11-LABEL: name: v_fmamk_f16
    ; GFX11: liveins: $vgpr0, $vgpr1
    ; GFX11-NEXT: {{  $}}
    ; GFX11-NEXT: renamable $vgpr0_lo16 = nofpexcept V_FMAMK_F16_t16 killed $vgpr0_lo16, 1, killed $vgpr1_hi16, implicit $exec, implicit $mode
    ; GFX11-NEXT: S_ENDPGM 0, implicit killed renamable $vgpr0_lo16
    %0:vgpr_32_lo128 = COPY $vgpr0
    %1:vgpr_32_lo128 = COPY $vgpr1
    %2:vgpr_16_lo128 = nofpexcept V_FMAMK_F16_t16 %0.lo16, 1, %1.hi16, implicit $exec, implicit $mode
    S_ENDPGM 0, implicit %2
...

---
name:            v_fmaak_f16
tracksRegLiveness: true
body:             |
  bb.0:
    liveins: $vgpr0, $vgpr1
    ; GFX11-LABEL: name: v_fmaak_f16
    ; GFX11: liveins: $vgpr0, $vgpr1
    ; GFX11-NEXT: {{  $}}
    ; GFX11-NEXT: renamable $vgpr0_lo16 = nofpexcept V_FMAAK_F16_t16 killed $vgpr0_lo16, killed $vgpr1_hi16, 1, implicit $exec, implicit $mode
    ; GFX11-NEXT: S_ENDPGM 0, implicit killed renamable $vgpr0_lo16
    %0:vgpr_32_lo128 = COPY $vgpr0
    %1:vgpr_32_lo128 = COPY $vgpr1
    %2:vgpr_16_lo128 = nofpexcept V_FMAAK_F16_t16 %0.lo16, %1.hi16, 1, implicit $exec, implicit $mode
    S_ENDPGM 0, implicit %2
...
