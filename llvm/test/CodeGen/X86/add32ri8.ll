; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 2
; RUN: llc -mtriple=x86_64-linux -fast-isel -show-mc-encoding < %s | FileCheck %s

; pr22854
define void @foo(ptr %s, i32 %x) {
; CHECK-LABEL: foo:
; CHECK:       # %bb.0:
; CHECK-NEXT:    addl $42, %esi # encoding: [0x83,0xc6,0x2a]
; CHECK-NEXT:    movl %esi, (%rdi) # encoding: [0x89,0x37]
; CHECK-NEXT:    retq # encoding: [0xc3]
  %y = add nsw i32 %x, 42
  store i32 %y, ptr %s, align 4
  ret void
}
