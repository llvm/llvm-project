; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc -fast-isel -mtriple=x86_64-unknown-unknown -relocation-model=pic < %s | FileCheck %s

@g = external dso_local global i32, code_model "large"

define ptr @f() {
; CHECK-LABEL: f:
; CHECK:       # %bb.0:
; CHECK-NEXT:    leaq _GLOBAL_OFFSET_TABLE_(%rip), %rcx
; CHECK-NEXT:    movabsq $g@GOTOFF, %rax
; CHECK-NEXT:    addq %rcx, %rax
; CHECK-NEXT:    retq
  ret ptr @g
}
