; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=i386-unknown-unknown | FileCheck %s

@value1 = external hidden constant i32

define i32 @function(i32 %arg1) {
; CHECK-LABEL: function:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    movl $value1, %eax
; CHECK-NEXT:    xorl {{[0-9]+}}(%esp), %eax
; CHECK-NEXT:    negl %eax
; CHECK-NEXT:    retl
entry:
  %0 = xor i32 %arg1, xor (i32 ptrtoint (i32* @value1 to i32), i32 -1)
  %.neg = add i32 %0, 1
  ret i32 %.neg
}
