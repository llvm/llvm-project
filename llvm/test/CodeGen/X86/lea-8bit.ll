; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple=x86_64-linux -mattr=+ndd | FileCheck %s --check-prefixes=CHECK

define i8 @lea8bit(i8 %in) {
; CHECK-LABEL: lea8bit:
; CHECK:       # %bb.0:
; CHECK-NEXT:    # kill: def $edi killed $edi def $rdi
; CHECK-NEXT:    leaw 1(%rdi,%rdi), %al
; CHECK-NEXT:    retq
  %shl = shl i8 %in, 1
  %or = or disjoint i8 %shl, 1
  ret i8 %or
}
