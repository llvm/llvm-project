; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
; RUN: llc < %s -mtriple=x86_64-unknown-linux-gnu | FileCheck %s

; FIXME: The first instruction should be `movl %edi, %eax`.

define i64 @fn1(i64 %arg, ptr %arg1) {
; CHECK-LABEL: fn1:
; CHECK:       # %bb.0:
; CHECK-NEXT:    movq %rdi, %rax
; CHECK-NEXT:    movb (%rsi), %al
; CHECK-NEXT:    retq
  %i = trunc i64 %arg to i32
  %i4 = load i8, ptr %arg1
  %i5 = zext i8 %i4 to i32
  %i6 = and i32 %i, -256
  %i7 = or i32 %i6, %i5
  %i12 = zext i32 %i7 to i64
  ret i64 %i12
}
