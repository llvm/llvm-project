; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=x86_64-- -combiner-reduce-load-op-store-width=false | FileCheck %s

%struct.bit_fields = type { i32 }

define void @clear_b1(ptr %ptr) {
; CHECK-LABEL: clear_b1:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    andl $-2, (%rdi)
; CHECK-NEXT:    retq
entry:
  %bf.load = load i32, ptr %ptr
  %bf.clear = and i32 %bf.load, -2
  store i32 %bf.clear, ptr %ptr
  ret void
}

define void @clear16(ptr %ptr) {
; CHECK-LABEL: clear16:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    andw $-2, (%rdi)
; CHECK-NEXT:    retq
entry:
  %bf.load = load i16, ptr %ptr
  %bf.clear = and i16 %bf.load, -2
  store i16 %bf.clear, ptr %ptr
  ret void
}
