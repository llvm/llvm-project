; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=i686-pc-windows-gnu -verify-machineinstrs | FileCheck %s

; Ensure i64 !range data is stripped when converting to f64 load/store.
define void @test(ptr %p, ptr %p2) #0 {
; CHECK-LABEL: test:
; CHECK:       # %bb.0:
; CHECK-NEXT:    movl {{[0-9]+}}(%esp), %ecx
; CHECK-NEXT:    movl {{[0-9]+}}(%esp), %eax
; CHECK-NEXT:    movsd {{.*#+}} xmm0 = mem[0],zero
; CHECK-NEXT:    movsd %xmm0, (%eax)
; CHECK-NEXT:    retl
  %val = load i64, ptr %p, align 8, !range !0
  store i64 %val, ptr %p2, align 8
  ret void
}

attributes #0 = { "target-cpu"="pentium4" }
!0 = !{i64 1, i64 0}
