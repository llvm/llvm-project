; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --filter "^\t(mov|call|#)" --version 4
; RUN: llc -mtriple=x86_64-unknown-linux-gnu -O2 < %s | FileCheck --check-prefix=O2 %s
; RUN: llc -mtriple=x86_64-unknown-linux-gnu -O0 < %s | FileCheck --check-prefix=O0 %s

; The non-fast register allocators should use registers when there isn't
; register pressure.

define dso_local i32 @test1(ptr noundef readonly captures(none) %foo) local_unnamed_addr {
; O2-LABEL: test1:
; O2:    movl (%rdi), %eax
; O2:    movl 4(%rdi), %ecx
; O2:    movl 8(%rdi), %edx
; O2:    movl 12(%rdi), %esi
; O2:    movl 16(%rdi), %r8d
; O2:    #APP
; O2:    # rm input: no pressure
; O2:    # %eax %ecx %edx %esi %r8d
; O2:    #NO_APP
; O2:    movl (%rdi), %eax
;
; O0-LABEL: test1:
; O0:    movl (%rdi), %r8d
; O0:    movl 4(%rdi), %esi
; O0:    movl 8(%rdi), %edx
; O0:    movl 12(%rdi), %ecx
; O0:    movl 16(%rdi), %eax
; O0:    movl %r8d, -{{[0-9]+}}(%rsp)
; O0:    movl %esi, -{{[0-9]+}}(%rsp)
; O0:    movl %edx, -{{[0-9]+}}(%rsp)
; O0:    movl %ecx, -{{[0-9]+}}(%rsp)
; O0:    movl %eax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    #APP
; O0:    # rm input: no pressure
; O0:    # -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl (%rdi), %eax
entry:
  %0 = load i32, ptr %foo, align 4
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %1 = load i32, ptr %b, align 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %2 = load i32, ptr %c, align 4
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %3 = load i32, ptr %d, align 4
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %4 = load i32, ptr %e, align 4
  tail call void asm sideeffect "# rm input: no pressure\0A\09# $0 $1 $2 $3 $4", "rm,rm,rm,rm,rm,~{dirflag},~{fpsr},~{flags}"(i32 %0, i32 %1, i32 %2, i32 %3, i32 %4)
  %5 = load i32, ptr %foo, align 4
  ret i32 %5
}

define dso_local i32 @test2(ptr noundef readonly captures(none) %foo) local_unnamed_addr {
; O2-LABEL: test2:
; O2:    movq %rdi, (%rsp) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, %rbp
; O2:    movq (%rsp), %rbx # 8-byte Reload
; O2:    movl (%rbx), %esi
; O2:    movl 4(%rbx), %edi
; O2:    movl 8(%rbx), %r8d
; O2:    movl 12(%rbx), %r9d
; O2:    movl 16(%rbx), %eax
; O2:    #APP
; O2:    # rm input: pressure
; O2:    # %esi %edi %r8d %r9d %eax
; O2:    #NO_APP
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O2:    callq g@PLT
; O2:    movl (%rbx), %eax
;
; O0-LABEL: test2:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rsi, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq %rdi, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl (%rax), %eax
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl 4(%rax), %eax
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl 8(%rax), %eax
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl 12(%rax), %eax
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl 16(%rax), %eax
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    #APP
; O0:    # rm input: pressure
; O0:    # {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %1 = load i32, ptr %foo, align 4
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %2 = load i32, ptr %b, align 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %3 = load i32, ptr %c, align 4
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %4 = load i32, ptr %d, align 4
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %5 = load i32, ptr %e, align 4
  tail call void asm sideeffect "# rm input: pressure\0A\09# $0 $1 $2 $3 $4", "rm,rm,rm,rm,rm,~{dirflag},~{fpsr},~{flags}"(i32 %1, i32 %2, i32 %3, i32 %4, i32 %5)
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %6 = load i32, ptr %foo, align 4
  ret i32 %6
}

define dso_local i32 @test3(ptr noundef writeonly captures(none) initializes((0, 20)) %foo) local_unnamed_addr {
; O2-LABEL: test3:
; O2:    #APP
; O2:    # rm output: no pressure
; O2:    # %eax %ecx %edx %esi %r8d
; O2:    #NO_APP
; O2:    movl %eax, (%rdi)
; O2:    movl %ecx, 4(%rdi)
; O2:    movl %edx, 8(%rdi)
; O2:    movl %esi, 12(%rdi)
; O2:    movl %r8d, 16(%rdi)
;
; O0-LABEL: test3:
; O0:    #APP
; O0:    # rm output: no pressure
; O0:    # -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl -{{[0-9]+}}(%rsp), %eax
; O0:    movl -{{[0-9]+}}(%rsp), %r8d
; O0:    movl -{{[0-9]+}}(%rsp), %esi
; O0:    movl -{{[0-9]+}}(%rsp), %edx
; O0:    movl -{{[0-9]+}}(%rsp), %ecx
; O0:    movl %eax, (%rdi)
; O0:    movl %r8d, 4(%rdi)
; O0:    movl %esi, 8(%rdi)
; O0:    movl %edx, 12(%rdi)
; O0:    movl %ecx, 16(%rdi)
entry:
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %0 = tail call { i32, i32, i32, i32, i32 } asm sideeffect "# rm output: no pressure\0A\09# $0 $1 $2 $3 $4", "=rm,=rm,=rm,=rm,=rm,~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i32, i32, i32, i32, i32 } %0, 0
  %asmresult1 = extractvalue { i32, i32, i32, i32, i32 } %0, 1
  %asmresult2 = extractvalue { i32, i32, i32, i32, i32 } %0, 2
  %asmresult3 = extractvalue { i32, i32, i32, i32, i32 } %0, 3
  %asmresult4 = extractvalue { i32, i32, i32, i32, i32 } %0, 4
  store i32 %asmresult, ptr %foo, align 4
  store i32 %asmresult1, ptr %b, align 4
  store i32 %asmresult2, ptr %c, align 4
  store i32 %asmresult3, ptr %d, align 4
  store i32 %asmresult4, ptr %e, align 4
  ret i32 %asmresult
}

define dso_local i32 @test4(ptr noundef writeonly captures(none) initializes((0, 20)) %foo) local_unnamed_addr {
; O2-LABEL: test4:
; O2:    movq %rdi, (%rsp) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, %rbp
; O2:    #APP
; O2:    # rm output: pressure
; O2:    # %esi %edi %r8d %r9d %eax
; O2:    #NO_APP
; O2:    movq (%rsp), %rbx # 8-byte Reload
; O2:    movl %esi, (%rbx)
; O2:    movl %edi, 4(%rbx)
; O2:    movl %r8d, 8(%rbx)
; O2:    movl %r9d, 12(%rbx)
; O2:    movl %eax, 16(%rbx)
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O2:    callq g@PLT
; O2:    movl (%rbx), %eax
;
; O0-LABEL: test4:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rsi, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq %rdi, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    # rm output: pressure
; O0:    # {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl {{[0-9]+}}(%rsp), %eax
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl %eax, (%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 4(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 8(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 12(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 16(%rdi)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %1 = tail call { i32, i32, i32, i32, i32 } asm sideeffect "# rm output: pressure\0A\09# $0 $1 $2 $3 $4", "=rm,=rm,=rm,=rm,=rm,~{dirflag},~{fpsr},~{flags}"()
  %asmresult15 = extractvalue { i32, i32, i32, i32, i32 } %1, 0
  %asmresult16 = extractvalue { i32, i32, i32, i32, i32 } %1, 1
  %asmresult17 = extractvalue { i32, i32, i32, i32, i32 } %1, 2
  %asmresult18 = extractvalue { i32, i32, i32, i32, i32 } %1, 3
  %asmresult19 = extractvalue { i32, i32, i32, i32, i32 } %1, 4
  store i32 %asmresult15, ptr %foo, align 4
  store i32 %asmresult16, ptr %b, align 4
  store i32 %asmresult17, ptr %c, align 4
  store i32 %asmresult18, ptr %d, align 4
  store i32 %asmresult19, ptr %e, align 4
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %2 = load i32, ptr %foo, align 4
  ret i32 %2
}

define dso_local i32 @test5(ptr noundef captures(none) %foo) local_unnamed_addr {
; O2-LABEL: test5:
; O2:    movl (%rdi), %eax
; O2:    movl 4(%rdi), %ecx
; O2:    movl 8(%rdi), %edx
; O2:    movl 12(%rdi), %esi
; O2:    movl 16(%rdi), %r8d
; O2:    #APP
; O2:    # rm tied output: no pressure
; O2:    # %eax %ecx %edx %esi %r8d
; O2:    #NO_APP
; O2:    movl %eax, (%rdi)
; O2:    movl %ecx, 4(%rdi)
; O2:    movl %edx, 8(%rdi)
; O2:    movl %esi, 12(%rdi)
; O2:    movl %r8d, 16(%rdi)
;
; O0-LABEL: test5:
; O0:    movl (%rdi), %r8d
; O0:    movl 4(%rdi), %esi
; O0:    movl 8(%rdi), %edx
; O0:    movl 12(%rdi), %ecx
; O0:    movl 16(%rdi), %eax
; O0:    movl %r8d, -{{[0-9]+}}(%rsp)
; O0:    movl %esi, -{{[0-9]+}}(%rsp)
; O0:    movl %edx, -{{[0-9]+}}(%rsp)
; O0:    movl %ecx, -{{[0-9]+}}(%rsp)
; O0:    movl %eax, -{{[0-9]+}}(%rsp)
; O0:    #APP
; O0:    # rm tied output: no pressure
; O0:    # %eax %ecx %edx %esi %r8d
; O0:    #NO_APP
; O0:    movl %r8d, -{{[0-9]+}}(%rsp)
; O0:    movl %esi, -{{[0-9]+}}(%rsp)
; O0:    movl %edx, -{{[0-9]+}}(%rsp)
; O0:    movl %ecx, -{{[0-9]+}}(%rsp)
; O0:    movl %eax, -{{[0-9]+}}(%rsp)
; O0:    movl -{{[0-9]+}}(%rsp), %eax
; O0:    movl -{{[0-9]+}}(%rsp), %r8d
; O0:    movl -{{[0-9]+}}(%rsp), %esi
; O0:    movl -{{[0-9]+}}(%rsp), %edx
; O0:    movl -{{[0-9]+}}(%rsp), %ecx
; O0:    movl %eax, (%rdi)
; O0:    movl %r8d, 4(%rdi)
; O0:    movl %esi, 8(%rdi)
; O0:    movl %edx, 12(%rdi)
; O0:    movl %ecx, 16(%rdi)
entry:
  %0 = load i32, ptr %foo, align 4
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %1 = load i32, ptr %b, align 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %2 = load i32, ptr %c, align 4
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %3 = load i32, ptr %d, align 4
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %4 = load i32, ptr %e, align 4
  %5 = tail call { i32, i32, i32, i32, i32 } asm sideeffect "# rm tied output: no pressure\0A\09# $0 $1 $2 $3 $4", "=rm,=rm,=rm,=rm,=rm,0,1,2,3,4,~{dirflag},~{fpsr},~{flags}"(i32 %0, i32 %1, i32 %2, i32 %3, i32 %4)
  %asmresult = extractvalue { i32, i32, i32, i32, i32 } %5, 0
  %asmresult1 = extractvalue { i32, i32, i32, i32, i32 } %5, 1
  %asmresult2 = extractvalue { i32, i32, i32, i32, i32 } %5, 2
  %asmresult3 = extractvalue { i32, i32, i32, i32, i32 } %5, 3
  %asmresult4 = extractvalue { i32, i32, i32, i32, i32 } %5, 4
  store i32 %asmresult, ptr %foo, align 4
  store i32 %asmresult1, ptr %b, align 4
  store i32 %asmresult2, ptr %c, align 4
  store i32 %asmresult3, ptr %d, align 4
  store i32 %asmresult4, ptr %e, align 4
  ret i32 %asmresult
}

define dso_local i32 @test6(ptr noundef captures(none) %foo) local_unnamed_addr {
; O2-LABEL: test6:
; O2:    movq %rdi, (%rsp) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, %rbp
; O2:    movq (%rsp), %rbx # 8-byte Reload
; O2:    movl (%rbx), %esi
; O2:    movl 4(%rbx), %edi
; O2:    movl 8(%rbx), %r8d
; O2:    movl 12(%rbx), %r9d
; O2:    movl 16(%rbx), %eax
; O2:    #APP
; O2:    # rm tied output: pressure
; O2:    # %esi %edi %r8d %r9d %eax
; O2:    #NO_APP
; O2:    movl %esi, (%rbx)
; O2:    movl %edi, 4(%rbx)
; O2:    movl %r8d, 8(%rbx)
; O2:    movl %r9d, 12(%rbx)
; O2:    movl %eax, 16(%rbx)
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O2:    callq g@PLT
; O2:    movl (%rbx), %eax
;
; O0-LABEL: test6:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdi, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movl (%rax), %edi
; O0:    movl 4(%rax), %esi
; O0:    movl 8(%rax), %edx
; O0:    movl 12(%rax), %ecx
; O0:    movl 16(%rax), %eax
; O0:    movl %edi, {{[0-9]+}}(%rsp)
; O0:    movl %esi, {{[0-9]+}}(%rsp)
; O0:    movl %edx, {{[0-9]+}}(%rsp)
; O0:    movl %ecx, {{[0-9]+}}(%rsp)
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl %ecx, %edi
; O0:    #APP
; O0:    # rm tied output: pressure
; O0:    # %eax %edi %ecx %edx %esi
; O0:    #NO_APP
; O0:    movl %esi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movl %edx, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdx # 8-byte Reload
; O0:    movl %ecx, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O0:    movl %eax, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %edi, {{[0-9]+}}(%rsp)
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movl {{[0-9]+}}(%rsp), %eax
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movl {{[0-9]+}}(%rsp), %edi
; O0:    movl %edi, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl %eax, (%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 4(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 8(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 12(%rdi)
; O0:    movl {{[-0-9]+}}(%r{{[sb]}}p), %eax # 4-byte Reload
; O0:    movl %eax, 16(%rdi)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %1 = load i32, ptr %foo, align 4
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %2 = load i32, ptr %b, align 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %3 = load i32, ptr %c, align 4
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %4 = load i32, ptr %d, align 4
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %5 = load i32, ptr %e, align 4
  %6 = tail call { i32, i32, i32, i32, i32 } asm sideeffect "# rm tied output: pressure\0A\09# $0 $1 $2 $3 $4", "=rm,=rm,=rm,=rm,=rm,0,1,2,3,4,~{dirflag},~{fpsr},~{flags}"(i32 %1, i32 %2, i32 %3, i32 %4, i32 %5)
  %asmresult15 = extractvalue { i32, i32, i32, i32, i32 } %6, 0
  %asmresult16 = extractvalue { i32, i32, i32, i32, i32 } %6, 1
  %asmresult17 = extractvalue { i32, i32, i32, i32, i32 } %6, 2
  %asmresult18 = extractvalue { i32, i32, i32, i32, i32 } %6, 3
  %asmresult19 = extractvalue { i32, i32, i32, i32, i32 } %6, 4
  store i32 %asmresult15, ptr %foo, align 4
  store i32 %asmresult16, ptr %b, align 4
  store i32 %asmresult17, ptr %c, align 4
  store i32 %asmresult18, ptr %d, align 4
  store i32 %asmresult19, ptr %e, align 4
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %7 = load i32, ptr %foo, align 4
  ret i32 %7
}

define dso_local i32 @test7(ptr noundef captures(none) initializes((0, 4)) %foo) local_unnamed_addr {
; O2-LABEL: test7:
; O2:    movl 4(%rdi), %eax
; O2:    #APP
; O2:    # rm output, r input: no pressure
; O2:    # %eax %eax
; O2:    #NO_APP
; O2:    movl %eax, (%rdi)
;
; O0-LABEL: test7:
; O0:    movl 4(%rdi), %eax
; O0:    #APP
; O0:    # rm output, r input: no pressure
; O0:    # -{{[0-9]+}}(%rsp) %eax
; O0:    #NO_APP
; O0:    movl -{{[0-9]+}}(%rsp), %eax
; O0:    movl %eax, (%rdi)
entry:
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %0 = load i32, ptr %b, align 4
  %1 = tail call i32 asm sideeffect "# rm output, r input: no pressure\0A\09# $0 $1", "=rm,r,~{dirflag},~{fpsr},~{flags}"(i32 %0)
  store i32 %1, ptr %foo, align 4
  ret i32 %1
}

define dso_local i32 @test8(ptr noundef captures(none) initializes((0, 4)) %foo) local_unnamed_addr {
; O2-LABEL: test8:
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rbp # 8-byte Reload
; O2:    movl 4(%rbp), %esi
; O2:    #APP
; O2:    # rm output, r input: pressure
; O2:    # %esi %esi
; O2:    #NO_APP
; O2:    movl %esi, (%rbp)
; O2:    movq %rax, %rdi
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq %rbx, %r9
; O2:    callq g@PLT
; O2:    movl (%rbp), %eax
;
; O0-LABEL: test8:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rsi, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rdi
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movl 4(%rdi), %eax
; O0:    #APP
; O0:    # rm output, r input: pressure
; O0:    # {{[0-9]+}}(%rsp) %eax
; O0:    #NO_APP
; O0:    movl {{[0-9]+}}(%rsp), %eax
; O0:    movl %eax, (%rdi)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %1 = load i32, ptr %b, align 4
  %2 = tail call i32 asm sideeffect "# rm output, r input: pressure\0A\09# $0 $1", "=rm,r,~{dirflag},~{fpsr},~{flags}"(i32 %1)
  store i32 %2, ptr %foo, align 4
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %3 = load i32, ptr %foo, align 4
  ret i32 %3
}

define dso_local i32 @test9(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test9:
; O2:    movl 4(%rdi), %eax
; O2:    #APP
; O2:    # m output, rm input: no pressure
; O2:    # (%rdi) %eax
; O2:    #NO_APP
; O2:    movl (%rdi), %eax
;
; O0-LABEL: test9:
; O0:    movl 4(%rdi), %eax
; O0:    movl %eax, -{{[0-9]+}}(%rsp)
; O0:    movq %rax, -{{[0-9]+}}(%rsp)
; O0:    #APP
; O0:    # m output, rm input: no pressure
; O0:    # (%rdi) -{{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl (%rdi), %eax
entry:
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %0 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# m output, rm input: no pressure\0A\09# $0 $1", "=*m,rm,~{dirflag},~{fpsr},~{flags}"(ptr elementtype(i32) %foo, i32 %0)
  %1 = load i32, ptr %foo, align 4
  ret i32 %1
}

define dso_local i32 @test10(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test10:
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rbp # 8-byte Reload
; O2:    movl 4(%rbp), %esi
; O2:    #APP
; O2:    # m output, rm input: pressure
; O2:    # (%rbp) %esi
; O2:    #NO_APP
; O2:    movq %rax, %rdi
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq %rbx, %r9
; O2:    callq g@PLT
; O2:    movl (%rbp), %eax
;
; O0-LABEL: test10:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rsi, %rcx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq %rdi, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rax
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl 4(%rdi), %edi
; O0:    movl %edi, {{[0-9]+}}(%rsp)
; O0:    movq %rdi, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    #APP
; O0:    # m output, rm input: pressure
; O0:    # (%rdi) {{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %1 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# m output, rm input: pressure\0A\09# $0 $1", "=*m,rm,~{dirflag},~{fpsr},~{flags}"(ptr elementtype(i32) %foo, i32 %1)
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %2 = load i32, ptr %foo, align 4
  ret i32 %2
}

define dso_local i32 @test11(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test11:
; O2:    movl (%rdi), %eax
; O2:    movl 4(%rdi), %ecx
; O2:    #APP
; O2:    # multiple m output, rm input: no pressure
; O2:    # (%rdi) 4(%rdi) 8(%rdi) 12(%rdi) 16(%rdi) %eax %ecx
; O2:    #NO_APP
; O2:    movl (%rdi), %eax
;
; O0-LABEL: test11:
; O0:    movq %rdi, %rax
; O0:    movq %rdi, %rcx
; O0:    movq %rdi, %rdx
; O0:    movq %rdi, %rsi
; O0:    movl (%rdi), %r9d
; O0:    movl 4(%rdi), %r8d
; O0:    movl %r9d, -{{[0-9]+}}(%rsp)
; O0:    movl %r8d, -{{[0-9]+}}(%rsp)
; O0:    movq %r8, -{{[0-9]+}}(%rsp)
; O0:    movq %r8, -{{[0-9]+}}(%rsp)
; O0:    #APP
; O0:    # multiple m output, rm input: no pressure
; O0:    # (%rdi) (%rax) (%rcx) (%rdx) (%rsi) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl (%rdi), %eax
entry:
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %0 = load i32, ptr %foo, align 4
  %1 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# multiple m output, rm input: no pressure\0A\09# $0 $1 $2 $3 $4 $5 $6", "=*m,=*m,=*m,=*m,=*m,rm,rm,~{dirflag},~{fpsr},~{flags}"(ptr nonnull elementtype(i32) %foo, ptr nonnull elementtype(i32) %b, ptr nonnull elementtype(i32) %c, ptr nonnull elementtype(i32) %d, ptr nonnull elementtype(i32) %e, i32 %0, i32 %1)
  %2 = load i32, ptr %foo, align 4
  ret i32 %2
}

define dso_local i32 @test12(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test12:
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rbp # 8-byte Reload
; O2:    movl (%rbp), %esi
; O2:    movl 4(%rbp), %edi
; O2:    #APP
; O2:    # multiple m output, rm input: pressure
; O2:    # (%rbp) 4(%rbp) 8(%rbp) 12(%rbp) 16(%rbp) %esi %edi
; O2:    #NO_APP
; O2:    movq %rax, %rdi
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq %rbx, %r9
; O2:    callq g@PLT
; O2:    movl (%rbp), %eax
;
; O0-LABEL: test12:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rdi
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdi, %rax
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdi, %rcx
; O0:    movq %rdi, %rdx
; O0:    movq %rdi, %rsi
; O0:    movl (%rdi), %eax
; O0:    movl 4(%rdi), %edi
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl %edi, {{[0-9]+}}(%rsp)
; O0:    movq %rdi, {{[0-9]+}}(%rsp)
; O0:    movq %rdi, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    #APP
; O0:    # multiple m output, rm input: pressure
; O0:    # (%rdi) (%rax) (%rcx) (%rdx) (%rsi) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdx # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %1 = load i32, ptr %foo, align 4
  %2 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# multiple m output, rm input: pressure\0A\09# $0 $1 $2 $3 $4 $5 $6", "=*m,=*m,=*m,=*m,=*m,rm,rm,~{dirflag},~{fpsr},~{flags}"(ptr nonnull elementtype(i32) %foo, ptr nonnull elementtype(i32) %b, ptr nonnull elementtype(i32) %c, ptr nonnull elementtype(i32) %d, ptr nonnull elementtype(i32) %e, i32 %1, i32 %2)
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %3 = load i32, ptr %foo, align 4
  ret i32 %3
}

define dso_local i32 @test13(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test13:
; O2:    movl (%rdi), %ecx
; O2:    movl 4(%rdi), %edx
; O2:    #APP
; O2:    # multiple m output, rm input: no pressure
; O2:    # %eax %esi %r8d %r9d %r10d %ecx %edx
; O2:    #NO_APP
; O2:    movl %eax, (%rdi)
; O2:    movl %esi, 4(%rdi)
; O2:    movl %r8d, 8(%rdi)
; O2:    movl %r9d, 12(%rdi)
; O2:    movl %r10d, 16(%rdi)
;
; O0-LABEL: test13:
; O0:    movq %rdi, %rax
; O0:    movq %rdi, %rcx
; O0:    movq %rdi, %rdx
; O0:    movq %rdi, %rsi
; O0:    movl (%rdi), %r9d
; O0:    movl 4(%rdi), %r8d
; O0:    movl %r9d, -{{[0-9]+}}(%rsp)
; O0:    movl %r8d, -{{[0-9]+}}(%rsp)
; O0:    movq %r8, -{{[0-9]+}}(%rsp)
; O0:    movq %r8, -{{[0-9]+}}(%rsp)
; O0:    #APP
; O0:    # multiple m output, rm input: no pressure
; O0:    # (%rdi) (%rax) (%rcx) (%rdx) (%rsi) -{{[0-9]+}}(%rsp) -{{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movl (%rdi), %eax
entry:
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %0 = load i32, ptr %foo, align 4
  %1 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# multiple m output, rm input: no pressure\0A\09# $0 $1 $2 $3 $4 $5 $6", "=*&rm,=*&rm,=*&rm,=*&rm,=*&rm,rm,rm,~{dirflag},~{fpsr},~{flags}"(ptr nonnull elementtype(i32) %foo, ptr nonnull elementtype(i32) %b, ptr nonnull elementtype(i32) %c, ptr nonnull elementtype(i32) %d, ptr nonnull elementtype(i32) %e, i32 %0, i32 %1)
  %2 = load i32, ptr %foo, align 4
  ret i32 %2
}

define dso_local i32 @test14(ptr noundef %foo) local_unnamed_addr {
; O2-LABEL: test14:
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    #APP
; O2:    movq $0, %rax
; O2:    movq $1, %rcx
; O2:    movq $2, %rdx
; O2:    movq $3, %rsi
; O2:    movq $4, %rdi
; O2:    movq $5, %rbx
; O2:    movq $6, %rbp
; O2:    movq $7, %r8
; O2:    movq $8, %r9
; O2:    movq $9, %r10
; O2:    movq $10, %r11
; O2:    movq $11, %r12
; O2:    movq $12, %r13
; O2:    movq $13, %r14
; O2:    movq $14, %r15
; O2:    #NO_APP
; O2:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %rbp, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r8, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq %r9, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rbp # 8-byte Reload
; O2:    movl (%rbp), %esi
; O2:    movl 4(%rbp), %edi
; O2:    #APP
; O2:    # multiple m output, rm input: pressure
; O2:    # (%rbp) 4(%rbp) 8(%rbp) 12(%rbp) 16(%rbp) %esi %edi
; O2:    #NO_APP
; O2:    movq %rax, %rdi
; O2:    movq %rcx, %rsi
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O2:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O2:    movq %rbx, %r9
; O2:    callq g@PLT
; O2:    movl (%rbp), %eax
;
; O0-LABEL: test14:
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    #APP
; O0:    movq $0, %rax
; O0:    movq $1, %rcx
; O0:    movq $2, %rdx
; O0:    movq $3, %rsi
; O0:    movq $4, %rdi
; O0:    movq $5, %rbx
; O0:    movq $6, %rbp
; O0:    movq $7, %r8
; O0:    movq $8, %r9
; O0:    movq $9, %r10
; O0:    movq $10, %r11
; O0:    movq $11, %r12
; O0:    movq $12, %r13
; O0:    movq $13, %r14
; O0:    movq $14, %r15
; O0:    #NO_APP
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rbx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %r8, %rbx
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r8 # 8-byte Reload
; O0:    movq %r9, %rdi
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %r9 # 8-byte Reload
; O0:    movq %rdi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rsi, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rcx, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdi, %rax
; O0:    movq %rax, {{[-0-9]+}}(%r{{[sb]}}p) # 8-byte Spill
; O0:    movq %rdi, %rcx
; O0:    movq %rdi, %rdx
; O0:    movq %rdi, %rsi
; O0:    movl (%rdi), %eax
; O0:    movl 4(%rdi), %edi
; O0:    movl %eax, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movl %edi, {{[0-9]+}}(%rsp)
; O0:    movq %rdi, {{[0-9]+}}(%rsp)
; O0:    movq %rdi, {{[0-9]+}}(%rsp)
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    #APP
; O0:    # multiple m output, rm input: pressure
; O0:    # (%rdi) (%rax) (%rcx) (%rdx) (%rsi) {{[0-9]+}}(%rsp) {{[0-9]+}}(%rsp)
; O0:    #NO_APP
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rsi # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdx # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rcx # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rax # 8-byte Reload
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movq %rbp, (%rsp)
; O0:    movq %rbx, {{[0-9]+}}(%rsp)
; O0:    movq %rax, {{[0-9]+}}(%rsp)
; O0:    movq %r10, {{[0-9]+}}(%rsp)
; O0:    movq %r11, {{[0-9]+}}(%rsp)
; O0:    movq %r12, {{[0-9]+}}(%rsp)
; O0:    movq %r13, {{[0-9]+}}(%rsp)
; O0:    movq %r14, {{[0-9]+}}(%rsp)
; O0:    movq %r15, {{[0-9]+}}(%rsp)
; O0:    callq g@PLT
; O0:    movq {{[-0-9]+}}(%r{{[sb]}}p), %rdi # 8-byte Reload
; O0:    movl (%rdi), %eax
entry:
  %0 = tail call { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } asm sideeffect "mov $$0, $0\0A\09mov $$1, $1\0A\09mov $$2, $2\0A\09mov $$3, $3\0A\09mov $$4, $4\0A\09mov $$5, $5\0A\09mov $$6, $6\0A\09mov $$7, $7\0A\09mov $$8, $8\0A\09mov $$9, $9\0A\09mov $$10, $10\0A\09mov $$11, $11\0A\09mov $$12, $12\0A\09mov $$13, $13\0A\09mov $$14, $14", "={rax},={rcx},={rdx},={rsi},={rdi},={rbx},={rbp},={r8},={r9},={r10},={r11},={r12},={r13},={r14},={r15},~{dirflag},~{fpsr},~{flags}"()
  %asmresult = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 0
  %asmresult1 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 1
  %asmresult2 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 2
  %asmresult3 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 3
  %asmresult4 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 4
  %asmresult5 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 5
  %asmresult6 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 6
  %asmresult7 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 7
  %asmresult8 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 8
  %asmresult9 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 9
  %asmresult10 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 10
  %asmresult11 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 11
  %asmresult12 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 12
  %asmresult13 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 13
  %asmresult14 = extractvalue { i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64, i64 } %0, 14
  %b = getelementptr inbounds nuw i8, ptr %foo, i64 4
  %c = getelementptr inbounds nuw i8, ptr %foo, i64 8
  %d = getelementptr inbounds nuw i8, ptr %foo, i64 12
  %e = getelementptr inbounds nuw i8, ptr %foo, i64 16
  %1 = load i32, ptr %foo, align 4
  %2 = load i32, ptr %b, align 4
  tail call void asm sideeffect "# multiple m output, rm input: pressure\0A\09# $0 $1 $2 $3 $4 $5 $6", "=*m,=*m,=*m,=*m,=*m,rm,rm,~{dirflag},~{fpsr},~{flags}"(ptr nonnull elementtype(i32) %foo, ptr nonnull elementtype(i32) %b, ptr nonnull elementtype(i32) %c, ptr nonnull elementtype(i32) %d, ptr nonnull elementtype(i32) %e, i32 %1, i32 %2)
  tail call void @g(i64 noundef %asmresult, i64 noundef %asmresult1, i64 noundef %asmresult2, i64 noundef %asmresult3, i64 noundef %asmresult4, i64 noundef %asmresult5, i64 noundef %asmresult6, i64 noundef %asmresult7, i64 noundef %asmresult8, i64 noundef %asmresult9, i64 noundef %asmresult10, i64 noundef %asmresult11, i64 noundef %asmresult12, i64 noundef %asmresult13, i64 noundef %asmresult14)
  %3 = load i32, ptr %foo, align 4
  ret i32 %3
}

declare void @g(i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef, i64 noundef)
