; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
; RUN: llc -mtriple=x86_64-unknown-linux-gnu < %s | FileCheck %s

; PR173841
define i32 @test_constant_fits_into_64_bits() {
; CHECK-LABEL: test_constant_fits_into_64_bits:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    #APP
; CHECK-NEXT:    movabsq $-6066929602142479174, %rax # imm = 0xABCDEFABBAFEDCBA
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    xorl %eax, %eax
; CHECK-NEXT:    retq
entry:
  tail call void asm sideeffect "movq $0, %rax", "imr,~{dirflag},~{fpsr},~{flags}"(i128 12379814471567072442)
  ret i32 0
}

; PR173841
define i32 @test_negative_constant_fits_into_64_bits() {
; CHECK-LABEL: test_negative_constant_fits_into_64_bits:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    #APP
; CHECK-NEXT:    movq $-1234, %rax # imm = 0xFB2E
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    xorl %eax, %eax
; CHECK-NEXT:    retq
entry:
  tail call void asm sideeffect "movq $0, %rax", "i,~{dirflag},~{fpsr},~{flags}"(i128 -1234)
  ret i32 0
}

; PR173841
define i32 @test_max_64_bit_unsigned_int() {
; CHECK-LABEL: test_max_64_bit_unsigned_int:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    #APP
; CHECK-NEXT:    movq $-1, %rax
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    xorl %eax, %eax
; CHECK-NEXT:    retq
entry:
  tail call void asm sideeffect "movq $0, %rax", "i,~{dirflag},~{fpsr},~{flags}"(i128 18446744073709551615)
  ret i32 0
}

; PR173841
define i32 @test_min_64_bit_signed_int() {
; CHECK-LABEL: test_min_64_bit_signed_int:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    #APP
; CHECK-NEXT:    movabsq $-9223372036854775808, %rax # imm = 0x8000000000000000
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    xorl %eax, %eax
; CHECK-NEXT:    retq
entry:
  tail call void asm sideeffect "movq $0, %rax", "i,~{dirflag},~{fpsr},~{flags}"(i128 -9223372036854775808)
  ret i32 0
}
