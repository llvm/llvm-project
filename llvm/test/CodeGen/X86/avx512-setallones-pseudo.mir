# NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
# RUN: llc %s -mtriple=x86_64-- -start-before=postrapseudos -o - | FileCheck %s

--- |
  target triple = "x86_64-unknown-unknown"

  define void @setallones() #0 {
  ; CHECK-LABEL: setallones:
  ; CHECK:       # %bb.0:
  ; CHECK-NEXT:    vpcmpeqd %xmm14, %xmm14, %xmm14
  ; CHECK-NEXT:    vpternlogd {{.*#+}} xmm16 = -1
  ; CHECK-NEXT:    vpcmpeqd %ymm15, %ymm15, %ymm15
  ; CHECK-NEXT:    vpternlogd {{.*#+}} ymm17 = -1
  entry:
  unreachable
  }

  attributes #0 = { "target-features"="+avx512f,+avx512vl" }
---
name:            setallones
tracksRegLiveness: true
liveins: []
body:             |
  bb.0:
    $xmm14 = AVX512_128_SETALLONES
    $xmm16 = AVX512_128_SETALLONES
    $ymm15 = AVX512_256_SETALLONES
    $ymm17 = AVX512_256_SETALLONES

...
