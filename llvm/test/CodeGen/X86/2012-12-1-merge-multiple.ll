; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=x86_64-unknown-unknown | FileCheck %s

define void @multiple_stores_on_chain(ptr %A) {
; CHECK-LABEL: multiple_stores_on_chain:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    movaps {{.*#+}} xmm0 = [0,1,2,3,4,5,6,7]
; CHECK-NEXT:    movups %xmm0, (%rdi)
; CHECK-NEXT:    retq
entry:
  %a1 = getelementptr inbounds i16, ptr %A, i64 1
  %a2 = getelementptr inbounds i16, ptr %A, i64 2
  %a3 = getelementptr inbounds i16, ptr %A, i64 3
  %a4 = getelementptr inbounds i16, ptr %A, i64 4
  %a5 = getelementptr inbounds i16, ptr %A, i64 5
  %a6 = getelementptr inbounds i16, ptr %A, i64 6
  %a7 = getelementptr inbounds i16, ptr %A, i64 7

  store i16 0, ptr %A
  store i16 1, ptr %a1
  store i16 2, ptr %a2
  store i16 3, ptr %a3
  store i16 4, ptr %a4
  store i16 5, ptr %a5
  store i16 6, ptr %a6
  store i16 7, ptr %a7

  ret void
}

