; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
; RUN: llc < %s -mtriple=x86_64-- | FileCheck %s

@out = global i32 0, align 4
define void @bar() {
; CHECK-LABEL: bar:
; CHECK:       # %bb.0:
; CHECK-NEXT:    movq out@GOTPCREL(%rip), %rax
; CHECK-NEXT:    #APP
; CHECK-NEXT:    addl $-1, (%rax)
; CHECK-NEXT:    #NO_APP
; CHECK-NEXT:    retq
  call void asm "addl $1,$0", "=*m,L,~{dirflag},~{fpsr},~{flags}"(ptr elementtype(i32) @out, i32 -1)
  ret void
}
