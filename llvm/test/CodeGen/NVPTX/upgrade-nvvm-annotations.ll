; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --check-attributes --check-globals all --version 5
; RUN: opt < %s -mtriple=nvptx64-unknown-unknown -O0 -S | FileCheck %s

define i32 @foo(i32 %a, i32 %b) {
; CHECK-LABEL: define i32 @foo(
; CHECK-SAME: i32 alignstack(8) [[A:%.*]], i32 alignstack(16) [[B:%.*]]) {
; CHECK-NEXT:    ret i32 0
;
  ret i32 0
}

define i32 @bar(i32 %a, i32 %b) {
; CHECK-LABEL: define ptx_kernel i32 @bar(
; CHECK-SAME: i32 [[A:%.*]], i32 [[B:%.*]]) {
; CHECK-NEXT:    ret i32 0
;
  ret i32 0
}

!nvvm.annotations = !{!0, !1, !2}

!0 = !{ptr @foo, !"align", i32 u0x00000008, !"align", i32 u0x00010008, !"align", i32 u0x00020010}
!1 = !{null, !"align", i32 u0x00000008, !"align", i32 u0x00010008, !"align", i32 u0x00020008}
!2 = !{ptr @bar, !"kernel", i32 1}

;.
; CHECK: [[META0:![0-9]+]] = !{ptr @foo, !"align", i32 8}
;.
