# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py UTC_ARGS: --version 6
# RUN: llc -mtriple=aarch64 -mattr=+sme -run-pass=aarch64-post-coalescer-pass -o - %s | FileCheck %s

---
name:            foo
machineFunctionInfo:
  hasStreamingModeChanges: true
body:             |
  bb.0.entry:
  ; CHECK-LABEL: name: foo
  ; CHECK: $d0 = COPY undef %0:fpr64
  ; CHECK-NEXT: FAKE_USE implicit $d0
  %1:fpr64 = COALESCER_BARRIER_FPR64 undef %1
  $d0 = COPY %1
  FAKE_USE implicit $d0
...
