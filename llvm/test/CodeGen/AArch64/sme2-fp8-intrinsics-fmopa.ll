; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc -mtriple=aarch64-linux-gnu -mattr=+sme-f8f16,+sme-f8f32 -force-streaming < %s | FileCheck %s

define void @test_fmopa_16(<vscale x 16 x i1> %pn, <vscale x 16 x i1> %pm, <vscale x 16 x i8> %vn, <vscale x 16 x i8> %vm) {
; CHECK-LABEL: test_fmopa_16:
; CHECK:       // %bb.0:
; CHECK-NEXT:    fmopa za1.h, p0/m, p1/m, z0.b, z1.b
; CHECK-NEXT:    ret
    call void @llvm.aarch64.sme.fp8.fmopa.za16(i32 1, <vscale x 16 x i1> %pn, <vscale x 16 x i1> %pm,
                                               <vscale x 16 x i8> %vn, <vscale x 16 x i8> %vm)
    ret void
}

define void @test_fmopa_32(<vscale x 16 x i1> %pn, <vscale x 16 x i1> %pm, <vscale x 16 x i8> %vn, <vscale x 16 x i8> %vm) #0 {
; CHECK-LABEL: test_fmopa_32:
; CHECK:       // %bb.0:
; CHECK-NEXT:    fmopa za3.s, p0/m, p1/m, z0.b, z1.b
; CHECK-NEXT:    ret
    call void @llvm.aarch64.sme.fp8.fmopa.za32(i32 3, <vscale x 16 x i1> %pn, <vscale x 16 x i1> %pm,
                                               <vscale x 16 x i8> %vn, <vscale x 16 x i8> %vm)
    ret void
}
