; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc -mtriple=aarch64 -O0 -global-isel %s -o - 2>&1 | FileCheck %s

target triple = "arm64"

@p = external global { {}, { ptr } }

define void @foo() {
; CHECK-LABEL: foo:
; CHECK:       // %bb.0: // %bb
; CHECK-NEXT:    adrp x8, :got:p
; CHECK-NEXT:    ldr x8, [x8, :got_lo12:p]
; CHECK-NEXT:    ldr x8, [x8]
; CHECK-NEXT:    mov x9, xzr
; CHECK-NEXT:    str x8, [x9]
; CHECK-NEXT:    ret
bb:
  %i1 = load ptr, ptr @p, align 8
  store ptr %i1, ptr null, align 8
  ret void
}
