# NOTE: Assertions have been autogenerated by utils/update_givaluetracking_test_checks.py UTC_ARGS: --version 5
# RUN: llc -mtriple=aarch64 -passes="print<gisel-value-tracking>" -filetype=null %s 2>&1 | FileCheck %s

---
name:            CstCarryOutZero
body:             |
  bb.1:
  ; CHECK-LABEL: name: @CstCarryOutZero
  ; CHECK-NEXT: %0:_ KnownBits:00000010 SignBits:6
  ; CHECK-NEXT: %1:_ KnownBits:00011000 SignBits:3
  ; CHECK-NEXT: %2:_ KnownBits:00011010 SignBits:3
  ; CHECK-NEXT: %3:_ KnownBits:? SignBits:1
    %0:_(s8) = G_CONSTANT i8 2
    %1:_(s8) = G_CONSTANT i8 24
    %2:_(s8), %3:_(s1) = G_SADDO %0, %1
...
---
name:            CstCarryOutOne
body:             |
  bb.1:
  ; CHECK-LABEL: name: @CstCarryOutOne
  ; CHECK-NEXT: %0:_ KnownBits:00000010 SignBits:6
  ; CHECK-NEXT: %1:_ KnownBits:01111110 SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:10000000 SignBits:1
  ; CHECK-NEXT: %3:_ KnownBits:? SignBits:1
    %0:_(s8) = G_CONSTANT i8 2
    %1:_(s8) = G_CONSTANT i8 126
    %2:_(s8), %3:_(s1) = G_SADDO %0, %1
...
---
name:            ScalarVar
body:             |
  bb.1:
  ; CHECK-LABEL: name: @ScalarVar
  ; CHECK-NEXT: %0:_ KnownBits:???????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:???????? SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:???????? SignBits:1
  ; CHECK-NEXT: %3:_ KnownBits:? SignBits:1
    %0:_(s8) = COPY $b0
    %1:_(s8) = COPY $b1
    %2:_(s8), %3:_(s1) = G_SADDO %0, %1
...
---
name:            ScalarPartKnown
body:             |
  bb.1:
  ; CHECK-LABEL: name: @ScalarPartKnown
  ; CHECK-NEXT: %0:_ KnownBits:???????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:00001111 SignBits:4
  ; CHECK-NEXT: %2:_ KnownBits:0000???? SignBits:4
  ; CHECK-NEXT: %3:_ KnownBits:00000101 SignBits:5
  ; CHECK-NEXT: %4:_ KnownBits:000????? SignBits:3
  ; CHECK-NEXT: %5:_ KnownBits:? SignBits:1
    %0:_(s8) = COPY $b0
    %1:_(s8) = G_CONSTANT i8 15
    %2:_(s8) = G_AND %0, %1
    %3:_(s8) = G_CONSTANT i8 5
    %4:_(s8), %5:_(s1) = G_SADDO %2, %3
...
---
name:            VectorCstCarryOutZero
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorCstCarryOutZero
  ; CHECK-NEXT: %0:_ KnownBits:0000000000000010 SignBits:14
  ; CHECK-NEXT: %1:_ KnownBits:0111110100000000 SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:0000000000000010 SignBits:14
  ; CHECK-NEXT: %3:_ KnownBits:0111110100000000 SignBits:1
  ; CHECK-NEXT: %4:_ KnownBits:0111110100000010 SignBits:1
  ; CHECK-NEXT: %5:_ KnownBits:? SignBits:1
    %0:_(s16) = G_CONSTANT i16 2
    %1:_(s16) = G_CONSTANT i16 32000
    %2:_(<4 x s16>) = G_BUILD_VECTOR %0, %0, %0, %0
    %3:_(<4 x s16>) = G_BUILD_VECTOR %1, %1, %1, %1
    %4:_(<4 x s16>), %5:_(<4 x s1>) = G_SADDO %2, %3
...
---
name:            VectorCstCarryOutOne
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorCstCarryOutOne
  ; CHECK-NEXT: %0:_ KnownBits:0000000000000010 SignBits:14
  ; CHECK-NEXT: %1:_ KnownBits:0111111111111111 SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:0000000000000010 SignBits:14
  ; CHECK-NEXT: %3:_ KnownBits:0111111111111111 SignBits:1
  ; CHECK-NEXT: %4:_ KnownBits:1000000000000001 SignBits:1
  ; CHECK-NEXT: %5:_ KnownBits:? SignBits:1
    %0:_(s16) = G_CONSTANT i16 2
    %1:_(s16) = G_CONSTANT i16 32767
    %2:_(<4 x s16>) = G_BUILD_VECTOR %0, %0, %0, %0
    %3:_(<4 x s16>) = G_BUILD_VECTOR %1, %1, %1, %1
    %4:_(<4 x s16>), %5:_(<4 x s1>) = G_SADDO %2, %3
...
---
name:            VectorVar
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorVar
  ; CHECK-NEXT: %0:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %3:_ KnownBits:? SignBits:1
    %0:_(<4 x s16>) = COPY $d0
    %1:_(<4 x s16>) = COPY $d1
    %2:_(<4 x s16>), %3:_(<4 x s1>) = G_SADDO %0, %1
...
---
name:            VectorPartKnown
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorPartKnown
  ; CHECK-NEXT: %0:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:0000000011111111 SignBits:8
  ; CHECK-NEXT: %2:_ KnownBits:0000000011111111 SignBits:8
  ; CHECK-NEXT: %3:_ KnownBits:00000000???????? SignBits:8
  ; CHECK-NEXT: %4:_ KnownBits:0000000000101010 SignBits:10
  ; CHECK-NEXT: %5:_ KnownBits:0000000001001010 SignBits:9
  ; CHECK-NEXT: %6:_ KnownBits:000000000??01010 SignBits:9
  ; CHECK-NEXT: %7:_ KnownBits:0000000????????? SignBits:7
  ; CHECK-NEXT: %8:_ KnownBits:? SignBits:1
    %0:_(<4 x s16>) = COPY $d0
    %1:_(s16) = G_CONSTANT i16 255
    %2:_(<4 x s16>) = G_BUILD_VECTOR %1, %1, %1, %1
    %3:_(<4 x s16>) = G_AND %0, %2
    %4:_(s16) = G_CONSTANT i16 42
    %5:_(s16) = G_CONSTANT i16 74
    %6:_(<4 x s16>) = G_BUILD_VECTOR %4, %5, %5, %4
    %7:_(<4 x s16>), %8:_(<4 x s1>) = G_SADDO %6, %3
...
---
name:            VectorCst36
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorCst36
  ; CHECK-NEXT: %0:_ KnownBits:0000000000000011 SignBits:14
  ; CHECK-NEXT: %1:_ KnownBits:0000000000000110 SignBits:13
  ; CHECK-NEXT: %2:_ KnownBits:0000000000000?1? SignBits:13
  ; CHECK-NEXT: %3:_ KnownBits:0000000000000?1? SignBits:13
  ; CHECK-NEXT: %4:_ KnownBits:000000000000???? SignBits:12
  ; CHECK-NEXT: %5:_ KnownBits:? SignBits:1
    %0:_(s16) = G_CONSTANT i16 3
    %1:_(s16) = G_CONSTANT i16 6
    %2:_(<4 x s16>) = G_BUILD_VECTOR %0, %1, %1, %0
    %3:_(<4 x s16>) = G_BUILD_VECTOR %0, %1, %1, %0
    %4:_(<4 x s16>), %5:_(<4 x s1>) = G_SADDO %2, %3
...
---
name:            VectorCst3unknown
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorCst3unknown
  ; CHECK-NEXT: %0:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %2:_ KnownBits:0000000000000011 SignBits:14
  ; CHECK-NEXT: %3:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %4:_ KnownBits:???????????????? SignBits:1
  ; CHECK-NEXT: %5:_ KnownBits:? SignBits:1
    %0:_(<4 x s16>) = COPY $d0
    %1:_(s16) = COPY $h0
    %2:_(s16) = G_CONSTANT i16 3
    %3:_(<4 x s16>) = G_BUILD_VECTOR %1, %2, %2, %1
    %4:_(<4 x s16>), %5:_(<4 x s1>) = G_SADDO %0, %3
...
