# NOTE: Assertions have been autogenerated by utils/update_givaluetracking_test_checks.py UTC_ARGS: --version 5
# RUN: llc -mtriple=aarch64 -passes="print<gisel-value-tracking>" -filetype=null %s 2>&1 | FileCheck %s

---
name:            ConstPositives
body:             |
  bb.1:
  ; CHECK-LABEL: name: @ConstPositives
  ; CHECK-NEXT: %0:_ KnownBits:00000011 SignBits:6
  ; CHECK-NEXT: %1:_ KnownBits:00000101 SignBits:5
  ; CHECK-NEXT: %2:_ KnownBits:00001111 SignBits:4
    %0:_(s8) = G_CONSTANT i8 3
    %1:_(s8) = G_CONSTANT i8 5
    %2:_(s8) = G_MUL %0, %1
...
---
name:            ConstZero
body:             |
  bb.1:
  ; CHECK-LABEL: name: @ConstZero
  ; CHECK-NEXT: %0:_ KnownBits:00000000 SignBits:8
  ; CHECK-NEXT: %1:_ KnownBits:00000001 SignBits:7
  ; CHECK-NEXT: %2:_ KnownBits:00000000 SignBits:8
    %0:_(s8) = G_CONSTANT i8 0
    %1:_(s8) = G_CONSTANT i8 1
    %2:_(s8) = G_MUL %0, %1
...
---
name:            ConstNegatives
body:             |
  bb.1:
  ; CHECK-LABEL: name: @ConstNegatives
  ; CHECK-NEXT: %0:_ KnownBits:11111110 SignBits:7
  ; CHECK-NEXT: %1:_ KnownBits:11111100 SignBits:6
  ; CHECK-NEXT: %2:_ KnownBits:00001000 SignBits:4
    %0:_(s8) = G_CONSTANT i8 -2
    %1:_(s8) = G_CONSTANT i8 -4
    %2:_(s8) = G_MUL %0, %1
...
---
name:            MixedSigns
body:             |
  bb.1:
  ; CHECK-LABEL: name: @MixedSigns
  ; CHECK-NEXT: %0:_ KnownBits:11111100 SignBits:6
  ; CHECK-NEXT: %1:_ KnownBits:00000011 SignBits:6
  ; CHECK-NEXT: %2:_ KnownBits:11110100 SignBits:4
    %0:_(s8) = G_CONSTANT i8 -4
    %1:_(s8) = G_CONSTANT i8 3
    %2:_(s8) = G_MUL %0, %1
...
---
name:            UnknownVar
body:             |
  bb.1:
  ; CHECK-LABEL: name: @UnknownVar
  ; CHECK-NEXT: %0:_ KnownBits:???????? SignBits:1
  ; CHECK-NEXT: %1:_ KnownBits:00000010 SignBits:6
  ; CHECK-NEXT: %2:_ KnownBits:???????0 SignBits:1
    %0:_(s8) = COPY $b0
    %1:_(s8) = G_CONSTANT i8 2
    %2:_(s8) = G_MUL %0, %1
...
---
name:            VectorMul
body:             |
  bb.1:
  ; CHECK-LABEL: name: @VectorMul
  ; CHECK-NEXT: %0:_ KnownBits:0000000000000001 SignBits:15
  ; CHECK-NEXT: %1:_ KnownBits:0000000000000010 SignBits:14
  ; CHECK-NEXT: %2:_ KnownBits:00000000000000?? SignBits:14
  ; CHECK-NEXT: %3:_ KnownBits:00000000000000?? SignBits:14
  ; CHECK-NEXT: %4:_ KnownBits:000000000000???? SignBits:12
    %0:_(s16) = G_CONSTANT i16 1
    %1:_(s16) = G_CONSTANT i16 2
    %2:_(<4 x s16>) = G_BUILD_VECTOR %0, %1, %1, %0
    %3:_(<4 x s16>) = G_BUILD_VECTOR %1, %0, %0, %1
    %4:_(<4 x s16>) = G_MUL %2, %3
...
