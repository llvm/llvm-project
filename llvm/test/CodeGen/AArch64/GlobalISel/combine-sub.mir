# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple aarch64 -run-pass=aarch64-prelegalizer-combiner %s -o - | FileCheck %s

---
name:   sub_minus_one
body:             |
  bb.0:
    liveins: $w0, $w1

    ; CHECK-LABEL: name: sub_minus_one
    ; CHECK: liveins: $w0, $w1
    ; CHECK-NEXT: {{  $}}
    ; CHECK-NEXT: %a:_(s64) = COPY $x0
    ; CHECK-NEXT: %c1:_(s64) = G_CONSTANT i64 -1
    ; CHECK-NEXT: %sub:_(s64) = G_XOR %a, %c1
    ; CHECK-NEXT: $x0 = COPY %sub(s64)
    ; CHECK-NEXT: RET_ReallyLR implicit $x0
    %a:_(s64) = COPY $x0
    %c1:_(s64) = G_CONSTANT i64 -1
    %sub:_(s64) = G_SUB %c1, %a
    $x0 = COPY %sub
    RET_ReallyLR implicit $x0

...
---
name:   sub_minus_one_vector
body:             |
  bb.0:
    liveins: $x0, $x1

    ; CHECK-LABEL: name: sub_minus_one_vector
    ; CHECK: liveins: $x0, $x1
    ; CHECK-NEXT: {{  $}}
    ; CHECK-NEXT: %a:_(<4 x s16>) = COPY $x0
    ; CHECK-NEXT: %neg_one:_(s16) = G_CONSTANT i16 -1
    ; CHECK-NEXT: %c1:_(<4 x s16>) = G_BUILD_VECTOR %neg_one(s16), %neg_one(s16), %neg_one(s16), %neg_one(s16)
    ; CHECK-NEXT: %sub:_(<4 x s16>) = G_XOR %a, %c1
    ; CHECK-NEXT: $x0 = COPY %sub(<4 x s16>)
    ; CHECK-NEXT: RET_ReallyLR implicit $x0
    %a:_(<4 x s16>) = COPY $x0
    %neg_one:_(s16) = G_CONSTANT i16 -1
    %c1:_(<4 x s16>) = G_BUILD_VECTOR %neg_one(s16), %neg_one(s16), %neg_one(s16), %neg_one(s16)
    %sub:_(<4 x s16>) = G_SUB %c1, %a
    $x0 = COPY %sub
    RET_ReallyLR implicit $x0
...
