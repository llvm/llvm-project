; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=aarch64-unknown-unknown -global-isel | FileCheck %s --check-prefixes=GISEL

; fold (sub -1, a) -> (xor a, -1)
define i64 @sub_minus_one(i64 %a) {
; GISEL-LABEL: sub_minus_one:
; GISEL:       // %bb.0: // %entry
; GISEL-NEXT:    mvn x0, x0
; GISEL-NEXT:    ret
entry:
; fold (A - (0 - B)) to (A + B)
  %sub1 = sub i64 -1, %a
  ret i64 %sub1
}

