# RUN: not --crash llc -mtriple=aarch64 -run-pass machineverifier -o /dev/null %s 2>&1 | FileCheck -implicit-check-not="Bad machine code"  %s

# CHECK: *** Bad machine code: OPERAND_SHIFT_MSL should be msl shift of 8 or 16 ***
# CHECK: - instruction: $d0 = MOVIv2s_msl 55, 262
# CHECK: *** Bad machine code: OPERAND_SHIFT_MSL should be msl shift of 8 or 16 ***
# CHECK: - instruction: $q0 = MOVIv4s_msl 55, 8
# CHECK: *** Bad machine code: OPERAND_IMPLICIT_IMM_0 should be 0 ***
# CHECK: - instruction: $zad0 = MOVA_MXI2Z_V_D $zad0(tied-def 0), $w12, 1, $z0_z1

---
name:            verifyImm
alignment:       4
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $z0_z1, $zad0, $x0, $w12

    $d0 = MOVIv2s_msl 55, 262
    $q0 = MOVIv4s_msl 55, 8
    $zad0 = MOVA_MXI2Z_V_D $zad0, $w12, 1, $z0_z1
    RET undef $lr, implicit $x0
...
