; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
; RUN: llc -mtriple=aarch64-linux-unknown-gnu %s -o - | FileCheck %s

define <vscale x 16 x i8> @clmul_nxv16i8_sve(<vscale x 16 x i8> %x, <vscale x 16 x i8> %y) #0 {
; CHECK-LABEL: clmul_nxv16i8_sve:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    ptrue p0.b
; CHECK-NEXT:    and z1.b, z1.b, #0x80
; CHECK-NEXT:    and z2.b, z2.b, #0x2
; CHECK-NEXT:    and z3.b, z3.b, #0x1
; CHECK-NEXT:    and z4.b, z4.b, #0x4
; CHECK-NEXT:    and z5.b, z5.b, #0x8
; CHECK-NEXT:    and z6.b, z6.b, #0x10
; CHECK-NEXT:    and z7.b, z7.b, #0x20
; CHECK-NEXT:    and z24.b, z24.b, #0x40
; CHECK-NEXT:    mul z2.b, p0/m, z2.b, z0.b
; CHECK-NEXT:    mul z3.b, p0/m, z3.b, z0.b
; CHECK-NEXT:    mul z4.b, p0/m, z4.b, z0.b
; CHECK-NEXT:    mul z5.b, p0/m, z5.b, z0.b
; CHECK-NEXT:    mul z6.b, p0/m, z6.b, z0.b
; CHECK-NEXT:    mul z7.b, p0/m, z7.b, z0.b
; CHECK-NEXT:    mul z24.b, p0/m, z24.b, z0.b
; CHECK-NEXT:    mul z0.b, p0/m, z0.b, z1.b
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    eor z3.d, z4.d, z5.d
; CHECK-NEXT:    eor z4.d, z6.d, z7.d
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    eor z3.d, z4.d, z24.d
; CHECK-NEXT:    eor z1.d, z2.d, z3.d
; CHECK-NEXT:    eor z0.d, z1.d, z0.d
; CHECK-NEXT:    ret
  %a = call <vscale x 16 x i8> @llvm.clmul.nxv16i8(<vscale x 16 x i8> %x, <vscale x 16 x i8> %y)
  ret <vscale x 16 x i8> %a
}

define <vscale x 8 x i16> @clmul_nxv8i16_sve(<vscale x 8 x i16> %x, <vscale x 8 x i16> %y) #0 {
; CHECK-LABEL: clmul_nxv8i16_sve:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    ptrue p0.h
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    and z2.h, z2.h, #0x2
; CHECK-NEXT:    and z3.h, z3.h, #0x1
; CHECK-NEXT:    and z4.h, z4.h, #0x4
; CHECK-NEXT:    and z5.h, z5.h, #0x8
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    and z6.h, z6.h, #0x10
; CHECK-NEXT:    and z7.h, z7.h, #0x20
; CHECK-NEXT:    and z24.h, z24.h, #0x80
; CHECK-NEXT:    mul z2.h, p0/m, z2.h, z0.h
; CHECK-NEXT:    mul z3.h, p0/m, z3.h, z0.h
; CHECK-NEXT:    and z25.h, z25.h, #0x100
; CHECK-NEXT:    mul z4.h, p0/m, z4.h, z0.h
; CHECK-NEXT:    mul z5.h, p0/m, z5.h, z0.h
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    mul z6.h, p0/m, z6.h, z0.h
; CHECK-NEXT:    mul z7.h, p0/m, z7.h, z0.h
; CHECK-NEXT:    and z26.h, z26.h, #0x800
; CHECK-NEXT:    mul z24.h, p0/m, z24.h, z0.h
; CHECK-NEXT:    mul z25.h, p0/m, z25.h, z0.h
; CHECK-NEXT:    and z27.h, z27.h, #0x1000
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    mov z30.d, z1.d
; CHECK-NEXT:    and z28.h, z28.h, #0x40
; CHECK-NEXT:    mul z26.h, p0/m, z26.h, z0.h
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    eor z3.d, z4.d, z5.d
; CHECK-NEXT:    mul z27.h, p0/m, z27.h, z0.h
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z28.h, p0/m, z28.h, z0.h
; CHECK-NEXT:    and z29.h, z29.h, #0x200
; CHECK-NEXT:    and z30.h, z30.h, #0x2000
; CHECK-NEXT:    eor z6.d, z6.d, z7.d
; CHECK-NEXT:    eor z7.d, z24.d, z25.d
; CHECK-NEXT:    and z1.h, z1.h, #0x8000
; CHECK-NEXT:    and z4.h, z4.h, #0x400
; CHECK-NEXT:    and z5.h, z5.h, #0x4000
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    mul z29.h, p0/m, z29.h, z0.h
; CHECK-NEXT:    mul z30.h, p0/m, z30.h, z0.h
; CHECK-NEXT:    eor z24.d, z26.d, z27.d
; CHECK-NEXT:    eor z3.d, z6.d, z28.d
; CHECK-NEXT:    mul z4.h, p0/m, z4.h, z0.h
; CHECK-NEXT:    mul z5.h, p0/m, z5.h, z0.h
; CHECK-NEXT:    mul z0.h, p0/m, z0.h, z1.h
; CHECK-NEXT:    eor z6.d, z7.d, z29.d
; CHECK-NEXT:    eor z7.d, z24.d, z30.d
; CHECK-NEXT:    eor z1.d, z2.d, z3.d
; CHECK-NEXT:    eor z2.d, z6.d, z4.d
; CHECK-NEXT:    eor z3.d, z7.d, z5.d
; CHECK-NEXT:    eor z1.d, z1.d, z2.d
; CHECK-NEXT:    eor z0.d, z3.d, z0.d
; CHECK-NEXT:    eor z0.d, z1.d, z0.d
; CHECK-NEXT:    ret
  %a = call <vscale x 8 x i16> @llvm.clmul.nxv8i16(<vscale x 8 x i16> %x, <vscale x 8 x i16> %y)
  ret <vscale x 8 x i16> %a
}

define <vscale x 4 x i32> @clmul_nxv4i32_sve(<vscale x 4 x i32> %x, <vscale x 4 x i32> %y) #0 {
; CHECK-LABEL: clmul_nxv4i32_sve:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    ptrue p0.s
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    and z2.s, z2.s, #0x2
; CHECK-NEXT:    and z3.s, z3.s, #0x1
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    and z4.s, z4.s, #0x4
; CHECK-NEXT:    and z5.s, z5.s, #0x8
; CHECK-NEXT:    and z6.s, z6.s, #0x10
; CHECK-NEXT:    and z7.s, z7.s, #0x20
; CHECK-NEXT:    and z24.s, z24.s, #0x80
; CHECK-NEXT:    and z25.s, z25.s, #0x100
; CHECK-NEXT:    mul z2.s, p0/m, z2.s, z0.s
; CHECK-NEXT:    mul z3.s, p0/m, z3.s, z0.s
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z4.s, p0/m, z4.s, z0.s
; CHECK-NEXT:    mul z5.s, p0/m, z5.s, z0.s
; CHECK-NEXT:    and z26.s, z26.s, #0x40
; CHECK-NEXT:    mul z6.s, p0/m, z6.s, z0.s
; CHECK-NEXT:    mul z7.s, p0/m, z7.s, z0.s
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    mul z24.s, p0/m, z24.s, z0.s
; CHECK-NEXT:    mul z25.s, p0/m, z25.s, z0.s
; CHECK-NEXT:    and z27.s, z27.s, #0x200
; CHECK-NEXT:    mul z26.s, p0/m, z26.s, z0.s
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    eor z4.d, z4.d, z5.d
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    and z28.s, z28.s, #0x8000
; CHECK-NEXT:    mul z27.s, p0/m, z27.s, z0.s
; CHECK-NEXT:    eor z5.d, z6.d, z7.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x400
; CHECK-NEXT:    eor z6.d, z24.d, z25.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z28.s, p0/m, z28.s, z0.s
; CHECK-NEXT:    eor z2.d, z2.d, z4.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    eor z4.d, z5.d, z26.d
; CHECK-NEXT:    and z7.s, z7.s, #0x800
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    mul z3.s, p0/m, z3.s, z0.s
; CHECK-NEXT:    eor z5.d, z6.d, z27.d
; CHECK-NEXT:    and z24.s, z24.s, #0x1000
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z25.s, z25.s, #0x800000
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z7.s, p0/m, z7.s, z0.s
; CHECK-NEXT:    eor z2.d, z2.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mul z24.s, p0/m, z24.s, z0.s
; CHECK-NEXT:    and z26.s, z26.s, #0x40000
; CHECK-NEXT:    and z29.s, z29.s, #0x100000
; CHECK-NEXT:    mul z25.s, p0/m, z25.s, z0.s
; CHECK-NEXT:    eor z3.d, z5.d, z3.d
; CHECK-NEXT:    and z6.s, z6.s, #0x2000
; CHECK-NEXT:    and z4.s, z4.s, #0x10000
; CHECK-NEXT:    and z27.s, z27.s, #0x1000000
; CHECK-NEXT:    mul z26.s, p0/m, z26.s, z0.s
; CHECK-NEXT:    mul z29.s, p0/m, z29.s, z0.s
; CHECK-NEXT:    mul z6.s, p0/m, z6.s, z0.s
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mul z4.s, p0/m, z4.s, z0.s
; CHECK-NEXT:    mul z27.s, p0/m, z27.s, z0.s
; CHECK-NEXT:    eor z5.d, z7.d, z24.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x20000
; CHECK-NEXT:    eor z5.d, z5.d, z6.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z24.s, z24.s, #0x400000
; CHECK-NEXT:    and z7.s, z7.s, #0x4000
; CHECK-NEXT:    mul z3.s, p0/m, z3.s, z0.s
; CHECK-NEXT:    and z6.s, z6.s, #0x80000
; CHECK-NEXT:    mul z24.s, p0/m, z24.s, z0.s
; CHECK-NEXT:    mul z7.s, p0/m, z7.s, z0.s
; CHECK-NEXT:    eor z3.d, z4.d, z3.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mul z6.s, p0/m, z6.s, z0.s
; CHECK-NEXT:    eor z24.d, z24.d, z25.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    eor z5.d, z5.d, z7.d
; CHECK-NEXT:    and z4.s, z4.s, #0x2000000
; CHECK-NEXT:    eor z3.d, z3.d, z26.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    and z25.s, z25.s, #0x4000000
; CHECK-NEXT:    eor z7.d, z24.d, z27.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z4.s, p0/m, z4.s, z0.s
; CHECK-NEXT:    eor z3.d, z3.d, z6.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z26.s, z26.s, #0x200000
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    eor z5.d, z5.d, z28.d
; CHECK-NEXT:    mul z25.s, p0/m, z25.s, z0.s
; CHECK-NEXT:    and z24.s, z24.s, #0x20000000
; CHECK-NEXT:    and z6.s, z6.s, #0x8000000
; CHECK-NEXT:    eor z3.d, z3.d, z29.d
; CHECK-NEXT:    eor z4.d, z7.d, z4.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mul z26.s, p0/m, z26.s, z0.s
; CHECK-NEXT:    and z27.s, z27.s, #0x40000000
; CHECK-NEXT:    mul z24.s, p0/m, z24.s, z0.s
; CHECK-NEXT:    and z1.s, z1.s, #0x80000000
; CHECK-NEXT:    mul z6.s, p0/m, z6.s, z0.s
; CHECK-NEXT:    eor z2.d, z2.d, z5.d
; CHECK-NEXT:    and z7.s, z7.s, #0x10000000
; CHECK-NEXT:    eor z4.d, z4.d, z25.d
; CHECK-NEXT:    mul z27.s, p0/m, z27.s, z0.s
; CHECK-NEXT:    eor z3.d, z3.d, z26.d
; CHECK-NEXT:    mul z7.s, p0/m, z7.s, z0.s
; CHECK-NEXT:    eor z4.d, z4.d, z6.d
; CHECK-NEXT:    mul z0.s, p0/m, z0.s, z1.s
; CHECK-NEXT:    eor z1.d, z2.d, z3.d
; CHECK-NEXT:    eor z3.d, z24.d, z27.d
; CHECK-NEXT:    eor z2.d, z4.d, z7.d
; CHECK-NEXT:    eor z0.d, z3.d, z0.d
; CHECK-NEXT:    eor z1.d, z1.d, z2.d
; CHECK-NEXT:    eor z0.d, z1.d, z0.d
; CHECK-NEXT:    ret
  %a = call <vscale x 4 x i32> @llvm.clmul.nxv4i32(<vscale x 4 x i32> %x, <vscale x 4 x i32> %y)
  ret <vscale x 4 x i32> %a
}

define <vscale x 2 x i64> @clmul_nxv2i64_sve(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y) #0 {
; CHECK-LABEL: clmul_nxv2i64_sve:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    ptrue p0.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    and z2.d, z2.d, #0x2
; CHECK-NEXT:    and z3.d, z3.d, #0x1
; CHECK-NEXT:    and z4.d, z4.d, #0x4
; CHECK-NEXT:    and z5.d, z5.d, #0x8
; CHECK-NEXT:    and z6.d, z6.d, #0x10
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    and z7.d, z7.d, #0x20
; CHECK-NEXT:    and z24.d, z24.d, #0x40
; CHECK-NEXT:    and z25.d, z25.d, #0x80
; CHECK-NEXT:    mul z2.d, p0/m, z2.d, z0.d
; CHECK-NEXT:    mul z3.d, p0/m, z3.d, z0.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z4.d, p0/m, z4.d, z0.d
; CHECK-NEXT:    mul z5.d, p0/m, z5.d, z0.d
; CHECK-NEXT:    and z26.d, z26.d, #0x100
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    and z27.d, z27.d, #0x20000
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    eor z3.d, z4.d, z5.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    and z28.d, z28.d, #0x400000
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    eor z4.d, z6.d, z7.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z29.d, z29.d, #0x800000
; CHECK-NEXT:    mov z30.d, z1.d
; CHECK-NEXT:    mul z28.d, p0/m, z28.d, z0.d
; CHECK-NEXT:    and z5.d, z5.d, #0x200
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    and z6.d, z6.d, #0x800
; CHECK-NEXT:    eor z3.d, z4.d, z24.d
; CHECK-NEXT:    eor z4.d, z25.d, z26.d
; CHECK-NEXT:    mul z29.d, p0/m, z29.d, z0.d
; CHECK-NEXT:    and z7.d, z7.d, #0x1000
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    mul z5.d, p0/m, z5.d, z0.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    and z30.d, z30.d, #0x800000000
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    and z25.d, z25.d, #0x2000
; CHECK-NEXT:    and z26.d, z26.d, #0x10000
; CHECK-NEXT:    and z24.d, z24.d, #0x400
; CHECK-NEXT:    mul z30.d, p0/m, z30.d, z0.d
; CHECK-NEXT:    eor z3.d, z4.d, z5.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    eor z6.d, z6.d, z7.d
; CHECK-NEXT:    and z5.d, z5.d, #0x40000
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z4.d, z4.d, #0x4000
; CHECK-NEXT:    eor z6.d, z6.d, z25.d
; CHECK-NEXT:    mul z5.d, p0/m, z5.d, z0.d
; CHECK-NEXT:    eor z25.d, z26.d, z27.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z4.d, p0/m, z4.d, z0.d
; CHECK-NEXT:    and z7.d, z7.d, #0x80000
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    eor z3.d, z3.d, z24.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    and z27.d, z27.d, #0x1000000
; CHECK-NEXT:    eor z5.d, z25.d, z5.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    and z26.d, z26.d, #0x8000
; CHECK-NEXT:    eor z4.d, z6.d, z4.d
; CHECK-NEXT:    and z24.d, z24.d, #0x2000000
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    eor z6.d, z28.d, z29.d
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    and z25.d, z25.d, #0x100000
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    eor z5.d, z5.d, z7.d
; CHECK-NEXT:    and z28.d, z28.d, #0x4000000
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    eor z6.d, z6.d, z27.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    and z29.d, z29.d, #0x40000000
; CHECK-NEXT:    mul z28.d, p0/m, z28.d, z0.d
; CHECK-NEXT:    eor z3.d, z4.d, z26.d
; CHECK-NEXT:    and z7.d, z7.d, #0x200000
; CHECK-NEXT:    and z27.d, z27.d, #0x20000000
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    eor z4.d, z5.d, z25.d
; CHECK-NEXT:    eor z5.d, z6.d, z24.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mul z29.d, p0/m, z29.d, z0.d
; CHECK-NEXT:    eor z3.d, z2.d, z3.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    and z26.d, z26.d, #0x4000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x80000000
; CHECK-NEXT:    eor z2.d, z5.d, z28.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    eor z4.d, z4.d, z7.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z25.d, z25.d, #0x2000000000
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    and z5.d, z5.d, #0x100000000
; CHECK-NEXT:    eor z24.d, z27.d, z29.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    and z28.d, z28.d, #0x8000000000
; CHECK-NEXT:    and z7.d, z7.d, #0x8000000
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    mul z5.d, p0/m, z5.d, z0.d
; CHECK-NEXT:    eor z3.d, z3.d, z4.d
; CHECK-NEXT:    eor z6.d, z24.d, z6.d
; CHECK-NEXT:    and z27.d, z27.d, #0x200000000
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    mul z28.d, p0/m, z28.d, z0.d
; CHECK-NEXT:    and z29.d, z29.d, #0x10000000
; CHECK-NEXT:    eor z25.d, z25.d, z26.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    eor z5.d, z6.d, z5.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    and z24.d, z24.d, #0x400000000
; CHECK-NEXT:    mul z29.d, p0/m, z29.d, z0.d
; CHECK-NEXT:    and z26.d, z26.d, #0x20000000000
; CHECK-NEXT:    eor z2.d, z2.d, z7.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000000
; CHECK-NEXT:    eor z4.d, z25.d, z28.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    eor z5.d, z5.d, z27.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    and z7.d, z7.d, #0x40000000000
; CHECK-NEXT:    eor z2.d, z2.d, z29.d
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    and z25.d, z25.d, #0x400000000000
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    and z27.d, z27.d, #0x800000000000
; CHECK-NEXT:    mov z29.d, z1.d
; CHECK-NEXT:    eor z5.d, z5.d, z24.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    and z28.d, z28.d, #0x400000000000000
; CHECK-NEXT:    eor z4.d, z4.d, z6.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    and z24.d, z24.d, #0x1000000000
; CHECK-NEXT:    eor z5.d, z5.d, z30.d
; CHECK-NEXT:    mov z30.d, z1.d
; CHECK-NEXT:    mul z28.d, p0/m, z28.d, z0.d
; CHECK-NEXT:    and z29.d, z29.d, #0x200000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x80000000000
; CHECK-NEXT:    eor z4.d, z4.d, z26.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    and z30.d, z30.d, #0x800000000000000
; CHECK-NEXT:    mul z29.d, p0/m, z29.d, z0.d
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    and z26.d, z26.d, #0x1000000000000
; CHECK-NEXT:    eor z4.d, z4.d, z7.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mul z30.d, p0/m, z30.d, z0.d
; CHECK-NEXT:    eor z3.d, z5.d, z24.d
; CHECK-NEXT:    eor z5.d, z25.d, z27.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    mov z27.d, z1.d
; CHECK-NEXT:    and z7.d, z7.d, #0x2000000000000
; CHECK-NEXT:    eor z4.d, z4.d, z6.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z24.d, z24.d, #0x100000000000000
; CHECK-NEXT:    eor z2.d, z2.d, z3.d
; CHECK-NEXT:    and z25.d, z25.d, #0x200000000000000
; CHECK-NEXT:    and z27.d, z27.d, #0x100000000000
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    and z6.d, z6.d, #0x4000000000000
; CHECK-NEXT:    eor z5.d, z5.d, z26.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    mul z27.d, p0/m, z27.d, z0.d
; CHECK-NEXT:    mul z6.d, p0/m, z6.d, z0.d
; CHECK-NEXT:    and z26.d, z26.d, #0x8000000000000
; CHECK-NEXT:    eor z5.d, z5.d, z7.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    eor z4.d, z4.d, z27.d
; CHECK-NEXT:    and z7.d, z7.d, #0x10000000000000
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    eor z5.d, z5.d, z6.d
; CHECK-NEXT:    eor z6.d, z24.d, z25.d
; CHECK-NEXT:    mov z24.d, z1.d
; CHECK-NEXT:    mov z25.d, z1.d
; CHECK-NEXT:    eor z3.d, z4.d, z29.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    and z24.d, z24.d, #0x20000000000000
; CHECK-NEXT:    and z25.d, z25.d, #0x1000000000000000
; CHECK-NEXT:    eor z5.d, z5.d, z26.d
; CHECK-NEXT:    mov z26.d, z1.d
; CHECK-NEXT:    eor z6.d, z6.d, z28.d
; CHECK-NEXT:    mov z28.d, z1.d
; CHECK-NEXT:    mul z24.d, p0/m, z24.d, z0.d
; CHECK-NEXT:    mul z25.d, p0/m, z25.d, z0.d
; CHECK-NEXT:    eor z5.d, z5.d, z7.d
; CHECK-NEXT:    and z26.d, z26.d, #0x40000000000000
; CHECK-NEXT:    and z28.d, z28.d, #0x2000000000000000
; CHECK-NEXT:    eor z6.d, z6.d, z30.d
; CHECK-NEXT:    mov z7.d, z1.d
; CHECK-NEXT:    mov z30.d, z1.d
; CHECK-NEXT:    and z1.d, z1.d, #0x8000000000000000
; CHECK-NEXT:    mul z26.d, p0/m, z26.d, z0.d
; CHECK-NEXT:    mul z28.d, p0/m, z28.d, z0.d
; CHECK-NEXT:    eor z5.d, z5.d, z24.d
; CHECK-NEXT:    and z7.d, z7.d, #0x80000000000000
; CHECK-NEXT:    and z30.d, z30.d, #0x4000000000000000
; CHECK-NEXT:    eor z6.d, z6.d, z25.d
; CHECK-NEXT:    mul z7.d, p0/m, z7.d, z0.d
; CHECK-NEXT:    mul z30.d, p0/m, z30.d, z0.d
; CHECK-NEXT:    eor z4.d, z5.d, z26.d
; CHECK-NEXT:    eor z5.d, z6.d, z28.d
; CHECK-NEXT:    mul z0.d, p0/m, z0.d, z1.d
; CHECK-NEXT:    eor z1.d, z2.d, z3.d
; CHECK-NEXT:    eor z2.d, z4.d, z7.d
; CHECK-NEXT:    eor z3.d, z5.d, z30.d
; CHECK-NEXT:    eor z1.d, z1.d, z2.d
; CHECK-NEXT:    eor z0.d, z3.d, z0.d
; CHECK-NEXT:    eor z0.d, z1.d, z0.d
; CHECK-NEXT:    ret
  %a = call <vscale x 2 x i64> @llvm.clmul.nxv2i64(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y)
  ret <vscale x 2 x i64> %a
}

define <vscale x 16 x i8> @clmul_nxv16i8_sve2(<vscale x 16 x i8> %x, <vscale x 16 x i8> %y) #1 {
; CHECK-LABEL: clmul_nxv16i8_sve2:
; CHECK:       // %bb.0:
; CHECK-NEXT:    pmul z0.b, z0.b, z1.b
; CHECK-NEXT:    ret
  %a = call <vscale x 16 x i8> @llvm.clmul.nxv16i8(<vscale x 16 x i8> %x, <vscale x 16 x i8> %y)
  ret <vscale x 16 x i8> %a
}

define <vscale x 8 x i16> @clmul_nxv8i16_sve2(<vscale x 8 x i16> %x, <vscale x 8 x i16> %y) #1 {
; CHECK-LABEL: clmul_nxv8i16_sve2:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z2.h, z2.h, #0x2
; CHECK-NEXT:    and z3.h, z3.h, #0x1
; CHECK-NEXT:    and z4.h, z4.h, #0x8
; CHECK-NEXT:    and z5.h, z5.h, #0x4
; CHECK-NEXT:    and z6.h, z6.h, #0x20
; CHECK-NEXT:    mul z2.h, z0.h, z2.h
; CHECK-NEXT:    mul z3.h, z0.h, z3.h
; CHECK-NEXT:    mul z4.h, z0.h, z4.h
; CHECK-NEXT:    mul z5.h, z0.h, z5.h
; CHECK-NEXT:    mul z6.h, z0.h, z6.h
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    and z3.h, z3.h, #0x10
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.h, z0.h, z3.h
; CHECK-NEXT:    and z4.h, z4.h, #0x80
; CHECK-NEXT:    and z5.h, z5.h, #0x40
; CHECK-NEXT:    mul z4.h, z0.h, z4.h
; CHECK-NEXT:    mul z5.h, z0.h, z5.h
; CHECK-NEXT:    eor3 z2.d, z2.d, z3.d, z6.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.h, z3.h, #0x200
; CHECK-NEXT:    and z6.h, z6.h, #0x100
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.h, z0.h, z3.h
; CHECK-NEXT:    mul z6.h, z0.h, z6.h
; CHECK-NEXT:    and z4.h, z4.h, #0x800
; CHECK-NEXT:    and z5.h, z5.h, #0x400
; CHECK-NEXT:    mul z4.h, z0.h, z4.h
; CHECK-NEXT:    mul z5.h, z0.h, z5.h
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.h, z3.h, #0x2000
; CHECK-NEXT:    and z6.h, z6.h, #0x1000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    and z1.h, z1.h, #0x4000
; CHECK-NEXT:    mul z3.h, z0.h, z3.h
; CHECK-NEXT:    mul z4.h, z0.h, z6.h
; CHECK-NEXT:    and z5.h, z5.h, #0x8000
; CHECK-NEXT:    eor3 z2.d, z2.d, z4.d, z3.d
; CHECK-NEXT:    mul z3.h, z0.h, z5.h
; CHECK-NEXT:    mul z0.h, z0.h, z1.h
; CHECK-NEXT:    eor3 z2.d, z2.d, z0.d, z3.d
; CHECK-NEXT:    mov z0.d, z2.d
; CHECK-NEXT:    ret
  %a = call <vscale x 8 x i16> @llvm.clmul.nxv8i16(<vscale x 8 x i16> %x, <vscale x 8 x i16> %y)
  ret <vscale x 8 x i16> %a
}

define <vscale x 4 x i32> @clmul_nxv4i32_sve2(<vscale x 4 x i32> %x, <vscale x 4 x i32> %y) #1 {
; CHECK-LABEL: clmul_nxv4i32_sve2:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z2.s, z2.s, #0x2
; CHECK-NEXT:    and z3.s, z3.s, #0x1
; CHECK-NEXT:    and z4.s, z4.s, #0x8
; CHECK-NEXT:    and z5.s, z5.s, #0x4
; CHECK-NEXT:    and z6.s, z6.s, #0x20
; CHECK-NEXT:    mul z2.s, z0.s, z2.s
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x10
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    and z4.s, z4.s, #0x80
; CHECK-NEXT:    and z5.s, z5.s, #0x40
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z3.d, z6.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x200
; CHECK-NEXT:    and z6.s, z6.s, #0x100
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    and z4.s, z4.s, #0x800
; CHECK-NEXT:    and z5.s, z5.s, #0x400
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x2000
; CHECK-NEXT:    and z6.s, z6.s, #0x1000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    and z4.s, z4.s, #0x8000
; CHECK-NEXT:    and z5.s, z5.s, #0x4000
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x20000
; CHECK-NEXT:    and z6.s, z6.s, #0x10000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    and z4.s, z4.s, #0x80000
; CHECK-NEXT:    and z5.s, z5.s, #0x40000
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x200000
; CHECK-NEXT:    and z6.s, z6.s, #0x100000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    and z4.s, z4.s, #0x800000
; CHECK-NEXT:    and z5.s, z5.s, #0x400000
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x2000000
; CHECK-NEXT:    and z6.s, z6.s, #0x1000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z6.s, z0.s, z6.s
; CHECK-NEXT:    and z4.s, z4.s, #0x8000000
; CHECK-NEXT:    and z5.s, z5.s, #0x4000000
; CHECK-NEXT:    mul z4.s, z0.s, z4.s
; CHECK-NEXT:    mul z5.s, z0.s, z5.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.s, z3.s, #0x20000000
; CHECK-NEXT:    and z6.s, z6.s, #0x10000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    and z1.s, z1.s, #0x40000000
; CHECK-NEXT:    mul z3.s, z0.s, z3.s
; CHECK-NEXT:    mul z4.s, z0.s, z6.s
; CHECK-NEXT:    and z5.s, z5.s, #0x80000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z4.d, z3.d
; CHECK-NEXT:    mul z3.s, z0.s, z5.s
; CHECK-NEXT:    mul z0.s, z0.s, z1.s
; CHECK-NEXT:    eor3 z2.d, z2.d, z0.d, z3.d
; CHECK-NEXT:    mov z0.d, z2.d
; CHECK-NEXT:    ret
  %a = call <vscale x 4 x i32> @llvm.clmul.nxv4i32(<vscale x 4 x i32> %x, <vscale x 4 x i32> %y)
  ret <vscale x 4 x i32> %a
}

define <vscale x 2 x i64> @clmul_nxv2i64_sve2(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y) #1 {
; CHECK-LABEL: clmul_nxv2i64_sve2:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z2.d, z2.d, #0x2
; CHECK-NEXT:    and z3.d, z3.d, #0x1
; CHECK-NEXT:    and z4.d, z4.d, #0x8
; CHECK-NEXT:    and z5.d, z5.d, #0x4
; CHECK-NEXT:    and z6.d, z6.d, #0x20
; CHECK-NEXT:    mul z2.d, z0.d, z2.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x10
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80
; CHECK-NEXT:    and z5.d, z5.d, #0x40
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z3.d, z6.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200
; CHECK-NEXT:    and z6.d, z6.d, #0x100
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800
; CHECK-NEXT:    and z5.d, z5.d, #0x400
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    and z1.d, z1.d, #0x4000000000000000
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z4.d, z0.d, z6.d
; CHECK-NEXT:    and z5.d, z5.d, #0x8000000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z4.d, z3.d
; CHECK-NEXT:    mul z3.d, z0.d, z5.d
; CHECK-NEXT:    mul z0.d, z0.d, z1.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z0.d, z3.d
; CHECK-NEXT:    mov z0.d, z2.d
; CHECK-NEXT:    ret
  %a = call <vscale x 2 x i64> @llvm.clmul.nxv2i64(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y)
  ret <vscale x 2 x i64> %a
}

; TODO: lower with .d variant of pmullt/b which requires FEAT_SVE_PMULL128
define <vscale x 2 x i64> @clmul_nxv2i64_sve2_aes(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y) #2 {
; CHECK-LABEL: clmul_nxv2i64_sve2_aes:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov z2.d, z1.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z2.d, z2.d, #0x2
; CHECK-NEXT:    and z3.d, z3.d, #0x1
; CHECK-NEXT:    and z4.d, z4.d, #0x8
; CHECK-NEXT:    and z5.d, z5.d, #0x4
; CHECK-NEXT:    and z6.d, z6.d, #0x20
; CHECK-NEXT:    mul z2.d, z0.d, z2.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    eor z2.d, z3.d, z2.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x10
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80
; CHECK-NEXT:    and z5.d, z5.d, #0x40
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z3.d, z6.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200
; CHECK-NEXT:    and z6.d, z6.d, #0x100
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800
; CHECK-NEXT:    and z5.d, z5.d, #0x400
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x8000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x4000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x20000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x10000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x80000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x40000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x200000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x100000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z4.d, z1.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z6.d, z0.d, z6.d
; CHECK-NEXT:    and z4.d, z4.d, #0x800000000000000
; CHECK-NEXT:    and z5.d, z5.d, #0x400000000000000
; CHECK-NEXT:    mul z4.d, z0.d, z4.d
; CHECK-NEXT:    mul z5.d, z0.d, z5.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z6.d, z3.d
; CHECK-NEXT:    mov z3.d, z1.d
; CHECK-NEXT:    mov z6.d, z1.d
; CHECK-NEXT:    and z3.d, z3.d, #0x2000000000000000
; CHECK-NEXT:    and z6.d, z6.d, #0x1000000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z5.d, z4.d
; CHECK-NEXT:    mov z5.d, z1.d
; CHECK-NEXT:    and z1.d, z1.d, #0x4000000000000000
; CHECK-NEXT:    mul z3.d, z0.d, z3.d
; CHECK-NEXT:    mul z4.d, z0.d, z6.d
; CHECK-NEXT:    and z5.d, z5.d, #0x8000000000000000
; CHECK-NEXT:    eor3 z2.d, z2.d, z4.d, z3.d
; CHECK-NEXT:    mul z3.d, z0.d, z5.d
; CHECK-NEXT:    mul z0.d, z0.d, z1.d
; CHECK-NEXT:    eor3 z2.d, z2.d, z0.d, z3.d
; CHECK-NEXT:    mov z0.d, z2.d
; CHECK-NEXT:    ret
  %a = call <vscale x 2 x i64> @llvm.clmul.nxv2i64(<vscale x 2 x i64> %x, <vscale x 2 x i64> %y)
  ret <vscale x 2 x i64> %a
}

attributes #0 = { "target-features"="+sve" }
attributes #1 = { "target-features"="+sve2" }
attributes #2 = { "target-features"="+sve2,+sve2-aes" }
