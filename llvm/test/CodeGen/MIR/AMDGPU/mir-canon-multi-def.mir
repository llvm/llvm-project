# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py UTC_ARGS: --version 5
# RUN: llc -mtriple=amdgcn -run-pass mir-canonicalizer -mir-vreg-namer-use-stable-hash -verify-machineinstrs %s -o - | FileCheck %s

---
name: multi_def_renaming
tracksRegLiveness: true
body:             |
  bb.0:
    liveins: $vgpr3, $vgpr4_vgpr5

    ; CHECK-LABEL: name: multi_def_renaming
    ; CHECK: liveins: $vgpr3, $vgpr4_vgpr5
    ; CHECK-NEXT: {{  $}}
    ; CHECK-NEXT: %bb0_cb7ce318324a7ba8__1:vreg_64, %bb0_cb7ce318324a7ba8__2:sreg_64 = V_MAD_U64_U32_e64 $vgpr3, $vgpr3, $vgpr4_vgpr5, 0, implicit $exec
    ; CHECK-NEXT: S_NOP 0, implicit-def %bb0_ac008e8cd8069470__1, implicit-def %bb0_ac008e8cd8069470__2, implicit-def %bb0_ac008e8cd8069470__3
    ; CHECK-NEXT: %bb0_640fe5cc4c57ace5__1:vgpr_32 = COPY %bb0_cb7ce318324a7ba8__2.sub0
    ; CHECK-NEXT: S_ENDPGM 0
    %0:vreg_64, %1:sreg_64 = V_MAD_U64_U32_e64 $vgpr3, $vgpr3, $vgpr4_vgpr5, 0, implicit $exec
    S_NOP 0, implicit-def %2:vreg_256, implicit-def %3:vreg_256, implicit-def %4:vreg_256
    %5:vgpr_32 = COPY %1.sub0

    S_ENDPGM 0
...
