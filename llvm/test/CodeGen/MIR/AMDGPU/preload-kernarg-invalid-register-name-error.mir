# RUN: not llc -mtriple=amdgcn-amd-amdhsa -mcpu=gfx950 -run-pass=none -filetype=null %s 2>&1 | FileCheck %s

---
# CHECK: Invalid register name
name: kernarg_preload_invalid_register_name
tracksRegLiveness: true
machineFunctionInfo:
  explicitKernArgSize: 4
  maxKernArgAlign: 4
  numKernargPreloadSGPRs: 1
  isEntryFunction: true
  argumentInfo:
    kernargSegmentPtr: { reg: '$sgpr0_sgpr1' }
    firstKernArgPreloadReg: { reg: '$invalid_reg' }  # ERROR: Invalid register name
body: |
  bb.0:
    S_ENDPGM 0
...

