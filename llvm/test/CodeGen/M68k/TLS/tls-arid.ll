; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=m68k < %s | FileCheck %s

@tls = internal thread_local global <{ [5 x i8], [1 x i8] }> <{ [5 x i8] zeroinitializer, [1 x i8] undef }>, align 4

define i8 @tls_arid(ptr noundef nonnull %0) unnamed_addr #2 {
; CHECK-LABEL: tls_arid:
; CHECK:         .cfi_startproc
; CHECK-NEXT:  ; %bb.0: ; %start
; CHECK-NEXT:    suba.l #4, %sp
; CHECK-NEXT:    .cfi_def_cfa_offset -8
; CHECK-NEXT:    jsr __m68k_read_tp
; CHECK-NEXT:    move.b (tls@TPOFF+4,%a0), %d0
; CHECK-NEXT:    adda.l #4, %sp
; CHECK-NEXT:    rts
start:
  %1 = load i8, ptr getelementptr inbounds (i8, ptr @tls, i32 4), align 4
  ret i8 %1
}
