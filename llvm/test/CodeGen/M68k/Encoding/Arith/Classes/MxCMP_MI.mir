# RUN: llc %s -mtriple=m68k -start-after=prologepilog -O0 -filetype=obj -o - \
# RUN:   | extract-section .text \
# RUN:   | FileCheck %s -check-prefixes=CMP8KI,CMP32KI,CMP8QI,CMP32QI,CMP8FI,CMP32FI
# RUN: llc %s -mtriple=m68k -start-after=prologepilog -O0 -filetype=obj -o - \
# RUN:   | extract-section .text \
# RUN:   | FileCheck %s -check-prefixes=CMP8PI,CMP32PI,CMP8JI,CMP32JI

#------------------------------------------------------------------------------
# MxCMP_MI class used for compare operations and operates on memory data and
# immediate data. It uses MxArithImmEncoding encoding class.
# NOTE: CMP is calculated by subtracting LHS(Imm) from RHS(Mem)
#------------------------------------------------------------------------------


--- # PCI
#               -------------------------------+-------+-----------+-----------
#                F   E   D   C   B   A   9   8 | 7   6 | 5   4   3 | 2   1   0
#               -------------------------------+-------+-----------+-----------
#       OPWORD   0   0   0   0   1   1   0   0 |  SIZE |    MODE   |    REG
#               -------------------------------+-------+-----------+-----------
# CMP8KI:        0   0   0   0   1   1   0   0 . 0   0   1   1   1   0   1   1
# CMP8KI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP8KI-SAME:   0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP8KI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   1   1   0   1   1
# CMP8KI-SAME:   0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# CMP8KI-SAME:   0   0   0   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32KI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   1   0   1   1
# CMP32KI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32KI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32KI-SAME:  0   1   1   1   1   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32KI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   1   0   1   1
# CMP32KI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP32KI-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
# CMP32KI-SAME:  0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxCMP_MI_PCI
body: |
  bb.0:
    CMP8ki   0, -1, $d1, implicit-def $ccr
    CMP8ki  -1,  0, $d0, implicit-def $ccr
    CMP32ki -1,  0, $d7, implicit-def $ccr
    CMP32ki 42, -1, $d1, implicit-def $ccr

...
--- # PCD
#               -------------------------------+-------+-----------+-----------
#                F   E   D   C   B   A   9   8 | 7   6 | 5   4   3 | 2   1   0
#               -------------------------------+-------+-----------+-----------
#       OPWORD   0   0   0   0   1   1   0   0 |  SIZE |    MODE   |    REG
#               -------------------------------+-------+-----------+-----------
# CMP8QI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   1   1   0   1   0
# CMP8QI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP8QI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP8QI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   1   1   0   1   0
# CMP8QI-SAME:   0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# CMP8QI-SAME:   1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP32QI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   1   0   1   0
# CMP32QI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32QI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32QI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   1   0   1   0
# CMP32QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP32QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
# CMP32QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
name: MxCMP_MI_PCD
body: |
  bb.0:
    CMP8qi   0,  0, implicit-def $ccr
    CMP8qi  -1, -1, implicit-def $ccr
    CMP32qi -1,  0, implicit-def $ccr
    CMP32qi 42,  0, implicit-def $ccr

...
--- # ARII
#               -------------------------------+-------+-----------+-----------
#                F   E   D   C   B   A   9   8 | 7   6 | 5   4   3 | 2   1   0
#               -------------------------------+-------+-----------+-----------
#       OPWORD   0   0   0   0   1   1   0   0 |  SIZE |    MODE   |    REG
#               -------------------------------+-------+-----------+-----------
# CMP8FI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   1   0   0   0   1
# CMP8FI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP8FI-SAME:   1   0   0   0   1   0   0   0 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP8FI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   1   0   0   0   0
# CMP8FI-SAME:   0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# CMP8FI-SAME:   1   0   0   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32FI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   0   1   1   0
# CMP32FI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32FI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32FI-SAME:  1   0   0   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32FI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   1   0   0   0   1
# CMP32FI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP32FI-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
# CMP32FI-SAME:  1   0   0   0   1   0   0   0 . 1   1   1   1   1   1   1   1
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxCMP_MI_ARII
body: |
  bb.0:
    CMP8fi   0, -1, $a1, $a0, implicit-def $ccr
    CMP8fi  -1,  0, $a0, $a0, implicit-def $ccr
    CMP32fi -1,  0, $a6, $a0, implicit-def $ccr
    CMP32fi 42, -1, $a1, $a0, implicit-def $ccr

...
--- # ARID
#               -------------------------------+-------+-----------+-----------
#                F   E   D   C   B   A   9   8 | 7   6 | 5   4   3 | 2   1   0
#               -------------------------------+-------+-----------+-----------
#       OPWORD   0   0   0   0   1   1   0   0 |  SIZE |    MODE   |    REG
#               -------------------------------+-------+-----------+-----------
# CMP8PI:        0   0   0   0   1   1   0   0 . 0   0   1   0   1   0   0   1
# CMP8PI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP8PI-SAME:   1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP8PI-SAME:   0   0   0   0   1   1   0   0 . 0   0   1   0   1   0   0   0
# CMP8PI-SAME:   0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# CMP8PI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32PI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   0   1   1   1   0
# CMP32PI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32PI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
# CMP32PI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP32PI-SAME:  0   0   0   0   1   1   0   0 . 1   0   1   0   1   0   0   1
# CMP32PI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# CMP32PI-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
# CMP32PI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
name: MxCMP_MI_ARID
body: |
  bb.0:
    CMP8pi   0, -1, $a1, implicit-def $ccr
    CMP8pi  -1,  0, $a0, implicit-def $ccr
    CMP32pi -1,  0, $a6, implicit-def $ccr
    CMP32pi 42, -1, $a1, implicit-def $ccr

...
--- # ARI
#               -------------------------------+-------+-----------+-----------
#                F   E   D   C   B   A   9   8 | 7   6 | 5   4   3 | 2   1   0
#               -------------------------------+-------+-----------+-----------
#       OPWORD   0   0   0   0   1   1   0   0 |  SIZE |    MODE   |    REG
#               -------------------------------+-------+-----------+-----------
# CMP8JI-SAME:   0   0   0   0   1   1   0   0 . 0   0   0   1   0   0   0   1
# CMP8JI-SAME:   0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# CMP8JI-SAME:   0   0   0   0   1   1   0   0 . 0   0   0   1   0   0   0   0
# CMP8JI-SAME:   0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP32JI-SAME:  0   0   0   0   1   1   0   0 . 1   0   0   1   0   1   1   0
# CMP32JI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# CMP32JI-SAME:  0   0   0   0   1   1   0   0 . 1   0   0   1   0   0   0   1
# CMP32JI-SAME:  0   0   0   0   0   0   0   0 . 0   0   1   0   1   0   1   0
name: MxCMP_MI_ARI
body: |
  bb.0:
    CMP8ji   0, $a1, implicit-def $ccr
    CMP8ji  -1, $a0, implicit-def $ccr
    CMP32ji -1, $a6, implicit-def $ccr
    CMP32ji 42, $a1, implicit-def $ccr

...
