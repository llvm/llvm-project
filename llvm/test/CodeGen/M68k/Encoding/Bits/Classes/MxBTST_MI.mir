# RUN: llc %s -mtriple=m68k -start-after=prologepilog -O0 -filetype=obj -o - \
# RUN:   | extract-section .text \
# RUN:   | FileCheck %s -check-prefixes=BTST8KI,BTST8QI,BTST8FI,BTST8PI,BTST8JI

#------------------------------------------------------------------------------
# MxBTST_MI class used for BTST operations, the source is locate in memory and
# the bit number is immediate value. This instruciton can only operate on 8 bits.
#------------------------------------------------------------------------------


--- # PCI
#               ---------------------------------------+-----------+-----------
#                F   E   D   C   B   A   9   8   7   6 | 5   4   3 | 2   1   0
#               ---------------------------------------+-----------+-----------
#                0   0   0   0   1   0   0   0   0   0 |    MODE   |    REG
#               ---------------------------------------+-----------+-----------
# BTST8KI:       0   0   0   0   1   0   0   0 . 0   0   1   1   1   0   1   1
# BTST8KI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# BTST8KI-SAME:  0   0   0   1   1   0   0   0 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# BTST8KI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   1   1   0   1   1
# BTST8KI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   1
# BTST8KI-SAME:  0   0   0   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxBTST_MI_PCI
body: |
  bb.0:
    BTST8ki -1, $d1, 0, implicit-def $ccr
    BTST8ki  0, $d0, 1, implicit-def $ccr

...
--- # PCD
#               ---------------------------------------+-----------+-----------
#                F   E   D   C   B   A   9   8   7   6 | 5   4   3 | 2   1   0
#               ---------------------------------------+-----------+-----------
#                0   0   0   0   1   0   0   0   0   0 |    MODE   |    REG
#               ---------------------------------------+-----------+-----------
# BTST8QI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   1   1   0   1   0
# BTST8QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# BTST8QI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# BTST8QI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   1   1   0   1   0
# BTST8QI-SAME:  0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# BTST8QI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
name: MxBTST_MI_PCD
body: |
  bb.0:
    BTST8qi  0,  0, implicit-def $ccr
    BTST8qi -1, -1, implicit-def $ccr

...
--- # ARII
#               ---------------------------------------+-----------+-----------
#                F   E   D   C   B   A   9   8   7   6 | 5   4   3 | 2   1   0
#               ---------------------------------------+-----------+-----------
#                0   0   0   0   1   0   0   0   0   0 |    MODE   |    REG
#               ---------------------------------------+-----------+-----------
# BTST8FI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   1   0   0   0   1
# BTST8FI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# BTST8FI-SAME:  1   0   0   0   1   0   0   0 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# BTST8FI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   1   0   0   0   0
# BTST8FI-SAME:  0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# BTST8FI-SAME:  1   0   0   0   1   0   0   0 . 0   0   0   0   0   0   0   0
#               ---+-----------+---+-------+---+-------------------------------
#        BRIEF  DA |    REG    | L | SCALE | 0 |          DISPLACEMENT
#               ---+-----------+---+-------+---+-------------------------------
name: MxBTST_MI_ARII
body: |
  bb.0:
    BTST8fi -1, $a1, $a0,  0, implicit-def $ccr
    BTST8fi  0, $a0, $a0, -1, implicit-def $ccr

...
--- # ARID
#               ---------------------------------------+-----------+-----------
#                F   E   D   C   B   A   9   8   7   6 | 5   4   3 | 2   1   0
#               ---------------------------------------+-----------+-----------
#                0   0   0   0   1   0   0   0   0   0 |    MODE   |    REG
#               ---------------------------------------+-----------+-----------
# BTST8PI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   0   1   0   0   1
# BTST8PI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
# BTST8PI-SAME:  1   1   1   1   1   1   1   1 . 1   1   1   1   1   1   1   1
#               -------------------------------+-------+-----------+-----------
# BTST8PI-SAME:  0   0   0   0   1   0   0   0 . 0   0   1   0   1   0   0   0
# BTST8PI-SAME:  0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
# BTST8PI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
name: MxBTST_MI_ARID
body: |
  bb.0:
    BTST8pi -1, $a1,  0, implicit-def $ccr
    BTST8pi  0, $a0, -1, implicit-def $ccr

...
--- # ARI
#               ---------------------------------------+-----------+-----------
#                F   E   D   C   B   A   9   8   7   6 | 5   4   3 | 2   1   0
#               ---------------------------------------+-----------+-----------
#                0   0   0   0   1   0   0   0   0   0 |    MODE   |    REG
#               ---------------------------------------+-----------+-----------
# BTST8JI-SAME:  0   0   0   0   1   0   0   0 . 0   0   0   1   0   0   0   1
# BTST8JI-SAME:  0   0   0   0   0   0   0   0 . 0   0   0   0   0   0   0   0
#               -------------------------------+-------+-----------+-----------
# BTST8JI-SAME:  0   0   0   0   1   0   0   0 . 0   0   0   1   0   0   0   0
# BTST8JI-SAME:  0   0   0   0   0   0   0   0 . 1   1   1   1   1   1   1   1
name: MxBTST_MI_ARI
body: |
  bb.0:
    BTST8ji  $a1,  0, implicit-def $ccr
    BTST8ji  $a0, -1, implicit-def $ccr

...
