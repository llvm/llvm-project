; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc --mtriple=loongarch64 -mattr=+d < %s | FileCheck %s

define signext i32 @sext_icmp(i32 signext %x, i32 signext %y) {
; CHECK-LABEL: sext_icmp:
; CHECK:       # %bb.0:
; CHECK-NEXT:    addi.w $a0, $a0, 1
; CHECK-NEXT:    xor $a0, $a0, $a1
; CHECK-NEXT:    sltu $a0, $zero, $a0
; CHECK-NEXT:    ret
  %1 = add nsw i32 %x, 1
  %2 = icmp ne i32 %1, %y
  %3 = zext i1 %2 to i32
  ret i32 %3
}
