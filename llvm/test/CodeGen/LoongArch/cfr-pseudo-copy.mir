# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc --mtriple=loongarch64 --mattr=+d --stop-after=postrapseudos %s \
# RUN:     -o - | FileCheck %s

## Check the COPY instruction between CFRs.
## A pseudo (PseudoCopyCFR) is generated after postrapseudos pass.

...
---
name: test
tracksRegLiveness: true
body:             |
  bb.0.entry:
    liveins: $fcc0

    ; CHECK-LABEL: name: test
    ; CHECK: liveins: $fcc0
    ; CHECK-NEXT: {{  $}}
    ; CHECK-NEXT: $fcc1 = PseudoCopyCFR $fcc0
    ; CHECK-NEXT: $r4 = MOVCF2GR killed $fcc1
    ; CHECK-NEXT: PseudoRET implicit killed $r4
    $fcc1 = COPY $fcc0
    $r4 = COPY $fcc1
    PseudoRET implicit killed $r4

...
