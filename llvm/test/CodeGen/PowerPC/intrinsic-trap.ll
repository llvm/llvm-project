; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
; RUN: llc -verify-machineinstrs -mtriple=powerpc64le-- < %s | FileCheck %s
; RUN: llc -verify-machineinstrs -mtriple=powerpc64le-- -ppc-opt-conditional-trap \
; RUN:   < %s | FileCheck %s

define i32 @test() {
; CHECK-LABEL: test:
; CHECK:       # %bb.0:
; CHECK-NEXT:    li 3, 0
; CHECK-NEXT:    trap
; CHECK-NEXT:    blr
  call void @llvm.trap()
  ret i32 0
}

declare void @llvm.trap()
