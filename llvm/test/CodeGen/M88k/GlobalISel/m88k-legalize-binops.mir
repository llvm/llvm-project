# RUN: llc -mtriple=m88k -global-isel -run-pass=legalizer -verify-machineinstrs -o - %s | FileCheck %s
--- |
  define void @test_and_s32() { ret void }
  define void @test_or_s32() { ret void }
  define void @test_xor_s32() { ret void }
...
---
name:            test_and_s32
# CHECK-LABEL: name: test_and_s32
alignment:       4
exposesReturnsTwice: false
legalized:       false
# CHECK: legalized: true
regBankSelected: false
selected:        false
failedISel:      false
tracksRegLiveness: true
registers:
  - { id: 0, class: _, preferred-register: '' }
  - { id: 1, class: _, preferred-register: '' }
  - { id: 2, class: _, preferred-register: '' }
body:             |
  bb.1 (%ir-block.0):
    liveins: $r1, $r2, $r3

    %0:_(s32) = COPY $r2
    %1:_(s32) = COPY $r3
    %2:_(s32) = G_AND %0, %1
    ; G_AND with s32 is legal, so we should find it unchanged in the output
    ; CHECK: {{%[0-9]+}}:_(s32) = G_AND {{%[0-9]+, %[0-9]+}}
    $r2 = COPY %2(s32)
    RET implicit $r1, implicit $r2
...
---
name:            test_or_s32
# CHECK-LABEL: name: test_or_s32
alignment:       4
exposesReturnsTwice: false
legalized:       false
# CHECK: legalized: true
regBankSelected: false
selected:        false
failedISel:      false
tracksRegLiveness: true
registers:
  - { id: 0, class: _, preferred-register: '' }
  - { id: 1, class: _, preferred-register: '' }
  - { id: 2, class: _, preferred-register: '' }
body:             |
  bb.1 (%ir-block.0):
    liveins: $r1, $r2, $r3

    %0:_(s32) = COPY $r2
    %1:_(s32) = COPY $r3
    %2:_(s32) = G_OR %0, %1
    ; G_OR with s32 is legal, so we should find it unchanged in the output
    ; CHECK: {{%[0-9]+}}:_(s32) = G_OR {{%[0-9]+, %[0-9]+}}
    $r2 = COPY %2(s32)
    RET implicit $r1, implicit $r2
...
---
name:            test_xor_s32
# CHECK-LABEL: name: test_xor_s32
alignment:       4
exposesReturnsTwice: false
legalized:       false
# CHECK: legalized: true
regBankSelected: false
selected:        false
failedISel:      false
tracksRegLiveness: true
registers:
  - { id: 0, class: _, preferred-register: '' }
  - { id: 1, class: _, preferred-register: '' }
  - { id: 2, class: _, preferred-register: '' }
body:             |
  bb.1 (%ir-block.0):
    liveins: $r1, $r2, $r3

    %0:_(s32) = COPY $r2
    %1:_(s32) = COPY $r3
    %2:_(s32) = G_XOR %0, %1
    ; G_XOR with s32 is legal, so we should find it unchanged in the output
    ; CHECK: {{%[0-9]+}}:_(s32) = G_XOR {{%[0-9]+, %[0-9]+}}
    $r2 = COPY %2(s32)
    RET implicit $r1, implicit $r2
...
