# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py UTC_ARGS: --version 5
# REQUIRES: asserts
# RUN: llc -run-pass systemz-long-branch -mtriple=s390x-ibm-zos -o - %s | FileCheck %s

# Makes sure INIT_UNDEF does not crash the compiler in systemz-long-branch
---
name: func0
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: func0
    ; CHECK: renamable $r0l = INIT_UNDEF
    ; CHECK-NEXT: renamable $r3d = LGFR killed renamable $r0l
    ; CHECK-NEXT: frame-destroy Return_XPLINK implicit $r3d
    renamable $r0l = INIT_UNDEF
    renamable $r3d = LGFR killed renamable $r0l
    frame-destroy Return_XPLINK implicit $r3d
...
