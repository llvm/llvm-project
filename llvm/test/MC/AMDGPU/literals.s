// NOTE: Assertions have been autogenerated by utils/update_mc_test_checks.py UTC_ARGS: --unique --version 5
// RUN: not llvm-mc -triple=amdgcn -mcpu=tahiti -show-encoding %s | FileCheck %s --check-prefix=SICI
// RUN: not llvm-mc -triple=amdgcn -mcpu=bonaire -show-encoding %s | FileCheck %s --check-prefixes=SICI,CI
// RUN: not llvm-mc -triple=amdgcn -mcpu=tonga -show-encoding %s | FileCheck %s --check-prefix=GFX89
// RUN: not llvm-mc -triple=amdgcn -mcpu=gfx900 -show-encoding %s | FileCheck %s --check-prefixes=GFX89,GFX9

// RUN: not llvm-mc -triple=amdgcn -mcpu=tahiti %s -filetype=null 2>&1 | FileCheck %s --check-prefixes=NOGCN,NOSI,NOSICI,NOSICIVI --implicit-check-not=error:
// RUN: not llvm-mc -triple=amdgcn -mcpu=bonaire %s -filetype=null 2>&1 | FileCheck %s --check-prefixes=NOGCN,NOSICI,NOCIVI,NOSICIVI --implicit-check-not=error:
// RUN: not llvm-mc -triple=amdgcn -mcpu=tonga %s -filetype=null 2>&1 | FileCheck %s --check-prefixes=NOGCN,NOSICIVI,NOVI,NOGFX89 --implicit-check-not=error:
// RUN: not llvm-mc -triple=amdgcn -mcpu=gfx900 %s -filetype=null 2>&1 | FileCheck %s --check-prefixes=NOGCN,NOGFX89,NOGFX9 --implicit-check-not=error:

//---------------------------------------------------------------------------//
// fp literal, expected fp operand
//---------------------------------------------------------------------------//

v_fract_f64 v[0:1], 0.5
// SICI: v_fract_f64_e32 v[0:1], 0.5             ; encoding: [0xf0,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], 0.5             ; encoding: [0xf0,0x64,0x00,0x7e]

v_sqrt_f64 v[0:1], -4.0
// SICI: v_sqrt_f64_e32 v[0:1], -4.0             ; encoding: [0xf7,0x68,0x00,0x7e]
// GFX89: v_sqrt_f64_e32 v[0:1], -4.0             ; encoding: [0xf7,0x50,0x00,0x7e]

v_log_clamp_f32 v1, 0.5
// SICI: v_log_clamp_f32_e32 v1, 0.5             ; encoding: [0xf0,0x4c,0x02,0x7e]
// NOGFX89: :[[@LINE-2]]:1: error: instruction not supported on this GPU

v_trunc_f32 v0, 0.5
// SICI: v_trunc_f32_e32 v0, 0.5                 ; encoding: [0xf0,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, 0.5                 ; encoding: [0xf0,0x38,0x00,0x7e]

v_fract_f64 v[0:1], -1.0
// SICI: v_fract_f64_e32 v[0:1], -1.0            ; encoding: [0xf3,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], -1.0            ; encoding: [0xf3,0x64,0x00,0x7e]

v_trunc_f32 v0, -1.0
// SICI: v_trunc_f32_e32 v0, -1.0                ; encoding: [0xf3,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, -1.0                ; encoding: [0xf3,0x38,0x00,0x7e]

v_fract_f64 v[0:1], 4.0
// SICI: v_fract_f64_e32 v[0:1], 4.0             ; encoding: [0xf6,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], 4.0             ; encoding: [0xf6,0x64,0x00,0x7e]

v_trunc_f32 v0, 4.0
// SICI: v_trunc_f32_e32 v0, 4.0                 ; encoding: [0xf6,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, 4.0                 ; encoding: [0xf6,0x38,0x00,0x7e]

v_fract_f64 v[0:1], 0.0
// SICI: v_fract_f64_e32 v[0:1], 0               ; encoding: [0x80,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], 0               ; encoding: [0x80,0x64,0x00,0x7e]

v_trunc_f32 v0, 0.0
// SICI: v_trunc_f32_e32 v0, 0                   ; encoding: [0x80,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, 0                   ; encoding: [0x80,0x38,0x00,0x7e]

v_fract_f64 v[0:1], 1.5
// SICI: v_fract_f64_e32 v[0:1], 0x3ff80000      ; encoding: [0xff,0x7c,0x00,0x7e,0x00,0x00,0xf8,0x3f]
// GFX89: v_fract_f64_e32 v[0:1], 0x3ff80000      ; encoding: [0xff,0x64,0x00,0x7e,0x00,0x00,0xf8,0x3f]

v_trunc_f32 v0, 1.5
// SICI: v_trunc_f32_e32 v0, 0x3fc00000          ; encoding: [0xff,0x42,0x00,0x7e,0x00,0x00,0xc0,0x3f]
// GFX89: v_trunc_f32_e32 v0, 0x3fc00000          ; encoding: [0xff,0x38,0x00,0x7e,0x00,0x00,0xc0,0x3f]

v_fract_f64 v[0:1], -3.1415
// NOGCN: :[[@LINE-1]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero
// SICI: v_fract_f64_e32 v[0:1], 0xc00921ca      ; encoding: [0xff,0x7c,0x00,0x7e,0xca,0x21,0x09,0xc0]
// GFX89: v_fract_f64_e32 v[0:1], 0xc00921ca      ; encoding: [0xff,0x64,0x00,0x7e,0xca,0x21,0x09,0xc0]

v_trunc_f32 v0, -3.1415
// SICI: v_trunc_f32_e32 v0, 0xc0490e56          ; encoding: [0xff,0x42,0x00,0x7e,0x56,0x0e,0x49,0xc0]
// GFX89: v_trunc_f32_e32 v0, 0xc0490e56          ; encoding: [0xff,0x38,0x00,0x7e,0x56,0x0e,0x49,0xc0]

v_fract_f64 v[0:1], 100000000000000000000000.0
// NOGCN: :[[@LINE-1]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero
// SICI: v_fract_f64_e32 v[0:1], 0x44b52d02      ; encoding: [0xff,0x7c,0x00,0x7e,0x02,0x2d,0xb5,0x44]
// GFX89: v_fract_f64_e32 v[0:1], 0x44b52d02      ; encoding: [0xff,0x64,0x00,0x7e,0x02,0x2d,0xb5,0x44]

v_trunc_f32 v0, 100000000000000000000000.0
// SICI: v_trunc_f32_e32 v0, 0x65a96816          ; encoding: [0xff,0x42,0x00,0x7e,0x16,0x68,0xa9,0x65]
// GFX89: v_trunc_f32_e32 v0, 0x65a96816          ; encoding: [0xff,0x38,0x00,0x7e,0x16,0x68,0xa9,0x65]

v_fract_f64 v[0:1], 10000000.0
// SICI: v_fract_f64_e32 v[0:1], 0x416312d0      ; encoding: [0xff,0x7c,0x00,0x7e,0xd0,0x12,0x63,0x41]
// GFX89: v_fract_f64_e32 v[0:1], 0x416312d0      ; encoding: [0xff,0x64,0x00,0x7e,0xd0,0x12,0x63,0x41]

v_trunc_f32 v0, 10000000.0
// SICI: v_trunc_f32_e32 v0, 0x4b189680          ; encoding: [0xff,0x42,0x00,0x7e,0x80,0x96,0x18,0x4b]
// GFX89: v_trunc_f32_e32 v0, 0x4b189680          ; encoding: [0xff,0x38,0x00,0x7e,0x80,0x96,0x18,0x4b]

v_fract_f64 v[0:1], 3.402823e+38
// NOGCN: :[[@LINE-1]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero
// SICI: v_fract_f64_e32 v[0:1], 0x47efffff      ; encoding: [0xff,0x7c,0x00,0x7e,0xff,0xff,0xef,0x47]
// GFX89: v_fract_f64_e32 v[0:1], 0x47efffff      ; encoding: [0xff,0x64,0x00,0x7e,0xff,0xff,0xef,0x47]

v_trunc_f32 v0, 3.402823e+38
// SICI: v_trunc_f32_e32 v0, 0x7f7ffffd          ; encoding: [0xff,0x42,0x00,0x7e,0xfd,0xff,0x7f,0x7f]
// GFX89: v_trunc_f32_e32 v0, 0x7f7ffffd          ; encoding: [0xff,0x38,0x00,0x7e,0xfd,0xff,0x7f,0x7f]

v_fract_f64 v[0:1], 2.3509886e-38
// NOGCN: :[[@LINE-1]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero
// SICI: v_fract_f64_e32 v[0:1], 0x381fffff      ; encoding: [0xff,0x7c,0x00,0x7e,0xff,0xff,0x1f,0x38]
// GFX89: v_fract_f64_e32 v[0:1], 0x381fffff      ; encoding: [0xff,0x64,0x00,0x7e,0xff,0xff,0x1f,0x38]

v_trunc_f32 v0, 2.3509886e-38
// SICI: v_trunc_f32_e32 v0, 0xffffff            ; encoding: [0xff,0x42,0x00,0x7e,0xff,0xff,0xff,0x00]
// GFX89: v_trunc_f32_e32 v0, 0xffffff            ; encoding: [0xff,0x38,0x00,0x7e,0xff,0xff,0xff,0x00]

v_fract_f64 v[0:1], 2.3509886e-70
// NOGCN: :[[@LINE-1]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero
// SICI: v_fract_f64_e32 v[0:1], 0x3179f623      ; encoding: [0xff,0x7c,0x00,0x7e,0x23,0xf6,0x79,0x31]
// GFX89: v_fract_f64_e32 v[0:1], 0x3179f623      ; encoding: [0xff,0x64,0x00,0x7e,0x23,0xf6,0x79,0x31]

v_trunc_f32 v0, 2.3509886e-70
// NOGCN: :[[@LINE-1]]:17: error: invalid operand for instruction

//---------------------------------------------------------------------------//
// fp literal, expected int operand
//---------------------------------------------------------------------------//

s_mov_b64_e32 s[0:1], 0.5
// SICI: s_mov_b64 s[0:1], 0.5                   ; encoding: [0xf0,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], 0.5                   ; encoding: [0xf0,0x01,0x80,0xbe]

v_and_b32_e32 v0, 0.5, v1
// SICI: v_and_b32_e32 v0, 0.5, v1               ; encoding: [0xf0,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, 0.5, v1               ; encoding: [0xf0,0x02,0x00,0x26]

v_and_b32_e64 v0, 0.5, v1
// SICI: v_and_b32_e64 v0, 0.5, v1               ; encoding: [0x00,0x00,0x36,0xd2,0xf0,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, 0.5, v1               ; encoding: [0x00,0x00,0x13,0xd1,0xf0,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], -1.0
// SICI: s_mov_b64 s[0:1], -1.0                  ; encoding: [0xf3,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], -1.0                  ; encoding: [0xf3,0x01,0x80,0xbe]

v_and_b32_e32 v0, -1.0, v1
// SICI: v_and_b32_e32 v0, -1.0, v1              ; encoding: [0xf3,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, -1.0, v1              ; encoding: [0xf3,0x02,0x00,0x26]

v_and_b32_e64 v0, -1.0, v1
// SICI: v_and_b32_e64 v0, -1.0, v1              ; encoding: [0x00,0x00,0x36,0xd2,0xf3,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, -1.0, v1              ; encoding: [0x00,0x00,0x13,0xd1,0xf3,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], 4.0
// SICI: s_mov_b64 s[0:1], 4.0                   ; encoding: [0xf6,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], 4.0                   ; encoding: [0xf6,0x01,0x80,0xbe]

v_and_b32_e32 v0, 4.0, v1
// SICI: v_and_b32_e32 v0, 4.0, v1               ; encoding: [0xf6,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, 4.0, v1               ; encoding: [0xf6,0x02,0x00,0x26]

v_and_b32_e64 v0, 4.0, v1
// SICI: v_and_b32_e64 v0, 4.0, v1               ; encoding: [0x00,0x00,0x36,0xd2,0xf6,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, 4.0, v1               ; encoding: [0x00,0x00,0x13,0xd1,0xf6,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], 0.0
// SICI: s_mov_b64 s[0:1], 0                     ; encoding: [0x80,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], 0                     ; encoding: [0x80,0x01,0x80,0xbe]

v_and_b32_e32 v0, 0.0, v1
// SICI: v_and_b32_e32 v0, 0, v1                 ; encoding: [0x80,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, 0, v1                 ; encoding: [0x80,0x02,0x00,0x26]

v_and_b32_e64 v0, 0.0, v1
// SICI: v_and_b32_e64 v0, 0, v1                 ; encoding: [0x00,0x00,0x36,0xd2,0x80,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, 0, v1                 ; encoding: [0x00,0x00,0x13,0xd1,0x80,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], 1.5
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 1.5, v1
// SICI: v_and_b32_e32 v0, 0x3fc00000, v1        ; encoding: [0xff,0x02,0x00,0x36,0x00,0x00,0xc0,0x3f]
// GFX89: v_and_b32_e32 v0, 0x3fc00000, v1        ; encoding: [0xff,0x02,0x00,0x26,0x00,0x00,0xc0,0x3f]

s_mov_b64_e32 s[0:1], -3.1415
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, -3.1415, v1
// SICI: v_and_b32_e32 v0, 0xc0490e56, v1        ; encoding: [0xff,0x02,0x00,0x36,0x56,0x0e,0x49,0xc0]
// GFX89: v_and_b32_e32 v0, 0xc0490e56, v1        ; encoding: [0xff,0x02,0x00,0x26,0x56,0x0e,0x49,0xc0]

s_mov_b64_e32 s[0:1], 100000000000000000000000.0
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 100000000000000000000000.0, v1
// SICI: v_and_b32_e32 v0, 0x65a96816, v1        ; encoding: [0xff,0x02,0x00,0x36,0x16,0x68,0xa9,0x65]
// GFX89: v_and_b32_e32 v0, 0x65a96816, v1        ; encoding: [0xff,0x02,0x00,0x26,0x16,0x68,0xa9,0x65]

s_mov_b64_e32 s[0:1], 10000000.0
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 10000000.0, v1
// SICI: v_and_b32_e32 v0, 0x4b189680, v1        ; encoding: [0xff,0x02,0x00,0x36,0x80,0x96,0x18,0x4b]
// GFX89: v_and_b32_e32 v0, 0x4b189680, v1        ; encoding: [0xff,0x02,0x00,0x26,0x80,0x96,0x18,0x4b]

s_mov_b64_e32 s[0:1], 3.402823e+38
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 3.402823e+38, v1
// SICI: v_and_b32_e32 v0, 0x7f7ffffd, v1        ; encoding: [0xff,0x02,0x00,0x36,0xfd,0xff,0x7f,0x7f]
// GFX89: v_and_b32_e32 v0, 0x7f7ffffd, v1        ; encoding: [0xff,0x02,0x00,0x26,0xfd,0xff,0x7f,0x7f]

s_mov_b64_e32 s[0:1], 2.3509886e-38
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 2.3509886e-38, v1
// SICI: v_and_b32_e32 v0, 0xffffff, v1          ; encoding: [0xff,0x02,0x00,0x36,0xff,0xff,0xff,0x00]
// GFX89: v_and_b32_e32 v0, 0xffffff, v1          ; encoding: [0xff,0x02,0x00,0x26,0xff,0xff,0xff,0x00]

s_mov_b64_e32 s[0:1], 2.3509886e-70
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 2.3509886e-70, v1
// NOGCN: :[[@LINE-1]]:19: error: invalid operand for instruction

//---------------------------------------------------------------------------//
// int literal, expected fp operand
//---------------------------------------------------------------------------//

v_trunc_f32_e32 v0, 0
// SICI: v_trunc_f32_e32 v0, 0                   ; encoding: [0x80,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, 0                   ; encoding: [0x80,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], 0
// SICI: v_fract_f64_e32 v[0:1], 0               ; encoding: [0x80,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], 0               ; encoding: [0x80,0x64,0x00,0x7e]

v_trunc_f32_e64 v0, 0
// SICI: v_trunc_f32_e64 v0, 0                   ; encoding: [0x00,0x00,0x42,0xd3,0x80,0x00,0x00,0x00]
// GFX89: v_trunc_f32_e64 v0, 0                   ; encoding: [0x00,0x00,0x5c,0xd1,0x80,0x00,0x00,0x00]

v_fract_f64_e64 v[0:1], 0
// SICI: v_fract_f64_e64 v[0:1], 0               ; encoding: [0x00,0x00,0x7c,0xd3,0x80,0x00,0x00,0x00]
// GFX89: v_fract_f64_e64 v[0:1], 0               ; encoding: [0x00,0x00,0x72,0xd1,0x80,0x00,0x00,0x00]

v_trunc_f32_e32 v0, -13
// SICI: v_trunc_f32_e32 v0, -13                 ; encoding: [0xcd,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, -13                 ; encoding: [0xcd,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], -13
// SICI: v_fract_f64_e32 v[0:1], -13             ; encoding: [0xcd,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], -13             ; encoding: [0xcd,0x64,0x00,0x7e]

v_trunc_f32_e64 v0, -13
// SICI: v_trunc_f32_e64 v0, -13                 ; encoding: [0x00,0x00,0x42,0xd3,0xcd,0x00,0x00,0x00]
// GFX89: v_trunc_f32_e64 v0, -13                 ; encoding: [0x00,0x00,0x5c,0xd1,0xcd,0x00,0x00,0x00]

v_fract_f64_e64 v[0:1], -13
// SICI: v_fract_f64_e64 v[0:1], -13             ; encoding: [0x00,0x00,0x7c,0xd3,0xcd,0x00,0x00,0x00]
// GFX89: v_fract_f64_e64 v[0:1], -13             ; encoding: [0x00,0x00,0x72,0xd1,0xcd,0x00,0x00,0x00]

v_trunc_f32_e32 v0, 35
// SICI: v_trunc_f32_e32 v0, 35                  ; encoding: [0xa3,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, 35                  ; encoding: [0xa3,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], 35
// SICI: v_fract_f64_e32 v[0:1], 35              ; encoding: [0xa3,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], 35              ; encoding: [0xa3,0x64,0x00,0x7e]

v_trunc_f32_e64 v0, 35
// SICI: v_trunc_f32_e64 v0, 35                  ; encoding: [0x00,0x00,0x42,0xd3,0xa3,0x00,0x00,0x00]
// GFX89: v_trunc_f32_e64 v0, 35                  ; encoding: [0x00,0x00,0x5c,0xd1,0xa3,0x00,0x00,0x00]

v_fract_f64_e64 v[0:1], 35
// SICI: v_fract_f64_e64 v[0:1], 35              ; encoding: [0x00,0x00,0x7c,0xd3,0xa3,0x00,0x00,0x00]
// GFX89: v_fract_f64_e64 v[0:1], 35              ; encoding: [0x00,0x00,0x72,0xd1,0xa3,0x00,0x00,0x00]

v_trunc_f32_e32 v0, 1234
// SICI: v_trunc_f32_e32 v0, 0x4d2               ; encoding: [0xff,0x42,0x00,0x7e,0xd2,0x04,0x00,0x00]
// GFX89: v_trunc_f32_e32 v0, 0x4d2               ; encoding: [0xff,0x38,0x00,0x7e,0xd2,0x04,0x00,0x00]

v_fract_f64_e32 v[0:1], 1234
// SICI: v_fract_f64_e32 v[0:1], 0x4d2           ; encoding: [0xff,0x7c,0x00,0x7e,0xd2,0x04,0x00,0x00]
// GFX89: v_fract_f64_e32 v[0:1], 0x4d2           ; encoding: [0xff,0x64,0x00,0x7e,0xd2,0x04,0x00,0x00]

v_trunc_f32_e64 v0, 1234
// NOGCN: :[[@LINE-1]]:21: error: literal operands are not supported

v_fract_f64_e64 v[0:1], 1234
// NOGCN: :[[@LINE-1]]:25: error: literal operands are not supported

v_trunc_f32_e32 v0, -54321
// SICI: v_trunc_f32_e32 v0, 0xffff2bcf          ; encoding: [0xff,0x42,0x00,0x7e,0xcf,0x2b,0xff,0xff]
// GFX89: v_trunc_f32_e32 v0, 0xffff2bcf          ; encoding: [0xff,0x38,0x00,0x7e,0xcf,0x2b,0xff,0xff]

v_fract_f64_e32 v[0:1], -54321
// SICI: v_fract_f64_e32 v[0:1], 0xffff2bcf      ; encoding: [0xff,0x7c,0x00,0x7e,0xcf,0x2b,0xff,0xff]
// GFX89: v_fract_f64_e32 v[0:1], 0xffff2bcf      ; encoding: [0xff,0x64,0x00,0x7e,0xcf,0x2b,0xff,0xff]

v_trunc_f32_e32 v0, 0xdeadbeef
// SICI: v_trunc_f32_e32 v0, 0xdeadbeef          ; encoding: [0xff,0x42,0x00,0x7e,0xef,0xbe,0xad,0xde]
// GFX89: v_trunc_f32_e32 v0, 0xdeadbeef          ; encoding: [0xff,0x38,0x00,0x7e,0xef,0xbe,0xad,0xde]

v_fract_f64_e32 v[0:1], 0xdeadbeef
// SICI: v_fract_f64_e32 v[0:1], 0xdeadbeef      ; encoding: [0xff,0x7c,0x00,0x7e,0xef,0xbe,0xad,0xde]
// GFX89: v_fract_f64_e32 v[0:1], 0xdeadbeef      ; encoding: [0xff,0x64,0x00,0x7e,0xef,0xbe,0xad,0xde]

v_trunc_f32_e32 v0, 0xffffffff
// SICI: v_trunc_f32_e32 v0, -1                  ; encoding: [0xc1,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, -1                  ; encoding: [0xc1,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], 0xffffffff
// SICI: v_fract_f64_e32 v[0:1], 0xffffffff      ; encoding: [0xff,0x7c,0x00,0x7e,0xff,0xff,0xff,0xff]
// GFX89: v_fract_f64_e32 v[0:1], 0xffffffff      ; encoding: [0xff,0x64,0x00,0x7e,0xff,0xff,0xff,0xff]

v_trunc_f32_e32 v0, 0x123456789abcdef0
// NOGCN: :[[@LINE-1]]:21: error: invalid operand for instruction

v_fract_f64_e32 v[0:1], 0x123456789abcdef0
// NOGCN: :[[@LINE-1]]:25: error: invalid operand for instruction

v_trunc_f32_e32 v0, 0xffffffffffffffff
// SICI: v_trunc_f32_e32 v0, -1                  ; encoding: [0xc1,0x42,0x00,0x7e]
// GFX89: v_trunc_f32_e32 v0, -1                  ; encoding: [0xc1,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], 0xffffffffffffffff
// SICI: v_fract_f64_e32 v[0:1], -1              ; encoding: [0xc1,0x7c,0x00,0x7e]
// GFX89: v_fract_f64_e32 v[0:1], -1              ; encoding: [0xc1,0x64,0x00,0x7e]

//---------------------------------------------------------------------------//
// int literal, expected int operand
//---------------------------------------------------------------------------//

s_mov_b64_e32 s[0:1], 0
// SICI: s_mov_b64 s[0:1], 0                     ; encoding: [0x80,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], 0                     ; encoding: [0x80,0x01,0x80,0xbe]

v_and_b32_e32 v0, 0, v1
// SICI: v_and_b32_e32 v0, 0, v1                 ; encoding: [0x80,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, 0, v1                 ; encoding: [0x80,0x02,0x00,0x26]

v_and_b32_e64 v0, 0, v1
// SICI: v_and_b32_e64 v0, 0, v1                 ; encoding: [0x00,0x00,0x36,0xd2,0x80,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, 0, v1                 ; encoding: [0x00,0x00,0x13,0xd1,0x80,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], -13
// SICI: s_mov_b64 s[0:1], -13                   ; encoding: [0xcd,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], -13                   ; encoding: [0xcd,0x01,0x80,0xbe]

v_and_b32_e32 v0, -13, v1
// SICI: v_and_b32_e32 v0, -13, v1               ; encoding: [0xcd,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, -13, v1               ; encoding: [0xcd,0x02,0x00,0x26]

v_and_b32_e64 v0, -13, v1
// SICI: v_and_b32_e64 v0, -13, v1               ; encoding: [0x00,0x00,0x36,0xd2,0xcd,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, -13, v1               ; encoding: [0x00,0x00,0x13,0xd1,0xcd,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], 35
// SICI: s_mov_b64 s[0:1], 35                    ; encoding: [0xa3,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], 35                    ; encoding: [0xa3,0x01,0x80,0xbe]

v_and_b32_e32 v0, 35, v1
// SICI: v_and_b32_e32 v0, 35, v1                ; encoding: [0xa3,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, 35, v1                ; encoding: [0xa3,0x02,0x00,0x26]

v_and_b32_e64 v0, 35, v1
// SICI: v_and_b32_e64 v0, 35, v1                ; encoding: [0x00,0x00,0x36,0xd2,0xa3,0x02,0x02,0x00]
// GFX89: v_and_b32_e64 v0, 35, v1                ; encoding: [0x00,0x00,0x13,0xd1,0xa3,0x02,0x02,0x00]

s_mov_b64_e32 s[0:1], 1234
// SICI: s_mov_b64 s[0:1], 0x4d2                 ; encoding: [0xff,0x04,0x80,0xbe,0xd2,0x04,0x00,0x00]
// GFX89: s_mov_b64 s[0:1], 0x4d2                 ; encoding: [0xff,0x01,0x80,0xbe,0xd2,0x04,0x00,0x00]

v_and_b32_e32 v0, 1234, v1
// SICI: v_and_b32_e32 v0, 0x4d2, v1             ; encoding: [0xff,0x02,0x00,0x36,0xd2,0x04,0x00,0x00]
// GFX89: v_and_b32_e32 v0, 0x4d2, v1             ; encoding: [0xff,0x02,0x00,0x26,0xd2,0x04,0x00,0x00]

v_and_b32_e64 v0, 1234, v1
// NOGCN: :[[@LINE-1]]:19: error: literal operands are not supported

s_mov_b64_e32 s[0:1], -54321
// SICI: s_mov_b64 s[0:1], 0xffff2bcf            ; encoding: [0xff,0x04,0x80,0xbe,0xcf,0x2b,0xff,0xff]
// GFX89: s_mov_b64 s[0:1], 0xffff2bcf            ; encoding: [0xff,0x01,0x80,0xbe,0xcf,0x2b,0xff,0xff]

v_and_b32_e32 v0, -54321, v1
// SICI: v_and_b32_e32 v0, 0xffff2bcf, v1        ; encoding: [0xff,0x02,0x00,0x36,0xcf,0x2b,0xff,0xff]
// GFX89: v_and_b32_e32 v0, 0xffff2bcf, v1        ; encoding: [0xff,0x02,0x00,0x26,0xcf,0x2b,0xff,0xff]

s_mov_b64_e32 s[0:1], 0xdeadbeef
// SICI: s_mov_b64 s[0:1], 0xdeadbeef            ; encoding: [0xff,0x04,0x80,0xbe,0xef,0xbe,0xad,0xde]
// GFX89: s_mov_b64 s[0:1], 0xdeadbeef            ; encoding: [0xff,0x01,0x80,0xbe,0xef,0xbe,0xad,0xde]

v_and_b32_e32 v0, 0xdeadbeef, v1
// SICI: v_and_b32_e32 v0, 0xdeadbeef, v1        ; encoding: [0xff,0x02,0x00,0x36,0xef,0xbe,0xad,0xde]
// GFX89: v_and_b32_e32 v0, 0xdeadbeef, v1        ; encoding: [0xff,0x02,0x00,0x26,0xef,0xbe,0xad,0xde]

s_mov_b64_e32 s[0:1], 0xffffffff
// SICI: s_mov_b64 s[0:1], 0xffffffff            ; encoding: [0xff,0x04,0x80,0xbe,0xff,0xff,0xff,0xff]
// GFX89: s_mov_b64 s[0:1], 0xffffffff            ; encoding: [0xff,0x01,0x80,0xbe,0xff,0xff,0xff,0xff]

v_and_b32_e32 v0, 0xffffffff, v1
// SICI: v_and_b32_e32 v0, -1, v1                ; encoding: [0xc1,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, -1, v1                ; encoding: [0xc1,0x02,0x00,0x26]

s_mov_b64_e32 s[0:1], 0x123456789abcdef0
// NOGCN: :[[@LINE-1]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 0x123456789abcdef0, v1
// NOGCN: :[[@LINE-1]]:19: error: invalid operand for instruction

s_mov_b64_e32 s[0:1], 0xffffffffffffffff
// SICI: s_mov_b64 s[0:1], -1                    ; encoding: [0xc1,0x04,0x80,0xbe]
// GFX89: s_mov_b64 s[0:1], -1                    ; encoding: [0xc1,0x01,0x80,0xbe]

v_and_b32_e32 v0, 0xffffffffffffffff, v1
// SICI: v_and_b32_e32 v0, -1, v1                ; encoding: [0xc1,0x02,0x00,0x36]
// GFX89: v_and_b32_e32 v0, -1, v1                ; encoding: [0xc1,0x02,0x00,0x26]

//---------------------------------------------------------------------------//
// 1/(2*PI)
//---------------------------------------------------------------------------//

v_trunc_f32_e32 v0, 0x3fc45f306dc9c882
// NOGCN: :[[@LINE-1]]:21: error: invalid operand for instruction

v_fract_f64_e32 v[0:1], 0x3fc45f306dc9c882
// GFX89: v_fract_f64_e32 v[0:1], 0.15915494309189532 ; encoding: [0xf8,0x64,0x00,0x7e]
// NOSICI: :[[@LINE-2]]:25: error: invalid operand for instruction

v_trunc_f32_e32 v0, 0x3e22f983
// SICI: v_trunc_f32_e32 v0, 0x3e22f983          ; encoding: [0xff,0x42,0x00,0x7e,0x83,0xf9,0x22,0x3e]
// GFX89: v_trunc_f32_e32 v0, 0.15915494          ; encoding: [0xf8,0x38,0x00,0x7e]

v_fract_f64_e32 v[0:1], 0x3e22f983
// SICI: v_fract_f64_e32 v[0:1], 0x3e22f983      ; encoding: [0xff,0x7c,0x00,0x7e,0x83,0xf9,0x22,0x3e]
// GFX89: v_fract_f64_e32 v[0:1], 0x3e22f983      ; encoding: [0xff,0x64,0x00,0x7e,0x83,0xf9,0x22,0x3e]

v_trunc_f32_e64 v0, 0x3fc45f306dc9c882
// NOGCN: :[[@LINE-1]]:21: error: invalid operand for instruction

v_fract_f64_e64 v[0:1], 0x3fc45f306dc9c882
// GFX89: v_fract_f64_e64 v[0:1], 0.15915494309189532 ; encoding: [0x00,0x00,0x72,0xd1,0xf8,0x00,0x00,0x00]
// NOSICI: :[[@LINE-2]]:25: error: invalid operand for instruction

v_trunc_f32_e64 v0, 0x3e22f983
// GFX89: v_trunc_f32_e64 v0, 0.15915494          ; encoding: [0x00,0x00,0x5c,0xd1,0xf8,0x00,0x00,0x00]
// NOSICI: :[[@LINE-2]]:21: error: literal operands are not supported

v_fract_f64_e64 v[0:1], 0x3e22f983
// NOGCN: :[[@LINE-1]]:25: error: literal operands are not supported

s_mov_b64_e32 s[0:1], 0.159154943091895317852646485335
// GFX89: s_mov_b64 s[0:1], 0.15915494309189532   ; encoding: [0xf8,0x01,0x80,0xbe]
// NOSICI: :[[@LINE-2]]:23: error: invalid operand for instruction

v_and_b32_e32 v0, 0.159154943091895317852646485335, v1
// SICI: v_and_b32_e32 v0, 0x3e22f983, v1        ; encoding: [0xff,0x02,0x00,0x36,0x83,0xf9,0x22,0x3e]
// GFX89: v_and_b32_e32 v0, 0.15915494, v1        ; encoding: [0xf8,0x02,0x00,0x26]

v_and_b32_e64 v0, 0.159154943091895317852646485335, v1
// GFX89: v_and_b32_e64 v0, 0.15915494, v1        ; encoding: [0x00,0x00,0x13,0xd1,0xf8,0x02,0x02,0x00]
// NOSICI: :[[@LINE-2]]:19: error: literal operands are not supported

v_fract_f64 v[0:1], 0.159154943091895317852646485335
// SICI: v_fract_f64_e32 v[0:1], 0x3fc45f30      ; encoding: [0xff,0x7c,0x00,0x7e,0x30,0x5f,0xc4,0x3f]
// GFX89: v_fract_f64_e32 v[0:1], 0.15915494309189532 ; encoding: [0xf8,0x64,0x00,0x7e]
// NOSICI: :[[@LINE-3]]:1: warning: Can't encode literal as exact 64-bit floating-point operand. Low 32-bits will be set to zero

v_trunc_f32 v0, 0.159154943091895317852646485335
// SICI: v_trunc_f32_e32 v0, 0x3e22f983          ; encoding: [0xff,0x42,0x00,0x7e,0x83,0xf9,0x22,0x3e]
// GFX89: v_trunc_f32_e32 v0, 0.15915494          ; encoding: [0xf8,0x38,0x00,0x7e]

//---------------------------------------------------------------------------//
// integer literal truncation checks
//---------------------------------------------------------------------------//

s_mov_b32 s0, 0x101ffffffff
// NOGCN: :[[@LINE-1]]:15: error: invalid operand for instruction

s_mov_b32 s0, 0x1000000001
// NOGCN: :[[@LINE-1]]:15: error: invalid operand for instruction

s_mov_b32 s0, 0x1000000fff
// NOGCN: :[[@LINE-1]]:15: error: invalid operand for instruction

v_trunc_f32 v0, 0x1fffffffff0
// NOGCN: :[[@LINE-1]]:17: error: invalid operand for instruction

v_trunc_f32 v0, 0x100000001
// NOGCN: :[[@LINE-1]]:17: error: invalid operand for instruction

v_trunc_f32 v0, 0x1fffffff000
// NOGCN: :[[@LINE-1]]:17: error: invalid operand for instruction

s_mov_b64 s[0:1], 0x101ffffffff
// NOGCN: :[[@LINE-1]]:19: error: invalid operand for instruction

s_mov_b64 s[0:1], 0x1000000001
// NOGCN: :[[@LINE-1]]:19: error: invalid operand for instruction

s_mov_b64 s[0:1], 0x1000000fff
// NOGCN: :[[@LINE-1]]:19: error: invalid operand for instruction

v_trunc_f64 v[0:1], 0x1fffffffff0
// NOGFX89: :[[@LINE-1]]:21: error: invalid operand for instruction
// NOSI: :[[@LINE-2]]:1: error: instruction not supported on this GPU
// NOCIVI: :[[@LINE-3]]:21: error: invalid operand for instruction

v_trunc_f64 v[0:1], 0x100000001
// NOGFX89: :[[@LINE-1]]:21: error: invalid operand for instruction
// NOSI: :[[@LINE-2]]:1: error: instruction not supported on this GPU
// NOCIVI: :[[@LINE-3]]:21: error: invalid operand for instruction

v_trunc_f64 v[0:1], 0x1fffffff000
// NOGFX89: :[[@LINE-1]]:21: error: invalid operand for instruction
// NOSI: :[[@LINE-2]]:1: error: instruction not supported on this GPU
// NOCIVI: :[[@LINE-3]]:21: error: invalid operand for instruction

//---------------------------------------------------------------------------//
// named inline values: scc, vccz, execz
//---------------------------------------------------------------------------//

buffer_atomic_add v0, off, s[0:3], scc offset:4095
// SICI: buffer_atomic_add v0, off, s[0:3], src_scc offset:4095 ; encoding: [0xff,0x0f,0xc8,0xe0,0x00,0x00,0x00,0xfd]
// GFX89: buffer_atomic_add v0, off, s[0:3], src_scc offset:4095 ; encoding: [0xff,0x0f,0x08,0xe1,0x00,0x00,0x00,0xfd]

s_add_i32 s0, vccz, s0
// SICI: s_add_i32 s0, src_vccz, s0              ; encoding: [0xfb,0x00,0x00,0x81]
// GFX89: s_add_i32 s0, src_vccz, s0              ; encoding: [0xfb,0x00,0x00,0x81]

s_add_i32 s0, execz, s0
// SICI: s_add_i32 s0, src_execz, s0             ; encoding: [0xfc,0x00,0x00,0x81]
// GFX89: s_add_i32 s0, src_execz, s0             ; encoding: [0xfc,0x00,0x00,0x81]

s_add_i32 s0, scc, s0
// SICI: s_add_i32 s0, src_scc, s0               ; encoding: [0xfd,0x00,0x00,0x81]
// GFX89: s_add_i32 s0, src_scc, s0               ; encoding: [0xfd,0x00,0x00,0x81]

s_and_b64 s[0:1], s[0:1], src_vccz
// SICI: s_and_b64 s[0:1], s[0:1], src_vccz      ; encoding: [0x00,0xfb,0x80,0x87]
// GFX89: s_and_b64 s[0:1], s[0:1], src_vccz      ; encoding: [0x00,0xfb,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_execz
// SICI: s_and_b64 s[0:1], s[0:1], src_execz     ; encoding: [0x00,0xfc,0x80,0x87]
// GFX89: s_and_b64 s[0:1], s[0:1], src_execz     ; encoding: [0x00,0xfc,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_scc
// SICI: s_and_b64 s[0:1], s[0:1], src_scc       ; encoding: [0x00,0xfd,0x80,0x87]
// GFX89: s_and_b64 s[0:1], s[0:1], src_scc       ; encoding: [0x00,0xfd,0x80,0x86]

v_add_u16 v0, vccz, v0
// GFX89: v_add_u16_e32 v0, src_vccz, v0          ; encoding: [0xfb,0x00,0x00,0x4c]
// NOSICI: :[[@LINE-2]]:1: error: instruction not supported on this GPU

v_add_u16_sdwa v0, scc, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u16_sdwa v0, src_scc, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD ; encoding: [0xf9,0x00,0x00,0x4c,0xfd,0x06,0x86,0x06]
// NOVI: :[[@LINE-3]]:20: error: invalid operand for instruction

v_add_u16_sdwa v0, v0, scc dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u16_sdwa v0, v0, src_scc dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD ; encoding: [0xf9,0xfa,0x01,0x4c,0x00,0x06,0x06,0x86]
// NOVI: :[[@LINE-3]]:24: error: invalid operand for instruction

v_add_u32 v0, execz, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u32_e32 v0, src_execz, v0         ; encoding: [0xfc,0x00,0x00,0x68]
// NOVI: :[[@LINE-3]]:1: error: operands are not valid for this GPU or mode

v_add_u32_e64 v0, scc, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u32_e64 v0, src_scc, v0           ; encoding: [0x00,0x00,0x34,0xd1,0xfd,0x00,0x02,0x00]
// NOVI: :[[@LINE-3]]:1: error: operands are not valid for this GPU or mode

v_cmp_eq_i64 vcc, scc, v[0:1]
// SICI: v_cmp_eq_i64_e32 vcc, src_scc, v[0:1]   ; encoding: [0xfd,0x00,0x44,0x7d]
// GFX89: v_cmp_eq_i64_e32 vcc, src_scc, v[0:1]   ; encoding: [0xfd,0x00,0xc4,0x7d]

v_max_f16 v0, execz, v0
// GFX89: v_max_f16_e32 v0, src_execz, v0         ; encoding: [0xfc,0x00,0x00,0x5a]
// NOSICI: :[[@LINE-2]]:1: error: instruction not supported on this GPU

v_max_f32 v0, vccz, v0
// SICI: v_max_f32_e32 v0, src_vccz, v0          ; encoding: [0xfb,0x00,0x00,0x20]
// GFX89: v_max_f32_e32 v0, src_vccz, v0          ; encoding: [0xfb,0x00,0x00,0x16]

v_max_f64 v[0:1], scc, v[0:1]
// SICI: v_max_f64 v[0:1], src_scc, v[0:1]       ; encoding: [0x00,0x00,0xce,0xd2,0xfd,0x00,0x02,0x00]
// GFX89: v_max_f64 v[0:1], src_scc, v[0:1]       ; encoding: [0x00,0x00,0x83,0xd2,0xfd,0x00,0x02,0x00]

v_pk_add_f16 v0, execz, v0
// NOSICIVI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_pk_add_f16 v0, src_execz, v0          ; encoding: [0x00,0x40,0x8f,0xd3,0xfc,0x00,0x02,0x18]

v_ceil_f16 v0, neg(vccz)
// GFX89: v_ceil_f16_e64 v0, -src_vccz            ; encoding: [0x00,0x00,0x85,0xd1,0xfb,0x00,0x00,0x20]
// NOSICI: :[[@LINE-2]]:1: error: instruction not supported on this GPU

v_ceil_f16 v0, abs(scc)
// GFX89: v_ceil_f16_e64 v0, |src_scc|            ; encoding: [0x00,0x01,0x85,0xd1,0xfd,0x00,0x00,0x00]
// NOSICI: :[[@LINE-2]]:1: error: instruction not supported on this GPU

v_ceil_f64 v[5:6], |execz|
// GFX89: v_ceil_f64_e64 v[5:6], |src_execz|      ; encoding: [0x05,0x01,0x58,0xd1,0xfc,0x00,0x00,0x00]
// CI: v_ceil_f64_e64 v[5:6], |src_execz|      ; encoding: [0x05,0x01,0x30,0xd3,0xfc,0x00,0x00,0x00]
// NOSI: :[[@LINE-3]]:1: error: instruction not supported on this GPU

v_ceil_f64 v[5:6], -vcc
// GFX89: v_ceil_f64_e64 v[5:6], -vcc             ; encoding: [0x05,0x00,0x58,0xd1,0x6a,0x00,0x00,0x20]
// CI: v_ceil_f64_e64 v[5:6], -vcc             ; encoding: [0x05,0x00,0x30,0xd3,0x6a,0x00,0x00,0x20]
// NOSI: :[[@LINE-3]]:1: error: instruction not supported on this GPU

v_ceil_f32 v0, -vccz
// SICI: v_ceil_f32_e64 v0, -src_vccz            ; encoding: [0x00,0x00,0x44,0xd3,0xfb,0x00,0x00,0x20]
// GFX89: v_ceil_f32_e64 v0, -src_vccz            ; encoding: [0x00,0x00,0x5d,0xd1,0xfb,0x00,0x00,0x20]

v_ceil_f32 v0, |execz|
// SICI: v_ceil_f32_e64 v0, |src_execz|          ; encoding: [0x00,0x01,0x44,0xd3,0xfc,0x00,0x00,0x00]
// GFX89: v_ceil_f32_e64 v0, |src_execz|          ; encoding: [0x00,0x01,0x5d,0xd1,0xfc,0x00,0x00,0x00]

v_ceil_f16_sdwa v5, |vccz| dst_sel:DWORD dst_unused:UNUSED_PRESERVE
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_sdwa v5, |src_vccz| dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x8a,0x0a,0x7e,0xfb,0x16,0xa6,0x00]
// NOVI: :[[@LINE-3]]:22: error: invalid operand for instruction

v_ceil_f16_sdwa v5, -scc dst_sel:DWORD dst_unused:UNUSED_PRESERVE
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_sdwa v5, -src_scc dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x8a,0x0a,0x7e,0xfd,0x16,0x96,0x00]
// NOVI: :[[@LINE-3]]:22: error: invalid operand for instruction

v_ceil_f32_sdwa v5, vccz dst_sel:DWORD src0_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: sdwa variant of this instruction is not supported
// GFX9: v_ceil_f32_sdwa v5, src_vccz dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x3a,0x0a,0x7e,0xfb,0x16,0x86,0x00]
// NOVI: :[[@LINE-3]]:21: error: invalid operand for instruction

v_ceil_f32_sdwa v5, |execz| dst_sel:DWORD src0_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: sdwa variant of this instruction is not supported
// GFX9: v_ceil_f32_sdwa v5, |src_execz| dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x3a,0x0a,0x7e,0xfc,0x16,0xa6,0x00]
// NOVI: :[[@LINE-3]]:22: error: invalid operand for instruction

//---------------------------------------------------------------------------//
// named inline values: shared_base, shared_limit, private_base, etc
//---------------------------------------------------------------------------//

buffer_atomic_add v0, off, s[0:3], src_shared_base offset:4095
// NOSICIVI: :[[@LINE-1]]:36: error: src_shared_base register not available on this GPU
// GFX9: buffer_atomic_add v0, off, s[0:3], src_shared_base offset:4095 ; encoding: [0xff,0x0f,0x08,0xe1,0x00,0x00,0x00,0xeb]

s_add_i32 s0, src_shared_base, s0
// NOSICIVI: :[[@LINE-1]]:15: error: src_shared_base register not available on this GPU
// GFX9: s_add_i32 s0, src_shared_base, s0       ; encoding: [0xeb,0x00,0x00,0x81]

s_add_i32 s0, src_shared_limit, s0
// NOSICIVI: :[[@LINE-1]]:15: error: src_shared_limit register not available on this GPU
// GFX9: s_add_i32 s0, src_shared_limit, s0      ; encoding: [0xec,0x00,0x00,0x81]

s_add_i32 s0, src_private_base, s0
// NOSICIVI: :[[@LINE-1]]:15: error: src_private_base register not available on this GPU
// GFX9: s_add_i32 s0, src_private_base, s0      ; encoding: [0xed,0x00,0x00,0x81]

s_add_i32 s0, src_private_limit, s0
// NOSICIVI: :[[@LINE-1]]:15: error: src_private_limit register not available on this GPU
// GFX9: s_add_i32 s0, src_private_limit, s0     ; encoding: [0xee,0x00,0x00,0x81]

s_add_i32 s0, src_pops_exiting_wave_id, s0
// NOSICIVI: :[[@LINE-1]]:15: error: src_pops_exiting_wave_id register not available on this GPU
// GFX9: s_add_i32 s0, src_pops_exiting_wave_id, s0 ; encoding: [0xef,0x00,0x00,0x81]

s_and_b64 s[0:1], s[0:1], src_shared_base
// NOSICIVI: :[[@LINE-1]]:27: error: src_shared_base register not available on this GPU
// GFX9: s_and_b64 s[0:1], s[0:1], src_shared_base ; encoding: [0x00,0xeb,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_shared_limit
// NOSICIVI: :[[@LINE-1]]:27: error: src_shared_limit register not available on this GPU
// GFX9: s_and_b64 s[0:1], s[0:1], src_shared_limit ; encoding: [0x00,0xec,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_private_base
// NOSICIVI: :[[@LINE-1]]:27: error: src_private_base register not available on this GPU
// GFX9: s_and_b64 s[0:1], s[0:1], src_private_base ; encoding: [0x00,0xed,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_private_limit
// NOSICIVI: :[[@LINE-1]]:27: error: src_private_limit register not available on this GPU
// GFX9: s_and_b64 s[0:1], s[0:1], src_private_limit ; encoding: [0x00,0xee,0x80,0x86]

s_and_b64 s[0:1], s[0:1], src_pops_exiting_wave_id
// NOSICIVI: :[[@LINE-1]]:27: error: src_pops_exiting_wave_id register not available on this GPU
// GFX9: s_and_b64 s[0:1], s[0:1], src_pops_exiting_wave_id ; encoding: [0x00,0xef,0x80,0x86]

v_add_u16 v0, src_shared_base, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u16_e32 v0, src_shared_base, v0   ; encoding: [0xeb,0x00,0x00,0x4c]
// NOVI: :[[@LINE-3]]:15: error: src_shared_base register not available on this GPU

v_add_u16_sdwa v0, src_shared_base, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u16_sdwa v0, src_shared_base, v0 dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD ; encoding: [0xf9,0x00,0x00,0x4c,0xeb,0x06,0x86,0x06]
// NOVI: :[[@LINE-3]]:20: error: src_shared_base register not available on this GPU

v_add_u16_sdwa v0, v0, src_shared_base dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u16_sdwa v0, v0, src_shared_base dst_sel:DWORD dst_unused:UNUSED_PAD src0_sel:DWORD src1_sel:DWORD ; encoding: [0xf9,0xd6,0x01,0x4c,0x00,0x06,0x06,0x86]
// NOVI: :[[@LINE-3]]:24: error: src_shared_base register not available on this GPU

v_add_u32 v0, src_shared_base, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u32_e32 v0, src_shared_base, v0   ; encoding: [0xeb,0x00,0x00,0x68]
// NOVI: :[[@LINE-3]]:15: error: src_shared_base register not available on this GPU

v_add_u32_e64 v0, src_shared_base, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_add_u32_e64 v0, src_shared_base, v0   ; encoding: [0x00,0x00,0x34,0xd1,0xeb,0x00,0x02,0x00]
// NOVI: :[[@LINE-3]]:19: error: src_shared_base register not available on this GPU

v_cmp_eq_i64 vcc, src_shared_base, v[0:1]
// NOSICIVI: :[[@LINE-1]]:19: error: src_shared_base register not available on this GPU
// GFX9: v_cmp_eq_i64_e32 vcc, src_shared_base, v[0:1] ; encoding: [0xeb,0x00,0xc4,0x7d]

v_max_f16 v0, src_shared_base, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_max_f16_e32 v0, src_shared_base, v0   ; encoding: [0xeb,0x00,0x00,0x5a]
// NOVI: :[[@LINE-3]]:15: error: src_shared_base register not available on this GPU

v_max_f32 v0, src_shared_base, v0
// NOSICIVI: :[[@LINE-1]]:15: error: src_shared_base register not available on this GPU
// GFX9: v_max_f32_e32 v0, src_shared_base, v0   ; encoding: [0xeb,0x00,0x00,0x16]

v_max_f64 v[0:1], src_shared_base, v[0:1]
// NOSICIVI: :[[@LINE-1]]:19: error: src_shared_base register not available on this GPU
// GFX9: v_max_f64 v[0:1], src_shared_base, v[0:1] ; encoding: [0x00,0x00,0x83,0xd2,0xeb,0x00,0x02,0x00]

v_pk_add_f16 v0, src_shared_base, v0
// NOSICIVI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_pk_add_f16 v0, src_shared_base, v0    ; encoding: [0x00,0x40,0x8f,0xd3,0xeb,0x00,0x02,0x18]

v_ceil_f16 v0, neg(src_shared_base)
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_e64 v0, -src_shared_base     ; encoding: [0x00,0x00,0x85,0xd1,0xeb,0x00,0x00,0x20]
// NOVI: :[[@LINE-3]]:20: error: src_shared_base register not available on this GPU

v_ceil_f16 v0, abs(src_shared_base)
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_e64 v0, |src_shared_base|    ; encoding: [0x00,0x01,0x85,0xd1,0xeb,0x00,0x00,0x00]
// NOVI: :[[@LINE-3]]:20: error: src_shared_base register not available on this GPU

v_ceil_f64 v[5:6], |src_shared_base|
// GFX9: v_ceil_f64_e64 v[5:6], |src_shared_base| ; encoding: [0x05,0x01,0x58,0xd1,0xeb,0x00,0x00,0x00]
// NOSI: :[[@LINE-2]]:1: error: instruction not supported on this GPU
// NOCIVI: :[[@LINE-3]]:21: error: src_shared_base register not available on this GPU
// NOVI: :[[@LINE-4]]:21: error: src_shared_base register not available on this GPU

v_ceil_f64 v[5:6], -src_shared_base
// GFX9: v_ceil_f64_e64 v[5:6], -src_shared_base ; encoding: [0x05,0x00,0x58,0xd1,0xeb,0x00,0x00,0x20]
// NOSI: :[[@LINE-2]]:1: error: instruction not supported on this GPU
// NOCIVI: :[[@LINE-3]]:21: error: src_shared_base register not available on this GPU
// NOVI: :[[@LINE-4]]:21: error: src_shared_base register not available on this GPU

v_ceil_f32 v0, -src_shared_base
// NOSICIVI: :[[@LINE-1]]:17: error: src_shared_base register not available on this GPU
// GFX9: v_ceil_f32_e64 v0, -src_shared_base     ; encoding: [0x00,0x00,0x5d,0xd1,0xeb,0x00,0x00,0x20]

v_ceil_f32 v0, |src_shared_base|
// NOSICIVI: :[[@LINE-1]]:17: error: src_shared_base register not available on this GPU
// GFX9: v_ceil_f32_e64 v0, |src_shared_base|    ; encoding: [0x00,0x01,0x5d,0xd1,0xeb,0x00,0x00,0x00]

v_ceil_f16_sdwa v5, |src_shared_base| dst_sel:DWORD dst_unused:UNUSED_PRESERVE
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_sdwa v5, |src_shared_base| dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x8a,0x0a,0x7e,0xeb,0x16,0xa6,0x00]
// NOVI: :[[@LINE-3]]:22: error: src_shared_base register not available on this GPU

v_ceil_f16_sdwa v5, -src_shared_base dst_sel:DWORD dst_unused:UNUSED_PRESERVE
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// GFX9: v_ceil_f16_sdwa v5, -src_shared_base dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x8a,0x0a,0x7e,0xeb,0x16,0x96,0x00]
// NOVI: :[[@LINE-3]]:22: error: src_shared_base register not available on this GPU

v_ceil_f32_sdwa v5, src_shared_base dst_sel:DWORD src0_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: sdwa variant of this instruction is not supported
// GFX9: v_ceil_f32_sdwa v5, src_shared_base dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x3a,0x0a,0x7e,0xeb,0x16,0x86,0x00]
// NOVI: :[[@LINE-3]]:21: error: src_shared_base register not available on this GPU

v_ceil_f32_sdwa v5, |src_shared_base| dst_sel:DWORD src0_sel:DWORD
// NOSICI: :[[@LINE-1]]:1: error: sdwa variant of this instruction is not supported
// GFX9: v_ceil_f32_sdwa v5, |src_shared_base| dst_sel:DWORD dst_unused:UNUSED_PRESERVE src0_sel:DWORD ; encoding: [0xf9,0x3a,0x0a,0x7e,0xeb,0x16,0xa6,0x00]
// NOVI: :[[@LINE-3]]:22: error: src_shared_base register not available on this GPU

//---------------------------------------------------------------------------//
// named inline values compete with other scalars for constant bus access
//---------------------------------------------------------------------------//

v_add_u32 v0, private_base, s0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOVI: :[[@LINE-2]]:15: error: src_private_base register not available on this GPU
// NOGFX9: :[[@LINE-3]]:29: error: invalid operand (violates constant bus restrictions)

v_add_u32 v0, scc, s0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOVI: :[[@LINE-2]]:1: error: operands are not valid for this GPU or mode
// NOGFX9: :[[@LINE-3]]:20: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, shared_base, v0, v1
// NOSICIVI: :[[@LINE-1]]:20: error: src_shared_base register not available on this GPU
// NOGFX9: :[[@LINE-2]]:20: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, v0, shared_limit, v1
// NOSICIVI: :[[@LINE-1]]:24: error: src_shared_limit register not available on this GPU
// NOGFX9: :[[@LINE-2]]:24: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, v0, v1, private_limit
// NOSICIVI: :[[@LINE-1]]:28: error: src_private_limit register not available on this GPU
// NOGFX9: :[[@LINE-2]]:28: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, execz, v0, v1
// NOGCN: :[[@LINE-1]]:20: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, v0, scc, v1
// NOGCN: :[[@LINE-1]]:24: error: invalid operand (violates constant bus restrictions)

// v_div_fmas implicitly reads VCC
v_div_fmas_f32 v0, v0, v1, vccz
// NOGCN: :[[@LINE-1]]:28: error: invalid operand (violates constant bus restrictions)

// v_addc_co_u32 implicitly reads VCC (VOP2)
v_addc_co_u32 v0, vcc, shared_base, v0, vcc
// NOSICIVI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX9: :[[@LINE-2]]:24: error: invalid operand (violates constant bus restrictions)

v_madak_f32 v0, shared_base, v0, 0x11213141
// NOSICIVI: :[[@LINE-1]]:17: error: src_shared_base register not available on this GPU
// NOGFX9: :[[@LINE-2]]:17: error: invalid operand (violates constant bus restrictions)

v_madak_f32 v0, scc, v0, 0x11213141
// NOGCN: :[[@LINE-1]]:17: error: invalid operand (violates constant bus restrictions)

v_madak_f32 v0, 0xff32ff, v0, 0x11213141
// NOGCN: :[[@LINE-1]]:31: error: only one unique literal operand is allowed

v_madak_f32 v0, 0xff32ff, v0, 1
// NOGCN: :[[@LINE-1]]:31: error: only one unique literal operand is allowed

v_madmk_f32 v0, 0xff32ff, 0x11213141, v0
// NOGCN: :[[@LINE-1]]:27: error: only one unique literal operand is allowed

v_madmk_f32 v0, 0xff32ff, -1, v0
// NOGCN: :[[@LINE-1]]:27: error: only one unique literal operand is allowed

v_madak_f16 v0, 0xff32, v0, 0x1122
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX89: :[[@LINE-2]]:29: error: only one unique literal operand is allowed

v_madak_f16 v0, 0xff32, v0, 0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX89: :[[@LINE-2]]:29: error: only one unique literal operand is allowed

v_madmk_f16 v0, 0xff32, 0x1122, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX89: :[[@LINE-2]]:25: error: only one unique literal operand is allowed

v_madmk_f16 v0, 0xff32, 1, v0
// NOSICI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX89: :[[@LINE-2]]:25: error: only one unique literal operand is allowed

v_cmp_eq_f32 s[0:1], private_base, private_limit
// NOSICIVI: :[[@LINE-1]]:22: error: src_private_base register not available on this GPU
// NOGFX9: :[[@LINE-2]]:36: error: invalid operand (violates constant bus restrictions)

v_cmp_eq_f32 s[0:1], private_base, s0
// NOSICIVI: :[[@LINE-1]]:22: error: src_private_base register not available on this GPU
// NOGFX9: :[[@LINE-2]]:36: error: invalid operand (violates constant bus restrictions)

v_cmp_eq_f32 s[0:1], execz, s0
// NOGCN: :[[@LINE-1]]:29: error: invalid operand (violates constant bus restrictions)

v_pk_add_f16 v255, private_base, private_limit
// NOSICIVI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX9: :[[@LINE-2]]:34: error: invalid operand (violates constant bus restrictions)

v_pk_add_f16 v255, vccz, execz
// NOSICIVI: :[[@LINE-1]]:1: error: instruction not supported on this GPU
// NOGFX9: :[[@LINE-2]]:26: error: invalid operand (violates constant bus restrictions)

//---------------------------------------------------------------------------//
// check dummy lit() syntax for sp3 compatibility.
//---------------------------------------------------------------------------//

v_sqrt_f32 v2, lit(123)
// SICI: v_sqrt_f32_e32 v2, 0x7b                 ; encoding: [0xff,0x66,0x04,0x7e,0x7b,0x00,0x00,0x00]
// GFX89: v_sqrt_f32_e32 v2, 0x7b                 ; encoding: [0xff,0x4e,0x04,0x7e,0x7b,0x00,0x00,0x00]

v_sqrt_f32 v2, abs(lit(123))
// SICI: v_sqrt_f32_e32 v2, 0x7b                 ; encoding: [0xff,0x66,0x04,0x7e,0x7b,0x00,0x00,0x00]
// GFX89: v_sqrt_f32_e32 v2, 0x7b                 ; encoding: [0xff,0x4e,0x04,0x7e,0x7b,0x00,0x00,0x00]

v_sqrt_f32 v2, lit(123.0)
// SICI: v_sqrt_f32_e32 v2, 0x42f60000           ; encoding: [0xff,0x66,0x04,0x7e,0x00,0x00,0xf6,0x42]
// GFX89: v_sqrt_f32_e32 v2, 0x42f60000           ; encoding: [0xff,0x4e,0x04,0x7e,0x00,0x00,0xf6,0x42]

v_sqrt_f64 v[2:3], lit(123.0)
// SICI: v_sqrt_f64_e32 v[2:3], lit(0x405ec000)  ; encoding: [0xff,0x68,0x04,0x7e,0x00,0xc0,0x5e,0x40]
// GFX89: v_sqrt_f64_e32 v[2:3], lit(0x405ec000)  ; encoding: [0xff,0x50,0x04,0x7e,0x00,0xc0,0x5e,0x40]

v_sqrt_f64 v[2:3], lit(123)
// SICI: v_sqrt_f64_e32 v[2:3], lit(0x7b)        ; encoding: [0xff,0x68,0x04,0x7e,0x7b,0x00,0x00,0x00]
// GFX89: v_sqrt_f64_e32 v[2:3], lit(0x7b)        ; encoding: [0xff,0x50,0x04,0x7e,0x7b,0x00,0x00,0x00]

v_sqrt_f32 v2, lit 123.0
// NOGCN: :[[@LINE-1]]:20: error: expected left paren after lit

v_sqrt_f32 v2, lit(123.0
// NOGCN: :[[@LINE-1]]:25: error: expected closing parentheses

v_sqrt_f32 v2, lit(v1)
// NOGCN: :[[@LINE-1]]:20: error: expected immediate with lit modifier

// Make sure lit() is accepted on operands without modifiers.

v_madak_f32 v4, lit(0x7e8), v8, lit(0x7e8)
// SICI: v_madak_f32 v4, 0x7e8, v8, 0x7e8        ; encoding: [0xff,0x10,0x08,0x42,0xe8,0x07,0x00,0x00]
// GFX89: v_madak_f32 v4, 0x7e8, v8, 0x7e8        ; encoding: [0xff,0x10,0x08,0x30,0xe8,0x07,0x00,0x00]

v_madak_f32 v4, lit(lit(0x7e8)), v8, lit(0x7e8)
// NOGCN: :[[@LINE-1]]:24: error: not a valid operand.
