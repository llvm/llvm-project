// RUN: llvm-mc -triple x86_64 --show-encoding %s | FileCheck %s
// RUN: not llvm-mc -triple i386 -show-encoding %s 2>&1 | FileCheck %s --check-prefix=ERROR

// ERROR-COUNT-8: error:
// ERROR-NOT: error:

// CHECK: lkgs %ax
// CHECK: encoding: [0xf2,0x0f,0x00,0xf0]
          lkgs %ax

// CHECK: lkgs %r12w
// CHECK: encoding: [0xf2,0x41,0x0f,0x00,0xf4]
          lkgs %r12w

// CHECK: lkgs  268435456(%rbp,%r14,8)
// CHECK: encoding: [0xf2,0x42,0x0f,0x00,0xb4,0xf5,0x00,0x00,0x00,0x10]
          lkgs  268435456(%rbp,%r14,8)

// CHECK: lkgs  291(%r8,%rax,4)
// CHECK: encoding: [0xf2,0x41,0x0f,0x00,0xb4,0x80,0x23,0x01,0x00,0x00]
          lkgs  291(%r8,%rax,4)

// CHECK: lkgs  (%rip)
// CHECK: encoding: [0xf2,0x0f,0x00,0x35,0x00,0x00,0x00,0x00]
          lkgs  (%rip)

// CHECK: lkgs  -64(,%rbp,2)
// CHECK: encoding: [0xf2,0x0f,0x00,0x34,0x6d,0xc0,0xff,0xff,0xff]
          lkgs  -64(,%rbp,2)

// CHECK: lkgs  254(%rcx)
// CHECK: encoding: [0xf2,0x0f,0x00,0xb1,0xfe,0x00,0x00,0x00]
          lkgs  254(%rcx)

// CHECK: lkgs  -256(%rdx)
// CHECK: encoding: [0xf2,0x0f,0x00,0xb2,0x00,0xff,0xff,0xff]
          lkgs  -256(%rdx)

