# RUN: llvm-mc -triple x86_64 -x86-asm-syntax=intel -output-asm-variant=1 --show-encoding %s | FileCheck %s

## urdmsr

# CHECK: {evex}	rdmsr r9, 123
# CHECK: encoding: [0x62,0xd7,0x7f,0x08,0xf6,0xc1,0x7b,0x00,0x00,0x00]
         {evex}	rdmsr r9, 123

# CHECK: rdmsr r19, 123
# CHECK: encoding: [0x62,0xff,0x7f,0x08,0xf6,0xc3,0x7b,0x00,0x00,0x00]
         rdmsr r19, 123

## uwrmsr

# CHECK: {evex}	wrmsrns 123, r9
# CHECK: encoding: [0x62,0xd7,0x7e,0x08,0xf6,0xc1,0x7b,0x00,0x00,0x00]
         {evex}	wrmsrns 123, r9

# CHECK: wrmsrns 123, r19
# CHECK: encoding: [0x62,0xff,0x7e,0x08,0xf6,0xc3,0x7b,0x00,0x00,0x00]
         wrmsrns 123, r19
