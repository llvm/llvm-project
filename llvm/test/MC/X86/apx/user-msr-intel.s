# RUN: llvm-mc -triple x86_64 -x86-asm-syntax=intel -output-asm-variant=1 --show-encoding %s | FileCheck %s

## urdmsr

# CHECK: {evex}	urdmsr	r9, 123
# CHECK: encoding: [0x62,0xd7,0x7f,0x08,0xf8,0xc1,0x7b,0x00,0x00,0x00]
         {evex}	urdmsr	r9, 123

# CHECK: {evex}	urdmsr	r15, r9
# CHECK: encoding: [0x62,0x54,0x7f,0x08,0xf8,0xf9]
         {evex}	urdmsr	r15, r9

# CHECK: urdmsr	r19, 123
# CHECK: encoding: [0x62,0xff,0x7f,0x08,0xf8,0xc3,0x7b,0x00,0x00,0x00]
         urdmsr	r19, 123

# CHECK: urdmsr	r23, r19
# CHECK: encoding: [0x62,0xec,0x7f,0x08,0xf8,0xfb]
         urdmsr	r23, r19

## uwrmsr

# CHECK: {evex}	uwrmsr	123, r9
# CHECK: encoding: [0x62,0xd7,0x7e,0x08,0xf8,0xc1,0x7b,0x00,0x00,0x00]
         {evex}	uwrmsr	123, r9

# CHECK: {evex}	uwrmsr	r15, r9
# CHECK: encoding: [0x62,0x54,0x7e,0x08,0xf8,0xf9]
         {evex}	uwrmsr	r15, r9

# CHECK: uwrmsr	123, r19
# CHECK: encoding: [0x62,0xff,0x7e,0x08,0xf8,0xc3,0x7b,0x00,0x00,0x00]
         uwrmsr	123, r19

# CHECK: uwrmsr	r23, r19
# CHECK: encoding: [0x62,0xec,0x7e,0x08,0xf8,0xfb]
         uwrmsr	r23, r19
