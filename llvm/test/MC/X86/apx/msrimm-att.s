# RUN: llvm-mc -triple x86_64 --show-encoding %s | FileCheck %s
# RUN: not llvm-mc -triple i386 -show-encoding %s 2>&1 | FileCheck %s --check-prefix=ERROR

# ERROR-COUNT-4: error:
# ERROR-NOT: error:

## rdmsr

// CHECK: {evex} rdmsr $123, %r9
// CHECK: encoding: [0x62,0xd7,0x7f,0x08,0xf6,0xc1,0x7b,0x00,0x00,0x00]
          {evex} rdmsr $123, %r9

// CHECK: rdmsr $123, %r19
// CHECK: encoding: [0x62,0xff,0x7f,0x08,0xf6,0xc3,0x7b,0x00,0x00,0x00]
          rdmsr $123, %r19

## wrmsrns

# CHECK: {evex}	wrmsrns %r9, $123
# CHECK: encoding: [0x62,0xd7,0x7e,0x08,0xf6,0xc1,0x7b,0x00,0x00,0x00]
         {evex}	wrmsrns %r9, $123

# CHECK: wrmsrns %r19, $123
# CHECK: encoding: [0x62,0xff,0x7e,0x08,0xf6,0xc3,0x7b,0x00,0x00,0x00]
         wrmsrns %r19, $123
