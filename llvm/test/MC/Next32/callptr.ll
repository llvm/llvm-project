; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=next32 < %s | FileCheck %s
; RUN: llc -mtriple=next32 -filetype=obj -o - %s | llvm-objdump --triple=next32 -d - | FileCheck %s

@pointer = dso_local global i32 (i32)* null, align 8

define dso_local i32 @main() {
; CHECK-LABEL: main
; CHECK:    callptr r1, r2
  store i32 (i32)* @areaSquare, i32 (i32)** @pointer, align 8
  %1 = tail call i32 @areaSquare(i32 noundef 5)
  %2 = load i32 (i32)*, i32 (i32)** @pointer, align 8
  %3 = tail call i32 %2(i32 noundef 5)
  ret i32 %3
}

declare dso_local i32 @areaSquare(i32 noundef)
