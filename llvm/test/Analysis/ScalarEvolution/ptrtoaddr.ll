; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py
; RUN: opt -passes='print<scalar-evolution>' -disable-output %s 2>&1 | FileCheck %s

target datalayout="p64:64:64:64"

define void @ptrtoaddr(ptr %in, ptr %out0, ptr %out1, ptr %out2, ptr %out3) {
;
  %p0 = ptrtoaddr ptr %in to i64
  store i64  %p0, ptr  %out0
  ret void
}

define void @ptrtoaddr_as1(ptr addrspace(1) %in, ptr %out0, ptr %out1, ptr %out2, ptr %out3) {
;
  %p0 = ptrtoaddr ptr addrspace(1) %in to i64
  store i64  %p0, ptr  %out0
  ret void
}

define void @ptrtoaddr_of_bitcast(ptr %in, ptr %out0) {
;
  %in_casted = bitcast ptr %in to ptr
  %p0 = ptrtoaddr ptr %in_casted to i64
  store i64 %p0, ptr %out0
  ret void
}

define void @ptrtoaddr_of_nullptr(ptr %out0) {
;
  %p0 = ptrtoaddr ptr null to i64
  store i64 %p0, ptr %out0
  ret void
}

define void @ptrtoaddr_of_gep(ptr %in, ptr %out0) {
;
  %in_adj = getelementptr inbounds i8, ptr %in, i64 42
  %p0 = ptrtoaddr ptr %in_adj to i64
  store i64  %p0, ptr  %out0
  ret void
}
