; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py UTC_ARGS: --version 6
; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lsx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LSX
; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lasx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LASX

define void @fadd() {
; LSX-LABEL: 'fadd'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F32 = fadd float poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F32 = fadd <2 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F32 = fadd <4 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:6 SizeLat:1 for: %V8F32 = fadd <8 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F64 = fadd double poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F64 = fadd <2 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:6 SizeLat:1 for: %V4F64 = fadd <4 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
; LASX-LABEL: 'fadd'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F32 = fadd float poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F32 = fadd <2 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F32 = fadd <4 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V8F32 = fadd <8 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F64 = fadd double poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F64 = fadd <2 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F64 = fadd <4 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
   %V1F32 = fadd float poison, poison
   %V2F32 = fadd <2 x float> poison, poison
   %V4F32 = fadd <4 x float> poison, poison
   %V8F32 = fadd <8 x float> poison, poison

   %V1F64 = fadd double poison, poison
   %V2F64 = fadd <2 x double> poison, poison
   %V4F64 = fadd <4 x double> poison, poison

   ret void
}

define void @fsub() {
; LSX-LABEL: 'fsub'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F32 = fsub float poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F32 = fsub <2 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F32 = fsub <4 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:6 SizeLat:1 for: %V8F32 = fsub <8 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F64 = fsub double poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F64 = fsub <2 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:6 SizeLat:1 for: %V4F64 = fsub <4 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
; LASX-LABEL: 'fsub'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F32 = fsub float poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F32 = fsub <2 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F32 = fsub <4 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V8F32 = fsub <8 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V1F64 = fsub double poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V2F64 = fsub <2 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:1 Lat:3 SizeLat:1 for: %V4F64 = fsub <4 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
   %V1F32 = fsub float poison, poison
   %V2F32 = fsub <2 x float> poison, poison
   %V4F32 = fsub <4 x float> poison, poison
   %V8F32 = fsub <8 x float> poison, poison

   %V1F64 = fsub double poison, poison
   %V2F64 = fsub <2 x double> poison, poison
   %V4F64 = fsub <4 x double> poison, poison

   ret void
}

define void @fmul() {
; LSX-LABEL: 'fmul'
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V1F32 = fmul float poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V2F32 = fmul <2 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V4F32 = fmul <4 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:10 SizeLat:1 for: %V8F32 = fmul <8 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V1F64 = fmul double poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V2F64 = fmul <2 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:10 SizeLat:1 for: %V4F64 = fmul <4 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
; LASX-LABEL: 'fmul'
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V1F32 = fmul float poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V2F32 = fmul <2 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V4F32 = fmul <4 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V8F32 = fmul <8 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V1F64 = fmul double poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V2F64 = fmul <2 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %V4F64 = fmul <4 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
   %V1F32 = fmul float poison, poison
   %V2F32 = fmul <2 x float> poison, poison
   %V4F32 = fmul <4 x float> poison, poison
   %V8F32 = fmul <8 x float> poison, poison

   %V1F64 = fmul double poison, poison
   %V2F64 = fmul <2 x double> poison, poison
   %V4F64 = fmul <4 x double> poison, poison

   ret void
}

define void @fdiv() {
; LSX-LABEL: 'fdiv'
; LSX-NEXT:  Cost Model: Found costs of RThru:8 CodeSize:4 Lat:9 SizeLat:4 for: %V1F32 = fdiv float poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:26 CodeSize:4 Lat:16 SizeLat:4 for: %V2F32 = fdiv <2 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:26 CodeSize:4 Lat:16 SizeLat:4 for: %V4F32 = fdiv <4 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:52 CodeSize:4 Lat:32 SizeLat:4 for: %V8F32 = fdiv <8 x float> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:9 CodeSize:4 Lat:12 SizeLat:4 for: %V1F64 = fdiv double poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:18 CodeSize:4 Lat:12 SizeLat:4 for: %V2F64 = fdiv <2 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of RThru:36 CodeSize:4 Lat:24 SizeLat:4 for: %V4F64 = fdiv <4 x double> poison, poison
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
; LASX-LABEL: 'fdiv'
; LASX-NEXT:  Cost Model: Found costs of RThru:8 CodeSize:4 Lat:9 SizeLat:4 for: %V1F32 = fdiv float poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:26 CodeSize:4 Lat:16 SizeLat:4 for: %V2F32 = fdiv <2 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:26 CodeSize:4 Lat:16 SizeLat:4 for: %V4F32 = fdiv <4 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:26 CodeSize:4 Lat:15 SizeLat:4 for: %V8F32 = fdiv <8 x float> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:9 CodeSize:4 Lat:12 SizeLat:4 for: %V1F64 = fdiv double poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:18 CodeSize:4 Lat:12 SizeLat:4 for: %V2F64 = fdiv <2 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of RThru:18 CodeSize:4 Lat:12 SizeLat:4 for: %V4F64 = fdiv <4 x double> poison, poison
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret void
;
   %V1F32 = fdiv float poison, poison
   %V2F32 = fdiv <2 x float> poison, poison
   %V4F32 = fdiv <4 x float> poison, poison
   %V8F32 = fdiv <8 x float> poison, poison

   %V1F64 = fdiv double poison, poison
   %V2F64 = fdiv <2 x double> poison, poison
   %V4F64 = fdiv <4 x double> poison, poison

   ret void
}
