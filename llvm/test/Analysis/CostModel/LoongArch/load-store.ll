; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py UTC_ARGS: --version 6

; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lsx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LSX
; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lasx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LASX

define i32 @store(i32 %arg) {
; LSX-LABEL: 'store'
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i8 poison, ptr poison, align 1
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i16 poison, ptr poison, align 2
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i32 poison, ptr poison, align 4
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i64 poison, ptr poison, align 8
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store float poison, ptr poison, align 4
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store double poison, ptr poison, align 8
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <16 x i8> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <8 x i16> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x i32> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <2 x i64> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x float> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <2 x double> poison, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <32 x i8> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <16 x i16> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <8 x i32> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <4 x i64> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <8 x float> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: store <4 x double> poison, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret i32 poison
;
; LASX-LABEL: 'store'
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i8 poison, ptr poison, align 1
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i16 poison, ptr poison, align 2
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i32 poison, ptr poison, align 4
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: store i64 poison, ptr poison, align 8
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store float poison, ptr poison, align 4
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store double poison, ptr poison, align 8
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <16 x i8> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <8 x i16> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x i32> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <2 x i64> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x float> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <2 x double> poison, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <32 x i8> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <16 x i16> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <8 x i32> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x i64> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <8 x float> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: store <4 x double> poison, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret i32 poison
;
  store i8 poison, ptr poison
  store i16 poison, ptr poison
  store i32 poison, ptr poison
  store i64 poison, ptr poison

  store float poison, ptr poison
  store double poison, ptr poison

  store <16 x i8> poison, ptr poison
  store <8 x i16> poison, ptr poison
  store <4 x i32> poison, ptr poison
  store <2 x i64> poison, ptr poison

  store <4 x float> poison, ptr poison
  store <2 x double> poison, ptr poison

  store <32 x i8> poison, ptr poison
  store <16 x i16> poison, ptr poison
  store <8 x i32> poison, ptr poison
  store <4 x i64> poison, ptr poison

  store <8 x float> poison, ptr poison
  store <4 x double> poison, ptr poison

  ret i32 poison
}

define i32 @load(i32 %arg) {
; LSX-LABEL: 'load'
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %1 = load i8, ptr poison, align 1
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %2 = load i16, ptr poison, align 2
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %3 = load i32, ptr poison, align 4
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %4 = load i64, ptr poison, align 8
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %5 = load float, ptr poison, align 4
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %6 = load double, ptr poison, align 8
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %7 = load <16 x i8>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %8 = load <8 x i16>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %9 = load <4 x i32>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %10 = load <2 x i64>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %11 = load <4 x float>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %12 = load <2 x double>, ptr poison, align 16
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %13 = load <32 x i8>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %14 = load <16 x i16>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %15 = load <8 x i32>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %16 = load <4 x i64>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %17 = load <8 x float>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:2 Lat:10 SizeLat:2 for: %18 = load <4 x double>, ptr poison, align 32
; LSX-NEXT:  Cost Model: Found costs of 1 for: ret i32 poison
;
; LASX-LABEL: 'load'
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %1 = load i8, ptr poison, align 1
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %2 = load i16, ptr poison, align 2
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %3 = load i32, ptr poison, align 4
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:4 SizeLat:1 for: %4 = load i64, ptr poison, align 8
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %5 = load float, ptr poison, align 4
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %6 = load double, ptr poison, align 8
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %7 = load <16 x i8>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %8 = load <8 x i16>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %9 = load <4 x i32>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %10 = load <2 x i64>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %11 = load <4 x float>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %12 = load <2 x double>, ptr poison, align 16
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %13 = load <32 x i8>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %14 = load <16 x i16>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %15 = load <8 x i32>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %16 = load <4 x i64>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %17 = load <8 x float>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:1 Lat:5 SizeLat:1 for: %18 = load <4 x double>, ptr poison, align 32
; LASX-NEXT:  Cost Model: Found costs of 1 for: ret i32 poison
;
  load i8, ptr poison
  load i16, ptr poison
  load i32, ptr poison
  load i64, ptr poison

  load float, ptr poison
  load double, ptr poison

  load <16 x i8>, ptr poison
  load <8 x i16>, ptr poison
  load <4 x i32>, ptr poison
  load <2 x i64>, ptr poison

  load <4 x float>, ptr poison
  load <2 x double>, ptr poison

  load <32 x i8>, ptr poison
  load <16 x i16>, ptr poison
  load <8 x i32>, ptr poison
  load <4 x i64>, ptr poison

  load <8 x float>, ptr poison
  load <4 x double>, ptr poison

  ret i32 poison
}
