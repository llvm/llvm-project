; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py UTC_ARGS: --version 6
; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lsx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LSX
; RUN: opt < %s -passes="print<cost-model>" -cost-kind=all -mtriple=loongarch64 -mattr=+lasx 2>&1 -disable-output < %s | FileCheck %s --check-prefixes=LASX

define void @test_vXf64(<2 x double> %src128, <4 x double> %src256) {
; LSX-LABEL: 'test_vXf64'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V128 = shufflevector <2 x double> %src128, <2 x double> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V256 = shufflevector <4 x double> %src256, <4 x double> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXf64'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V128 = shufflevector <2 x double> %src128, <2 x double> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:3 SizeLat:5 for: %V256 = shufflevector <4 x double> %src256, <4 x double> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V128 = shufflevector <2 x double> %src128, <2 x double> undef, <2 x i32> zeroinitializer
  %V256 = shufflevector <4 x double> %src256, <4 x double> undef, <4 x i32> zeroinitializer
  ret void
}

define void @test_vXi64(<2 x i64> %src128, <4 x i64> %src256) {
; LSX-LABEL: 'test_vXi64'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V128 = shufflevector <2 x i64> %src128, <2 x i64> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V256 = shufflevector <4 x i64> %src256, <4 x i64> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXi64'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V128 = shufflevector <2 x i64> %src128, <2 x i64> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:3 SizeLat:9 for: %V256 = shufflevector <4 x i64> %src256, <4 x i64> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V128 = shufflevector <2 x i64> %src128, <2 x i64> undef, <2 x i32> zeroinitializer
  %V256 = shufflevector <4 x i64> %src256, <4 x i64> undef, <4 x i32> zeroinitializer
  ret void
}

define void @test_vXf32(<2 x float> %src64, <4 x float> %src128, <8 x float> %src256) {
; LSX-LABEL: 'test_vXf32'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V64 = shufflevector <2 x float> %src64, <2 x float> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V128 = shufflevector <4 x float> %src128, <4 x float> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V256 = shufflevector <8 x float> %src256, <8 x float> undef, <8 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXf32'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V64 = shufflevector <2 x float> %src64, <2 x float> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V128 = shufflevector <4 x float> %src128, <4 x float> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:9 Lat:4 SizeLat:9 for: %V256 = shufflevector <8 x float> %src256, <8 x float> undef, <8 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V64 = shufflevector <2 x float> %src64, <2 x float> undef, <2 x i32> zeroinitializer
  %V128 = shufflevector <4 x float> %src128, <4 x float> undef, <4 x i32> zeroinitializer
  %V256 = shufflevector <8 x float> %src256, <8 x float> undef, <8 x i32> zeroinitializer
  ret void
}

define void @test_vXi32(<2 x i32> %src64, <4 x i32> %src128, <8 x i32> %src256) {
; LSX-LABEL: 'test_vXi32'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V64 = shufflevector <2 x i32> %src64, <2 x i32> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V128 = shufflevector <4 x i32> %src128, <4 x i32> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V256 = shufflevector <8 x i32> %src256, <8 x i32> undef, <8 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXi32'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V64 = shufflevector <2 x i32> %src64, <2 x i32> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V128 = shufflevector <4 x i32> %src128, <4 x i32> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:17 Lat:4 SizeLat:17 for: %V256 = shufflevector <8 x i32> %src256, <8 x i32> undef, <8 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V64 = shufflevector <2 x i32> %src64, <2 x i32> undef, <2 x i32> zeroinitializer
  %V128 = shufflevector <4 x i32> %src128, <4 x i32> undef, <4 x i32> zeroinitializer
  %V256 = shufflevector <8 x i32> %src256, <8 x i32> undef, <8 x i32> zeroinitializer
  ret void
}

define void @test_vXi16(<2 x i16> %src32, <4 x i16> %src64, <8 x i16> %src128, <16 x i16> %src256) {
; LSX-LABEL: 'test_vXi16'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V32 = shufflevector <2 x i16> %src32, <2 x i16> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V64 = shufflevector <4 x i16> %src64, <4 x i16> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V128 = shufflevector <8 x i16> %src128, <8 x i16> undef, <8 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:17 Lat:1 SizeLat:17 for: %V256 = shufflevector <16 x i16> %src256, <16 x i16> undef, <16 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXi16'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V32 = shufflevector <2 x i16> %src32, <2 x i16> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V64 = shufflevector <4 x i16> %src64, <4 x i16> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V128 = shufflevector <8 x i16> %src128, <8 x i16> undef, <8 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:33 Lat:4 SizeLat:33 for: %V256 = shufflevector <16 x i16> %src256, <16 x i16> undef, <16 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V32  = shufflevector <2 x i16> %src32, <2 x i16> undef, <2 x i32> zeroinitializer
  %V64  = shufflevector <4 x i16> %src64, <4 x i16> undef, <4 x i32> zeroinitializer
  %V128 = shufflevector <8 x i16> %src128, <8 x i16> undef, <8 x i32> zeroinitializer
  %V256 = shufflevector <16 x i16> %src256, <16 x i16> undef, <16 x i32> zeroinitializer
  ret void
}

define void @test_vXi8(<2 x i8> %src16, <4 x i8> %src32, <8 x i8> %src64, <16 x i8> %src128, <32 x i8> %src256) {
; LSX-LABEL: 'test_vXi8'
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V16 = shufflevector <2 x i8> %src16, <2 x i8> undef, <2 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V32 = shufflevector <4 x i8> %src32, <4 x i8> undef, <4 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V64 = shufflevector <8 x i8> %src64, <8 x i8> undef, <8 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:17 Lat:1 SizeLat:17 for: %V128 = shufflevector <16 x i8> %src128, <16 x i8> undef, <16 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:33 Lat:1 SizeLat:33 for: %V256 = shufflevector <32 x i8> %src256, <32 x i8> undef, <32 x i32> zeroinitializer
; LSX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
; LASX-LABEL: 'test_vXi8'
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:3 Lat:1 SizeLat:3 for: %V16 = shufflevector <2 x i8> %src16, <2 x i8> undef, <2 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:5 Lat:1 SizeLat:5 for: %V32 = shufflevector <4 x i8> %src32, <4 x i8> undef, <4 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:9 Lat:1 SizeLat:9 for: %V64 = shufflevector <8 x i8> %src64, <8 x i8> undef, <8 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:1 CodeSize:17 Lat:1 SizeLat:17 for: %V128 = shufflevector <16 x i8> %src128, <16 x i8> undef, <16 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:2 CodeSize:65 Lat:4 SizeLat:65 for: %V256 = shufflevector <32 x i8> %src256, <32 x i8> undef, <32 x i32> zeroinitializer
; LASX-NEXT:  Cost Model: Found costs of RThru:4 CodeSize:1 Lat:1 SizeLat:1 for: ret void
;
  %V16  = shufflevector <2 x i8> %src16, <2 x i8> undef, <2 x i32> zeroinitializer
  %V32  = shufflevector <4 x i8> %src32, <4 x i8> undef, <4 x i32> zeroinitializer
  %V64  = shufflevector <8 x i8> %src64, <8 x i8> undef, <8 x i32> zeroinitializer
  %V128 = shufflevector <16 x i8> %src128, <16 x i8> undef, <16 x i32> zeroinitializer
  %V256 = shufflevector <32 x i8> %src256, <32 x i8> undef, <32 x i32> zeroinitializer
  ret void
}
