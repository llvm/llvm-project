// RUN: mlir-opt %s \
// RUN: | mlir-opt -gpu-kernel-outlining \
// RUN: | mlir-opt -pass-pipeline='builtin.module(gpu.module(strip-debuginfo,convert-gpu-to-nvvm,gpu-to-cubin{dump-ptx}))' \
// RUN: 2>&1 | FileCheck %s

// CHECK: Generated by LLVM NVPTX Back-End
// CHECK: .visible .func kernel_a()
// CHECK: ret;

gpu.module @bar {
  llvm.func @kernel_a()
    attributes  { gpu.kernel } {
    llvm.return
  }
}
