
# RUN: yaml2obj %s | not mlir-translate --import-wasm -o - 2>&1 | FileCheck %s

# CHECK: type index references nonexistent type (2)

--- !WASM
FileHeader:
  Version:         0x1
Sections:
  - Type:            TYPE
    Signatures:
      - Index:           0
        ParamTypes:
          - I32
        ReturnTypes:
          - I32
      - Index:           1
        ParamTypes:      []
        ReturnTypes:
          - I32
  - Type:            FUNCTION
    FunctionTypes:   [ 1 ]
  - Type:            CODE
    Functions:
      - Index:           0
        Locals:          []
        Body:            410E020241016A0B0B
# -----------------------------^^ Invalid type ID
