cmake_minimum_required(VERSION 3.4.3)

set(ENABLE_EXPERIMENTAL_NEW_PASS_MANAGER ON CACHE BOOL "")
set(LLVM_TARGETS_TO_BUILD "X86" CACHE STRING "")
set(LLVM_BUILD_LLVM_DYLIB ON CACHE BOOL "")
set(LLVM_INSTALL_BINUTILS_SYMLINKS ON CACHE BOOL "")
set(LLVM_ENABLE_PLUGINS OFF CACHE BOOL "")

# minimize targets
set(LLVM_ENABLE_BINDINGS OFF CACHE BOOL "We don't want ocaml bindings")
set(LLVM_ENABLE_LIBEDIT OFF CACHE BOOL "No need for libedit")
set(LLVM_ENABLE_TERMINFO OFF CACHE BOOL "No need for terminfo")
set(LLVM_ENABLE_LIBXML2 OFF CACHE BOOL "")
set(LLVM_INCLUDE_BENCHMARKS OFF CACHE BOOL "")
set(LLVM_INCLUDE_EXAMPLES OFF CACHE BOOL "")
set(LLVM_ENABLE_DIA_SDK OFF CACHE BOOL "Lets try to remove targets")
set(LLVM_INCLUDE_DOCS OFF CACHE BOOL "")
set(LLVM_ENABLE_OCAMLDOC OFF CACHE BOOL "")

set(CMAKE_BUILD_WITH_INSTALL_RPATH ON CACHE BOOL "Use install RPATH throughout the build")
