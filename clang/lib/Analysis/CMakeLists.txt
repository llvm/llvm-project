set(LLVM_LINK_COMPONENTS
  FrontendOpenMP
  Support
  )

add_clang_library(clangAnalysis
  AnalysisDeclContext.cpp
  BodyFarm.cpp
  CalledOnceCheck.cpp
  CFG.cpp
  CFGReachabilityAnalysis.cpp
  CFGStmtMap.cpp
  CallGraph.cpp
  CloneDetection.cpp
  CocoaConventions.cpp
  ConstructionContext.cpp
  Consumed.cpp
  CodeInjector.cpp
  Dominators.cpp
  ExprMutationAnalyzer.cpp
  FixitUtil.cpp
  IntervalPartition.cpp
  IssueHash.cpp
  LifetimeAnnotations.cpp
  LifetimeSafety.cpp
  LiveVariables.cpp
  MacroExpansionContext.cpp
  ObjCNoReturn.cpp
  PathDiagnostic.cpp
  PostOrderCFGView.cpp
  ProgramPoint.cpp
  ReachableCode.cpp
  RetainSummaryManager.cpp
  ThreadSafety.cpp
  ThreadSafetyCommon.cpp
  ThreadSafetyLogical.cpp
  ThreadSafetyTIL.cpp
  UninitializedValues.cpp
  UnsafeBufferUsage.cpp

  LINK_LIBS
  clangAST
  clangASTMatchers
  clangBasic
  clangLex

  DEPENDS
  omp_gen
  ClangDriverOptions
  )

add_subdirectory(plugins)
add_subdirectory(FlowSensitive)
