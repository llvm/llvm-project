// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// RUN: %clang_cc1 -cl-std=CL2.0 -O0 -triple amdgcn-unknown-unknown -target-cpu gfx900 -emit-llvm -o - %s | FileCheck %s
// RUN: %clang_cc1 -cl-std=CL2.0 -O0 -triple amdgcn-unknown-unknown -target-cpu gfx942 -emit-llvm -o - %s | FileCheck %s
// RUN: %clang_cc1 -cl-std=CL2.0 -O0 -triple amdgcn-unknown-unknown -target-cpu gfx1010 -emit-llvm -o - %s | FileCheck %s
// REQUIRES: amdgpu-registered-target

// CHECK-LABEL: @test_invocation(
// CHECK-NEXT:  entry:
// CHECK-NEXT:    call void @llvm.amdgcn.asyncmark()
// CHECK-NEXT:    call void @llvm.amdgcn.wait.asyncmark(i16 0)
// CHECK-NEXT:    ret void
//
void test_invocation() {
  __builtin_amdgcn_asyncmark();
  __builtin_amdgcn_wait_asyncmark(0);
}
