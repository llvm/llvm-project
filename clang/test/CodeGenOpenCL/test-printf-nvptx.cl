// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --version 4
// RUN: %clang_cc1 -cl-std=CL3.0 -triple nvptx-- -disable-llvm-passes -emit-llvm -o - %s | FileCheck -check-prefixes=NV %s

int printf(__constant const char* st, ...) __attribute__((format(printf, 1, 2)));

// NV-LABEL: define dso_local void @test_printf(
// NV-SAME: ) #[[ATTR0:[0-9]+]] {
// NV-NEXT:  entry:
// NV-NEXT:    [[CALL:%.*]] = call i32 (ptr addrspace(4), ...) @printf(ptr addrspace(4) noundef @.str) #[[ATTR4:[0-9]+]]
// NV-NEXT:    ret void
//
void test_printf() {
  printf("hello, printf on nvptx.");
}
