// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// RUN: %clang_cc1 -triple=x86_64-unknown-linux-gnu -emit-llvm -o - %s | FileCheck -check-prefixes=CHECK %s
// RUN: %clang_cc1 -triple=x86_64-unknown-linux-gnu -emit-llvm -o - %s -DFOO | FileCheck -check-prefixes=CHECK,FOO %s

#ifdef FOO
// FOO-LABEL: define {{[^@]+}}@foo(
// FOO-NEXT:  entry:
// FOO-NEXT:    ret i32 1
//
int foo() {
  return 1;
}
#endif

// CHECK-LABEL: define {{[^@]+}}@bar(
// CHECK-NEXT:  entry:
// CHECK-NEXT:    ret i32 2
//
int bar() {
  return 2;
}
