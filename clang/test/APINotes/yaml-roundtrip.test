RUN: apinotes-test %S/Inputs/Frameworks/Simple.framework/Headers/Simple.apinotes > %t.result
RUN: not diff -u %S/Inputs/Frameworks/Simple.framework/Headers/Simple.apinotes %t.result | \
RUN:   tail -n +5 | \
RUN:   FileCheck %s --implicit-check-not="{{^\+}}" --implicit-check-not="{{^\-}}"

We expect only the nullability to be different as it is canonicalized during the
roudtrip.

CHECK:      -        Nullability:     N
CHECK-NEXT: +        Nullability:     Nonnull
CHECK:      -        Nullability:     O
CHECK-NEXT: +        Nullability:     Optional
CHECK:      -        Nullability:     U
CHECK-NEXT: +        Nullability:     Unspecified
CHECK:      -        Nullability:     S
CHECK-NEXT: +        Nullability:     Unspecified
CHECK:      -        Nullability:     Scalar
CHECK-NEXT: +        Nullability:     Unspecified

# The roundtrip will add document markers. It is hard to remove the last line of the
# file in a cross-platform manner, so just assert it here to avoid a test failure due
# to the implicit check not.
# CHECK: +
