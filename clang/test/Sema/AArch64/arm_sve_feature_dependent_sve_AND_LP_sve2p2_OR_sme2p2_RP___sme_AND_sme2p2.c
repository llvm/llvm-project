// NOTE: File has been autogenerated by utils/aarch64_builtins_test_generator.py
// RUN: %clang_cc1 %s -fsyntax-only -triple aarch64-none-linux-gnu -target-feature +sme -target-feature +sve -target-feature +sve2p2 -verify=guard
// RUN: %clang_cc1 %s -fsyntax-only -triple aarch64-none-linux-gnu -target-feature +sme -target-feature +sme2p2 -target-feature +sve -verify
// expected-no-diagnostics

// REQUIRES: aarch64-registered-target

#include <arm_sve.h>

// Properties: guard="sve,(sve2p2|sme2p2)" streaming_guard="sme,sme2p2" flags="feature-dependent"

void test(void) {
  svbfloat16_t svbfloat16_t_val;
  svbool_t svbool_t_val;
  svfloat16_t svfloat16_t_val;
  svfloat32_t svfloat32_t_val;
  svfloat64_t svfloat64_t_val;
  svint8_t svint8_t_val;
  svint16_t svint16_t_val;
  svint32_t svint32_t_val;
  svint64_t svint64_t_val;
  svmfloat8_t svmfloat8_t_val;
  svuint8_t svuint8_t_val;
  svuint16_t svuint16_t_val;
  svuint32_t svuint32_t_val;
  svuint64_t svuint64_t_val;

  svcompact(svbool_t_val, svbfloat16_t_val);
  svcompact(svbool_t_val, svfloat16_t_val);
  svcompact(svbool_t_val, svint8_t_val);
  svcompact(svbool_t_val, svint16_t_val);
  svcompact(svbool_t_val, svmfloat8_t_val);
  svcompact(svbool_t_val, svuint8_t_val);
  svcompact(svbool_t_val, svuint16_t_val);
  svcompact_bf16(svbool_t_val, svbfloat16_t_val);
  svcompact_f16(svbool_t_val, svfloat16_t_val);
  svcompact_mf8(svbool_t_val, svmfloat8_t_val);
  svcompact_s8(svbool_t_val, svint8_t_val);
  svcompact_s16(svbool_t_val, svint16_t_val);
  svcompact_u8(svbool_t_val, svuint8_t_val);
  svcompact_u16(svbool_t_val, svuint16_t_val);
  svexpand(svbool_t_val, svbfloat16_t_val);
  svexpand(svbool_t_val, svfloat16_t_val);
  svexpand(svbool_t_val, svfloat32_t_val);
  svexpand(svbool_t_val, svfloat64_t_val);
  svexpand(svbool_t_val, svint8_t_val);
  svexpand(svbool_t_val, svint16_t_val);
  svexpand(svbool_t_val, svint32_t_val);
  svexpand(svbool_t_val, svint64_t_val);
  svexpand(svbool_t_val, svmfloat8_t_val);
  svexpand(svbool_t_val, svuint8_t_val);
  svexpand(svbool_t_val, svuint16_t_val);
  svexpand(svbool_t_val, svuint32_t_val);
  svexpand(svbool_t_val, svuint64_t_val);
  svexpand_bf16(svbool_t_val, svbfloat16_t_val);
  svexpand_f16(svbool_t_val, svfloat16_t_val);
  svexpand_f32(svbool_t_val, svfloat32_t_val);
  svexpand_f64(svbool_t_val, svfloat64_t_val);
  svexpand_mf8(svbool_t_val, svmfloat8_t_val);
  svexpand_s8(svbool_t_val, svint8_t_val);
  svexpand_s16(svbool_t_val, svint16_t_val);
  svexpand_s32(svbool_t_val, svint32_t_val);
  svexpand_s64(svbool_t_val, svint64_t_val);
  svexpand_u8(svbool_t_val, svuint8_t_val);
  svexpand_u16(svbool_t_val, svuint16_t_val);
  svexpand_u32(svbool_t_val, svuint32_t_val);
  svexpand_u64(svbool_t_val, svuint64_t_val);
}

void test_streaming(void) __arm_streaming{
  svbfloat16_t svbfloat16_t_val;
  svbool_t svbool_t_val;
  svfloat16_t svfloat16_t_val;
  svfloat32_t svfloat32_t_val;
  svfloat64_t svfloat64_t_val;
  svint8_t svint8_t_val;
  svint16_t svint16_t_val;
  svint32_t svint32_t_val;
  svint64_t svint64_t_val;
  svmfloat8_t svmfloat8_t_val;
  svuint8_t svuint8_t_val;
  svuint16_t svuint16_t_val;
  svuint32_t svuint32_t_val;
  svuint64_t svuint64_t_val;

  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_bf16(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_f16(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_mf8(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_s8(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_s16(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_u8(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_u16(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_bf16(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f16(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f32(svbool_t_val, svfloat32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f64(svbool_t_val, svfloat64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_mf8(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s8(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s16(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s32(svbool_t_val, svint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s64(svbool_t_val, svint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u8(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u16(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u32(svbool_t_val, svuint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u64(svbool_t_val, svuint64_t_val);
}

void test_streaming_compatible(void) __arm_streaming_compatible{
  svbfloat16_t svbfloat16_t_val;
  svbool_t svbool_t_val;
  svfloat16_t svfloat16_t_val;
  svfloat32_t svfloat32_t_val;
  svfloat64_t svfloat64_t_val;
  svint8_t svint8_t_val;
  svint16_t svint16_t_val;
  svint32_t svint32_t_val;
  svint64_t svint64_t_val;
  svmfloat8_t svmfloat8_t_val;
  svuint8_t svuint8_t_val;
  svuint16_t svuint16_t_val;
  svuint32_t svuint32_t_val;
  svuint64_t svuint64_t_val;

  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_bf16(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_f16(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_mf8(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_s8(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_s16(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_u8(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svcompact_u16(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svfloat64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand(svbool_t_val, svuint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_bf16(svbool_t_val, svbfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f16(svbool_t_val, svfloat16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f32(svbool_t_val, svfloat32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_f64(svbool_t_val, svfloat64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_mf8(svbool_t_val, svmfloat8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s8(svbool_t_val, svint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s16(svbool_t_val, svint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s32(svbool_t_val, svint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_s64(svbool_t_val, svint64_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u8(svbool_t_val, svuint8_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u16(svbool_t_val, svuint16_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u32(svbool_t_val, svuint32_t_val);
  // guard-error@+1 {{builtin can only be called from a non-streaming function}}
  svexpand_u64(svbool_t_val, svuint64_t_val);
}
