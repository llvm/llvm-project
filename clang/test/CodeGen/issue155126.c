// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --version 5
// RUN: %clang_cc1 -std=c23 %s -triple x86_64 -emit-llvm -o - | FileCheck %s
// RUN: %clang_cc1 -std=c23 %s -triple x86_64 -emit-llvm -o - -fexperimental-new-constant-interpreter | FileCheck %s

enum e : bool { b = true };
// CHECK-LABEL: define dso_local void @foo(
// CHECK-SAME: ) #[[ATTR0:[0-9]+]] {
// CHECK-NEXT:  [[ENTRY:.*:]]
// CHECK-NEXT:    [[E1:%.*]] = alloca i8, align 1
// CHECK-NEXT:    store i8 0, ptr [[E1]], align 1
// CHECK-NEXT:    ret void
//
void foo ()
{
  enum e e1;
  e1 = (bool) nullptr;
}
