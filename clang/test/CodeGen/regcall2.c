// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// RUN: %clang_cc1 -emit-llvm %s -o - -ffreestanding -target-feature +avx512vl -triple=x86_64-pc-win32     | FileCheck %s --check-prefix=Win
// RUN: %clang_cc1 -emit-llvm %s -o - -ffreestanding -target-feature +avx512vl -triple=x86_64-pc-linux-gnu | FileCheck %s --check-prefix=Lin

#include <immintrin.h>

typedef struct {
  __m512d r1[4];
  __m512 r2[4];
} __sVector;
__sVector A;

__sVector __regcall foo(int a) {
  return A;
}

double __regcall bar(__sVector a) {
  return a.r1[0][4];
}

// FIXME: Do we need to change for Windows?

//// NOTE: These prefixes are unused and the list is autogenerated. Do not add tests below this line:
// Lin: {{.*}}
// Win: {{.*}}
