config.suffixes = ['.test']

if 'lldb-repro' in config.available_features:
  config.unsupported = True

def check_exists(path):
  import os
  if not os.path.isfile(path):
    lit_config.warning(f"Runtime dependency not found: {path}")

# Check runtime dependencies for SwiftREPL tests on Windows
if sys.platform == "win32":
  host_arch = config.host_triple.split("-")[0]
  check_exists(f"{config.swift_libs_dir}/windows/{host_arch}/swiftrt.obj")
  check_exists(f"{config.llvm_shlib_dir}/swiftCore.dll")
