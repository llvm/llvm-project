# Tests that the UBSan Instrumentation Runtime's utility expression
# runs as C (and doesn't try to find decls in the ObjC runtime).
# Tests that the UBSan Instrumentation Runtime's utility expression
# runs as C (and doesn't try to find decls in the ObjC runtime).
#
# RUN: split-file %s %t
# RUN: %clangxx_host -g %t/main.cpp -fsanitize=undefined -o %t.out
#
# RUN: %lldb -s %t/commands.input %t.out -o exit \
# RUN:     | FileCheck %s --implicit-check-not="AppleObjCDeclVendor"

#--- main.cpp

int main() {
  int *p = nullptr;

  return *p;
}

#--- commands.input
log enable lldb expr
run

# CHECK: Picked c for expression evaluation.
