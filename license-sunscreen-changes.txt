All changes made by Sunscreen are licensed under the AGPLv3 (see LICENSE-SUNSCREEN.TXT). Below is a list of the changes made to the LLVM project.


Major Changes
=============

- Add support for the Parasol FHE processor.
- Add `[[clang::encrypted]]` and `[[clang::fhe_circuit]]` to clang to define what functions should be compiled for the Parasol processor and what arguments to a function are expected to be encrypted.


Files changed
=============

.github/PULL_REQUEST_TEMPLATE.md
.gitignore
README.md
clang/include/clang/AST/Type.h
clang/include/clang/Basic/Attr.td
clang/include/clang/Basic/AttrDocs.td
clang/lib/AST/ASTContext.cpp
clang/lib/Basic/CMakeLists.txt
clang/lib/Basic/Targets.cpp
clang/lib/Basic/Targets/Parasol.cpp
clang/lib/Basic/Targets/Parasol.h
clang/lib/CodeGen/CGCall.cpp
clang/lib/CodeGen/CodeGenModule.cpp
clang/lib/Driver/CMakeLists.txt
clang/lib/Driver/ToolChains/Parasol.cpp
clang/lib/Driver/ToolChains/Parasol.h
clang/lib/Sema/SemaDeclAttr.cpp
clang/lib/Sema/SemaType.cpp
compile-llvm.sh
format-parasol.sh
license-sunscreen-changes.txt
LICENSE-SUNSCREEN.TXT
lld/ELF/Arch/Parasol.cpp
lld/ELF/CMakeLists.txt
lld/ELF/Target.cpp
lld/ELF/Target.h
llvm/CMakeLists.txt
llvm/include/llvm/Analysis/EncryptionColoring.h
llvm/include/llvm/BinaryFormat/ELF.h
llvm/include/llvm/BinaryFormat/ELFRelocs/Parasol.def
llvm/include/llvm/Bitcode/LLVMBitCodes.h
llvm/include/llvm/CodeGen/ISDOpcodes.h
llvm/include/llvm/CodeGen/SelectionDAGNodes.h
llvm/include/llvm/CodeGen/TargetCallingConv.h
llvm/include/llvm/CodeGen/ValueTypes.h
llvm/include/llvm/Config/llvm-config.h.cmake
llvm/include/llvm/IR/Argument.h
llvm/include/llvm/IR/Attributes.td
llvm/include/llvm/IR/EncryptionColor.h
llvm/include/llvm/IR/FixedMetadataKinds.def
llvm/include/llvm/IR/MDBuilder.h
llvm/include/llvm/Object/ELFObjectFile.h
llvm/include/llvm/Target/TargetSelectionDAG.td
llvm/include/llvm/TargetParser/Triple.h
llvm/include/llvm/Transforms/Scalar/EncryptedBranchLinearization.h
llvm/include/llvm/Transforms/Scalar/FheCircuitFixup.h
llvm/lib/Analysis/CMakeLists.txt
llvm/lib/Analysis/EncryptionColoring.cpp
llvm/lib/Bitcode/Reader/BitcodeReader.cpp
llvm/lib/Bitcode/Writer/BitcodeWriter.cpp
llvm/lib/CodeGen/CMakeLists.txt
llvm/lib/CodeGen/ISDOpcodes.cpp
llvm/lib/CodeGen/SelectionDAG/DAGCombiner.cpp
llvm/lib/CodeGen/SelectionDAG/SelectionDAG.cpp
llvm/lib/CodeGen/SelectionDAG/SelectionDAGBuilder.cpp
llvm/lib/CodeGen/SelectionDAG/SelectionDAGDumper.cpp
llvm/lib/IR/Function.cpp
llvm/lib/IR/MDBuilder.cpp
llvm/lib/Object/ELF.cpp
llvm/lib/Passes/PassBuilder.cpp
llvm/lib/Passes/PassRegistry.def
llvm/lib/Support/GraphWriter.cpp
llvm/lib/Target/Parasol/AnnotateEncryption.cpp
llvm/lib/Target/Parasol/AnnotateEncryption.h
llvm/lib/Target/Parasol/AsmParser/CMakeLists.txt
llvm/lib/Target/Parasol/AsmParser/ParasolAsmParser.cpp
llvm/lib/Target/Parasol/CMakeLists.txt
llvm/lib/Target/Parasol/Disassembler/CMakeLists.txt
llvm/lib/Target/Parasol/Disassembler/ParasolDisassembler.cpp
llvm/lib/Target/Parasol/GISel/ParasolCallLowering.cpp
llvm/lib/Target/Parasol/GISel/ParasolCallLowering.h
llvm/lib/Target/Parasol/GISel/ParasolInstructionSelector.cpp
llvm/lib/Target/Parasol/GISel/ParasolLegalizerInfo.cpp
llvm/lib/Target/Parasol/GISel/ParasolLegalizerInfo.h
llvm/lib/Target/Parasol/GISel/ParasolRegisterBankInfo.cpp
llvm/lib/Target/Parasol/GISel/ParasolRegisterBankInfo.h
llvm/lib/Target/Parasol/GISel/README.md
llvm/lib/Target/Parasol/LLVMBuild.txt
llvm/lib/Target/Parasol/MCTargetDesc/CMakeLists.txt
llvm/lib/Target/Parasol/MCTargetDesc/LLVMBuild.txt
llvm/lib/Target/Parasol/MCTargetDesc/ParasolAsmBackend.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolELFObjectWriter.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolInstPrinter.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolInstPrinter.h
llvm/lib/Target/Parasol/MCTargetDesc/ParasolMCAsmInfo.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolMCAsmInfo.h
llvm/lib/Target/Parasol/MCTargetDesc/ParasolMCCodeEmitter.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolMCTargetDesc.cpp
llvm/lib/Target/Parasol/MCTargetDesc/ParasolMCTargetDesc.h
llvm/lib/Target/Parasol/Parasol.h
llvm/lib/Target/Parasol/Parasol.td
llvm/lib/Target/Parasol/ParasolAsmPrinter.cpp
llvm/lib/Target/Parasol/ParasolCallingConv.td
llvm/lib/Target/Parasol/ParasolFrameLowering.cpp
llvm/lib/Target/Parasol/ParasolFrameLowering.h
llvm/lib/Target/Parasol/ParasolGenRegisterBankInfo.def
llvm/lib/Target/Parasol/ParasolISelDAGToDAG.cpp
llvm/lib/Target/Parasol/ParasolISelDAGToDAG.h
llvm/lib/Target/Parasol/ParasolISelLowering.cpp
llvm/lib/Target/Parasol/ParasolISelLowering.h
llvm/lib/Target/Parasol/ParasolInstrFormats.td
llvm/lib/Target/Parasol/ParasolInstrInfo.cpp
llvm/lib/Target/Parasol/ParasolInstrInfo.h
llvm/lib/Target/Parasol/ParasolInstrInfo.td
llvm/lib/Target/Parasol/ParasolMachineFunction.h
llvm/lib/Target/Parasol/ParasolRegisterBanks.td
llvm/lib/Target/Parasol/ParasolRegisterInfo.cpp
llvm/lib/Target/Parasol/ParasolRegisterInfo.h
llvm/lib/Target/Parasol/ParasolRegisterInfo.td
llvm/lib/Target/Parasol/ParasolSchedule.td
llvm/lib/Target/Parasol/ParasolSubtarget.cpp
llvm/lib/Target/Parasol/ParasolSubtarget.h
llvm/lib/Target/Parasol/ParasolTargetLowering.cpp
llvm/lib/Target/Parasol/ParasolTargetMachine.cpp
llvm/lib/Target/Parasol/ParasolTargetMachine.h
llvm/lib/Target/Parasol/ParasolTargetObjectFile.cpp
llvm/lib/Target/Parasol/ParasolTargetObjectFile.h
llvm/lib/Target/Parasol/TargetInfo/CMakeLists.txt
llvm/lib/Target/Parasol/TargetInfo/LLVMBuild.txt
llvm/lib/Target/Parasol/TargetInfo/ParasolTargetInfo.cpp
llvm/lib/Target/Parasol/TargetInfo/ParasolTargetInfo.h
llvm/lib/TargetParser/Triple.cpp
llvm/lib/Transforms/Scalar/CMakeLists.txt
llvm/lib/Transforms/Scalar/EncryptedBranchLinearization.cpp
llvm/lib/Transforms/Scalar/FheCircuitFixup.cpp
llvm/lib/Transforms/Utils/CodeExtractor.cpp
llvm/test/CodeGen/Parasol/GlobalISel/add.ll
llvm/test/CodeGen/Parasol/GlobalISel/void.ll
llvm/utils/gn/secondary/llvm/include/llvm/Config/BUILD.gn
llvm/utils/gn/secondary/llvm/lib/Target/targets.gni
utils/bazel/llvm_configs/llvm-config.h.cmake
